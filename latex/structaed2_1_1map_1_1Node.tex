\hypertarget{structaed2_1_1map_1_1Node}{\subsection{\-Referencia de la \-Estructura aed2\-:\-:map$<$ \-Key, \-Meaning, \-Compare $>$\-:\-:\-Node}
\label{structaed2_1_1map_1_1Node}\index{aed2\-::map$<$ Key, Meaning, Compare $>$\-::\-Node@{aed2\-::map$<$ Key, Meaning, Compare $>$\-::\-Node}}
}


\-Estructura (privada) de un nodo del árbol red-\/black.  


\subsubsection*{\-Métodos públicos}
\begin{DoxyCompactItemize}
\item 
virtual \hyperlink{structaed2_1_1map_1_1Node_a4f3cb2cc4302fe96432e624ced147540_a4f3cb2cc4302fe96432e624ced147540}{$\sim$\-Node} ()
\begin{DoxyCompactList}\small\item\em \-Destructor de \hyperlink{structaed2_1_1map_1_1Node}{\-Node}. \end{DoxyCompactList}\item 
const \hyperlink{structaed2_1_1map_1_1Node}{\-Node} $\ast$ \hyperlink{structaed2_1_1map_1_1Node_a4d5263c74ea5f78025fea331267730ce_a4d5263c74ea5f78025fea331267730ce}{inmediato} (int dir) const 
\end{DoxyCompactItemize}
\begin{Indent}{\bf \-Creación de nodos (constructores)}\par
{\em \-Punteros a los hijos izquierdo (child\mbox{[}0\mbox{]}) y derecho (child\mbox{[}1\mbox{]})

\-Puntero al padre\-: garantiza insercion con puntero en \-O(1) amortizado e iteracion en \-O(1) memoria \-Color del nodo }\begin{DoxyCompactItemize}
\item 
\hyperlink{structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6_a9c1a600491066ce7eb669b1cb76d56c6}{\-Node} ()
\begin{DoxyCompactList}\small\item\em \-Constructor para crear el nodo header. \end{DoxyCompactList}\item 
\hyperlink{structaed2_1_1map_1_1Node_a62b5a42e88e219d53af8237a9ebedb6e_a62b5a42e88e219d53af8237a9ebedb6e}{\-Node} (\hyperlink{structaed2_1_1map_1_1Node}{\-Node} $\ast$p, \hyperlink{classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b_a6d62a415a4b9d320b30cada4ebcf9f5b}{\-Color} c=\-Color\-::\-Red)
\begin{DoxyCompactList}\small\item\em \-Constructor para nodos del arbol red-\/black, sin enlaces. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf \-Acceso a la información en los nodos}\par
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca_ae6cc4598a60dbab7120ffae58ebbadca}{is\-\_\-header} () const 
\begin{DoxyCompactList}\small\item\em \-Devuelve true si el nodo actual es el header de la estructura. \end{DoxyCompactList}\item 
value\-\_\-type \& \hyperlink{structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb_af4ada8e79dabb4849fc87de63d3970fb}{value} ()
\begin{DoxyCompactList}\small\item\em \-Devuelve el valor asociado a un nodo no cabecera. \end{DoxyCompactList}\item 
const value\-\_\-type \& \hyperlink{structaed2_1_1map_1_1Node_a747a33f40ad748d750372fe73aea0b32_a747a33f40ad748d750372fe73aea0b32}{value} () const 
\item 
const \-Key \& \hyperlink{structaed2_1_1map_1_1Node_a5451f8da0b7ad3582fab1decad5d09cb_a5451f8da0b7ad3582fab1decad5d09cb}{key} () const 
\begin{DoxyCompactList}\small\item\em \-Devuelve la clave del valor de un nodo no cabecera. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}


\subsubsection{\-Descripción detallada}
\subsubsection*{template$<$class \-Key, class \-Meaning, class \-Compare = std\-::less$<$\-Key$>$$>$struct aed2\-::map$<$ Key, Meaning, Compare $>$\-::\-Node}

\-Estructura (privada) de un nodo del árbol red-\/black. 

\-Tal como sugiere \-Cormen et al. \cite{CormenLeisersonRivestStein2009}, como se implementa en gcc, y cómo explicamos en \hyperlink{Implementacion}{\-Implementación del árbol red-\/black}, el arbol tiene dos tipos de nodos. \-Aquellos que tienen un valor e implementan el árbol y aquellos que se usan como sentinelas. \-La estructura \hyperlink{structaed2_1_1map_1_1Node}{\-Node} es la base para representar a ambos tipos de nodos, ya que omite los valores. \-La clase \hyperlink{structaed2_1_1map_1_1InnerNode}{aed2\-::map\-::\-Inner\-Node}, que hereda de \hyperlink{structaed2_1_1map_1_1Node}{\-Node}, extiende la representación incluyendo el valor.

\-Además de definir los campos de la estructura de un nodo, esta clase podría usarse para implementar una especie de submodulo que incluya funciones para manipular el arbol red-\/black. \-Las funciones incluidas en esta estructura deberían ser aquellas que, si bien no requieren conocer el resto de la estructura red-\/black, explotan el conocimiento de que el árbol red-\/black tiene un único nodo sentinela que sirve de cabecera. (\-Ver ejemplos)

\begin{DoxyRemark}{\-Comentarios}
\-Como \hyperlink{structaed2_1_1map_1_1Node}{\-Node} es una estructura privada, no tiene ventajas imporantes implementarla en forma modular. 
\end{DoxyRemark}


\-Definición en la línea \hyperlink{map_8h_source_l02076}{2076} del archivo \hyperlink{map_8h_source}{map.\-h}.



\subsubsection{\-Documentación del constructor y destructor}
\hypertarget{structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6_a9c1a600491066ce7eb669b1cb76d56c6}{\index{aed2\-::map\-::\-Node@{aed2\-::map\-::\-Node}!\-Node@{\-Node}}
\index{\-Node@{\-Node}!aed2::map::Node@{aed2\-::map\-::\-Node}}
\paragraph[{\-Node}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-Key, class \-Meaning, class \-Compare = std\-::less$<$\-Key$>$$>$ {\bf aed2\-::map}$<$ \-Key, \-Meaning, \-Compare $>$\-::{\bf \-Node\-::\-Node} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}\label{structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6_a9c1a600491066ce7eb669b1cb76d56c6}


\-Constructor para crear el nodo header. 

\-Construye un nodo con color \-Header y cuyos hijos apuntan al nodo creado. \-Esta es la definicion del nodo cabecera cuando el arbol está vacío.


\begin{DoxyDescription}
\item[\-Complejidad \-Temporal]$O$(1)
\end{DoxyDescription}

\-Definición en la línea \hyperlink{map_8h_source_l02096}{2096} del archivo \hyperlink{map_8h_source}{map.\-h}.

\hypertarget{structaed2_1_1map_1_1Node_a62b5a42e88e219d53af8237a9ebedb6e_a62b5a42e88e219d53af8237a9ebedb6e}{\index{aed2\-::map\-::\-Node@{aed2\-::map\-::\-Node}!\-Node@{\-Node}}
\index{\-Node@{\-Node}!aed2::map::Node@{aed2\-::map\-::\-Node}}
\paragraph[{\-Node}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-Key, class \-Meaning, class \-Compare = std\-::less$<$\-Key$>$$>$ {\bf aed2\-::map}$<$ \-Key, \-Meaning, \-Compare $>$\-::{\bf \-Node\-::\-Node} (
\begin{DoxyParamCaption}
\item[{{\bf \-Node} $\ast$}]{p, }
\item[{{\bf \-Color}}]{c = {\ttfamily \-Color\-:\-:\-Red}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}\label{structaed2_1_1map_1_1Node_a62b5a42e88e219d53af8237a9ebedb6e_a62b5a42e88e219d53af8237a9ebedb6e}


\-Constructor para nodos del arbol red-\/black, sin enlaces. 

\-Crea un nodo con padre {\bfseries p}, color {\bfseries c} y sin hijos.


\begin{DoxyParams}{\-Parámetros}
{\em p} & puntero al padre \\
\hline
{\em c} & color del nodo\\
\hline
\end{DoxyParams}

\begin{DoxyDescription}
\item[\-Complejidad \-Temporal]$O$(1)
\end{DoxyDescription}

\-Definición en la línea \hyperlink{map_8h_source_l02110}{2110} del archivo \hyperlink{map_8h_source}{map.\-h}.

\hypertarget{structaed2_1_1map_1_1Node_a4f3cb2cc4302fe96432e624ced147540_a4f3cb2cc4302fe96432e624ced147540}{\index{aed2\-::map\-::\-Node@{aed2\-::map\-::\-Node}!$\sim$\-Node@{$\sim$\-Node}}
\index{$\sim$\-Node@{$\sim$\-Node}!aed2::map::Node@{aed2\-::map\-::\-Node}}
\paragraph[{$\sim$\-Node}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-Key, class \-Meaning, class \-Compare = std\-::less$<$\-Key$>$$>$ virtual {\bf aed2\-::map}$<$ \-Key, \-Meaning, \-Compare $>$\-::{\bf \-Node\-::$\sim$\-Node} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}\label{structaed2_1_1map_1_1Node_a4f3cb2cc4302fe96432e624ced147540_a4f3cb2cc4302fe96432e624ced147540}


\-Destructor de \hyperlink{structaed2_1_1map_1_1Node}{\-Node}. 

\-Como \hyperlink{structaed2_1_1map_1_1Node}{\-Node} funciona de clase base, el destructor es virtual, asi se puede invocar delete de un \-Node$\ast$ que apunta a un \hyperlink{structaed2_1_1map_1_1InnerNode}{\-Inner\-Node}, destruyendo el valor contenido en el \hyperlink{structaed2_1_1map_1_1InnerNode}{\-Inner\-Node}.

\begin{DoxyRemark}{\-Comentarios}
\-En rigor, nunca deberíamos invocar new \hyperlink{structaed2_1_1map_1_1Node}{\-Node}, asi que no tiene sentido hacer delete de un \-Node$\ast$. \-Podemos evitar esta invocación poniendo el destructor como protegido y no virtual. \-De esa forma, nos obliga a tener un \-Inner\-Node$\ast$ para el delete, lo cual efectivamente llama al destructor del valor. \-Sin embargo, por simplicidad, vamos a permitir que el destructor sea virtual. \-Además, así no es necesario que hagan el `static\-\_\-cast` y evitamos errores de memoria difíciles de debugguear. 
\end{DoxyRemark}


\-Definición en la línea \hyperlink{map_8h_source_l02131}{2131} del archivo \hyperlink{map_8h_source}{map.\-h}.



\subsubsection{\-Documentación de las funciones miembro}
\hypertarget{structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca_ae6cc4598a60dbab7120ffae58ebbadca}{\index{aed2\-::map\-::\-Node@{aed2\-::map\-::\-Node}!is\-\_\-header@{is\-\_\-header}}
\index{is\-\_\-header@{is\-\_\-header}!aed2::map::Node@{aed2\-::map\-::\-Node}}
\paragraph[{is\-\_\-header}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-Key, class \-Meaning, class \-Compare = std\-::less$<$\-Key$>$$>$ bool {\bf aed2\-::map}$<$ \-Key, \-Meaning, \-Compare $>$\-::{\bf \-Node\-::is\-\_\-header} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}\label{structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca_ae6cc4598a60dbab7120ffae58ebbadca}


\-Devuelve true si el nodo actual es el header de la estructura. 

\begin{DoxyRemark}{\-Comentarios}
\-Vale destacar que hay exactamente dos nodos n con n-\/$>$parent-\/$>$parent = \&n\-: la cabecera y la raíz. \-En la implementación del árbol red-\/black de \-G\-C\-C, el nodo cabecera tiene color \-Rojo. \-De esta forma, se puede distinguir la cabecera de la raíz, que siempre es negra. \-Para ello, alcanza con verificar que `color == \-Color\-::\-Red and (parent == nullptr or parent-\/$>$parent = this)`. \-Sin embargo, esta condicion también podría ser satisfecha por la raíz algún `fixup`. \-Por simplicidad, y para evitar bugs, acá tomamos como solucion que el header tiene un color particular, llamado \-Color\-::\-Header. \-Si bien se necesita mas de un bit para el color, lo cierto es que ningun procesador admite direccionamiento a bit, asi que no se pierde nada en la practica. \-El objetivo de esta función es poder reemplazar el chequeo de la condición para determinar si el nodo es la cabecera, en caso en que queramos evitar el nuevo color.
\end{DoxyRemark}
\begin{DoxyReturn}{\-Devuelve}
true si el nodo actual tiene color aed2\-::map\-::\-Color\-::\-Header.
\end{DoxyReturn}

\begin{DoxyDescription}
\item[\-Complejidad \-Temporal]$O$(1)
\end{DoxyDescription}

\-Definición en la línea \hyperlink{map_8h_source_l02155}{2155} del archivo \hyperlink{map_8h_source}{map.\-h}.

\hypertarget{structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb_af4ada8e79dabb4849fc87de63d3970fb}{\index{aed2\-::map\-::\-Node@{aed2\-::map\-::\-Node}!value@{value}}
\index{value@{value}!aed2::map::Node@{aed2\-::map\-::\-Node}}
\paragraph[{value}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-Key, class \-Meaning, class \-Compare = std\-::less$<$\-Key$>$$>$ value\-\_\-type\& {\bf aed2\-::map}$<$ \-Key, \-Meaning, \-Compare $>$\-::{\bf \-Node\-::value} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}\label{structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb_af4ada8e79dabb4849fc87de63d3970fb}


\-Devuelve el valor asociado a un nodo no cabecera. 

\-Esta funcion es un shortcut para acceder al valor de un nodo no centinela. \-Recordar que dicho valor no está definido para la cabecera.

\begin{DoxyReturn}{\-Devuelve}
valor asociado al nodo.
\end{DoxyReturn}
\begin{DoxyPrecond}{\-Precondición}
{\bfseries this} no es el nodo cabecera (y por ende su tipo es \hyperlink{structaed2_1_1map_1_1InnerNode}{\-Inner\-Node})
\end{DoxyPrecond}

\begin{DoxyDescription}
\item[\-Complejidad \-Temporal]$O$(1)
\end{DoxyDescription}

\-Definición en la línea \hyperlink{map_8h_source_l02171}{2171} del archivo \hyperlink{map_8h_source}{map.\-h}.

\hypertarget{structaed2_1_1map_1_1Node_a747a33f40ad748d750372fe73aea0b32_a747a33f40ad748d750372fe73aea0b32}{\index{aed2\-::map\-::\-Node@{aed2\-::map\-::\-Node}!value@{value}}
\index{value@{value}!aed2::map::Node@{aed2\-::map\-::\-Node}}
\paragraph[{value}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-Key, class \-Meaning, class \-Compare = std\-::less$<$\-Key$>$$>$ const value\-\_\-type\& {\bf aed2\-::map}$<$ \-Key, \-Meaning, \-Compare $>$\-::{\bf \-Node\-::value} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}\label{structaed2_1_1map_1_1Node_a747a33f40ad748d750372fe73aea0b32_a747a33f40ad748d750372fe73aea0b32}
\-Esta es una función miembro sobrecargada que se suministra por conveniencia. \-Difiere de la anterior función solamente en los argumentos que acepta. 

\-Definición en la línea \hyperlink{map_8h_source_l02177}{2177} del archivo \hyperlink{map_8h_source}{map.\-h}.

\hypertarget{structaed2_1_1map_1_1Node_a5451f8da0b7ad3582fab1decad5d09cb_a5451f8da0b7ad3582fab1decad5d09cb}{\index{aed2\-::map\-::\-Node@{aed2\-::map\-::\-Node}!key@{key}}
\index{key@{key}!aed2::map::Node@{aed2\-::map\-::\-Node}}
\paragraph[{key}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-Key, class \-Meaning, class \-Compare = std\-::less$<$\-Key$>$$>$ const \-Key\& {\bf aed2\-::map}$<$ \-Key, \-Meaning, \-Compare $>$\-::{\bf \-Node\-::key} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}\label{structaed2_1_1map_1_1Node_a5451f8da0b7ad3582fab1decad5d09cb_a5451f8da0b7ad3582fab1decad5d09cb}


\-Devuelve la clave del valor de un nodo no cabecera. 

\-Esta funcion es un shortcut para acceder a la clave de un nodo no centinela. \-Recordar que dicha clave no está definida para la cabecera.

\begin{DoxyReturn}{\-Devuelve}
clave del valor asociado al nodo.
\end{DoxyReturn}
\begin{DoxyPrecond}{\-Precondición}
{\bfseries this} no es el nodo cabecera (y por ende su tipo es \hyperlink{structaed2_1_1map_1_1InnerNode}{\-Inner\-Node})
\end{DoxyPrecond}

\begin{DoxyDescription}
\item[\-Complejidad \-Temporal]$O$(1)
\end{DoxyDescription}

\-Definición en la línea \hyperlink{map_8h_source_l02194}{2194} del archivo \hyperlink{map_8h_source}{map.\-h}.

\hypertarget{structaed2_1_1map_1_1Node_a4d5263c74ea5f78025fea331267730ce_a4d5263c74ea5f78025fea331267730ce}{\index{aed2\-::map\-::\-Node@{aed2\-::map\-::\-Node}!inmediato@{inmediato}}
\index{inmediato@{inmediato}!aed2::map::Node@{aed2\-::map\-::\-Node}}
\paragraph[{inmediato}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-Key, class \-Meaning, class \-Compare = std\-::less$<$\-Key$>$$>$ const {\bf \-Node}$\ast$ {\bf aed2\-::map}$<$ \-Key, \-Meaning, \-Compare $>$\-::{\bf \-Node\-::inmediato} (
\begin{DoxyParamCaption}
\item[{int}]{dir}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}\label{structaed2_1_1map_1_1Node_a4d5263c74ea5f78025fea331267730ce_a4d5263c74ea5f78025fea331267730ce}
\-C\-O\-M\-P\-L\-E\-T\-A\-R \-C\-O\-M\-P\-L\-E\-J\-I\-D\-A\-D \-La funcion inmediato devuelve el predecesor con dir = 0 y el sucesor inmediato dir = 1. \-En el primer caso se verifica si this esta parado en header, ya que para buscar el predecesor en ese caso debe simplemente ir a su hijo derecho. \-Si no, this esta sobre un nodo interno y quedan dos casos\-: \-Si el child\mbox{[}dir\mbox{]} de this existe, el inmediato es el ultimo child\mbox{[}1-\/dir\mbox{]} de este. \-Si no, el inmediato se encuentra con un nodo indice que sube hacia el header hasta encontrarse el primer nodo en el que el indice sea su child\mbox{[}1-\/dir\mbox{]}. \-Notar que esta funcion incluye el caso en el inmediato es el header. 

\-Definición en la línea \hyperlink{map_8h_source_l02213}{2213} del archivo \hyperlink{map_8h_source}{map.\-h}.



\-La documentación para esta estructura fue generada a partir del siguiente fichero\-:\begin{DoxyCompactItemize}
\item 
\hyperlink{map_8h}{map.\-h}\end{DoxyCompactItemize}
