\hypertarget{map_8h_source}{\subsection{map.\-h}
}

\begin{DoxyCode}
00001 
00701 \textcolor{preprocessor}{#ifndef MAP\_H\_}
00702 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define MAP\_H\_}
00703 \textcolor{preprocessor}{}
00704 \textcolor{preprocessor}{#include <functional>}
00705 \textcolor{preprocessor}{#include <iterator>}
00706 \textcolor{preprocessor}{#include <utility>}
00707 \textcolor{preprocessor}{#include <cassert>}
00708 \textcolor{preprocessor}{#include <algorithm>}
00709 \textcolor{preprocessor}{#include <iostream>}
00710 
00711 \textcolor{preprocessor}{#ifdef DEBUG}
00712 \textcolor{preprocessor}{}\textcolor{comment}{//Aca se puede incluir cualquier cosa que consideren que necesitan para debug}
00713 \textcolor{comment}{//#include <iostream>}
00714 \textcolor{comment}{//#include <iomanip>}
00715 \textcolor{preprocessor}{#endif}
00716 \textcolor{preprocessor}{}
\hypertarget{map_8h_source_l00724}{}\hyperlink{namespaceaed2}{00724} \textcolor{keyword}{namespace }aed2\{
00725 
00794 \textcolor{keyword}{template}<
00795   \textcolor{keyword}{class }Key,
00796   \textcolor{keyword}{class }Meaning,
00797   \textcolor{keyword}{class }Compare = std::less<Key>
00798 >
\hypertarget{map_8h_source_l00799}{}\hyperlink{classaed2_1_1map}{00799} \textcolor{keyword}{class }\hyperlink{classaed2_1_1map}{map} \{
00800     \textcolor{comment}{//forward declarations (innecesario, pero ayuda al analizador semantico de
       Eclipse)}
00801     \textcolor{keyword}{class }\hyperlink{structaed2_1_1map_1_1Node}{Node};
00802     \textcolor{keyword}{class }\hyperlink{structaed2_1_1map_1_1InnerNode}{InnerNode};
00803 \textcolor{keyword}{public}:
00804     \textcolor{comment}{//forward declarations}
00805     \textcolor{keyword}{class }\hyperlink{classaed2_1_1map_1_1iterator}{iterator};
00806     \textcolor{keyword}{class }\hyperlink{classaed2_1_1map_1_1const__iterator}{const_iterator};
00807 
00811     \textcolor{keyword}{using} key\_type = Key;
00815     \textcolor{keyword}{using} mapped\_type = Meaning;
00819     \textcolor{keyword}{using} value\_type = std::pair<const Key, Meaning>;
00823     \textcolor{keyword}{using} key\_compare = Compare;
00827     \textcolor{keyword}{using} reference = value\_type&;
00831     \textcolor{keyword}{using} const\_reference = \textcolor{keyword}{const} value\_type&;
00835     \textcolor{keyword}{using} pointer = value\_type*;
00839     \textcolor{keyword}{using} const\_pointer = \textcolor{keyword}{const} value\_type*;
00843     \textcolor{keyword}{using} size\_type = std::size\_t;
00847     \textcolor{keyword}{using} difference\_type = std::ptrdiff\_t;
00848 
00859     \textcolor{keyword}{using} reverse\_iterator = std::reverse\_iterator<iterator>;
00860 
00871     \textcolor{keyword}{using} const\_reverse\_iterator = std::reverse\_iterator<const\_iterator>;
00872 
00874 
00875 
00876 
00877 
\hypertarget{map_8h_source_l00891}{}\hyperlink{classaed2_1_1map_a64da1d965b13eb28cdb3837bc17a18cf_a64da1d965b13eb28cdb3837bc17a18cf}{00891}     \textcolor{keyword}{explicit} \hyperlink{classaed2_1_1map_a64da1d965b13eb28cdb3837bc17a18cf_a64da1d965b13eb28cdb3837bc17a18cf}{map}(Compare c = Compare()) : \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}(), count(0), \hyperlink{classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a_a0e5be36fae0693e4665bd2a615e7550a}{lt}(c) \{\}
00892 
\hypertarget{map_8h_source_l00911}{}\hyperlink{classaed2_1_1map_a7a77950a3d8e637bfa7cf5dcd904f257_a7a77950a3d8e637bfa7cf5dcd904f257}{00911}     \hyperlink{classaed2_1_1map_a7a77950a3d8e637bfa7cf5dcd904f257_a7a77950a3d8e637bfa7cf5dcd904f257}{map}(\textcolor{keyword}{const} \hyperlink{classaed2_1_1map}{map}& other) : \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}(), count(0), \hyperlink{classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a_a0e5be36fae0693e4665bd2a615e7550a}{lt}(other.\hyperlink{classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a_a0e5be36fae0693e4665bd2a615e7550a}{lt}) \{
00912         \textcolor{keywordflow}{if} (not other.\hyperlink{classaed2_1_1map_af5320ca0a7df4d16015441d5d055a7ee_af5320ca0a7df4d16015441d5d055a7ee}{empty}()) \{
00913             \textcolor{keyword}{auto} it\_other = iterator(other.\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[1]);
00914             iterator it = \hyperlink{classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983_a76023e6a56cb625513e1b5ea028bf983}{end}();
00915             \textcolor{keywordflow}{while} ((it\_other) != other.\hyperlink{classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983_a76023e6a56cb625513e1b5ea028bf983}{end}()) \{
00916                 it = \hyperlink{classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4_a4b4f1e65ee9aeccee4046d53fd5fd8a4}{insert_rapido}(it, *it\_other);
00917                 it\_other--;
00918             \}
00919         \}
00920     \}
00921 
00965     \textcolor{keyword}{template}<\textcolor{keyword}{class} iterator>
\hypertarget{map_8h_source_l00966}{}\hyperlink{classaed2_1_1map_a5d336f3248572beb56be383dcc95cfeb_a5d336f3248572beb56be383dcc95cfeb}{00966}     \hyperlink{classaed2_1_1map_a5d336f3248572beb56be383dcc95cfeb_a5d336f3248572beb56be383dcc95cfeb}{map}(iterator first, iterator last, Compare c = Compare()) : \hyperlink{classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a_a0e5be36fae0693e4665bd2a615e7550a}{lt}(c) \{
00967         \textcolor{keyword}{auto} it = \hyperlink{classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983_a76023e6a56cb625513e1b5ea028bf983}{end}();
00968         \textcolor{keywordflow}{while} (first != last) \{
00969             \hyperlink{classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8_a60aacba06b1579630b3c8e996cf248c8}{insert}(it, *first);
00970             ++first;
00971         \}
00972     \}
00973 
\hypertarget{map_8h_source_l00989}{}\hyperlink{classaed2_1_1map_ac606d334809066929522964d45e76317_ac606d334809066929522964d45e76317}{00989}     \hyperlink{classaed2_1_1map}{map}& \hyperlink{classaed2_1_1map_ac606d334809066929522964d45e76317_ac606d334809066929522964d45e76317}{operator=}(\hyperlink{classaed2_1_1map}{map} other) \{
00990         \hyperlink{classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a_a43ddb71cc91e5c6021a7a1f243d6cc4a}{swap}(\textcolor{keyword}{this}, other);
00991         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00992     \}
00993 
\hypertarget{map_8h_source_l01014}{}\hyperlink{classaed2_1_1map_ab22c9a85c2dadbc286cd30e97069a8e6_ab22c9a85c2dadbc286cd30e97069a8e6}{01014}     \hyperlink{classaed2_1_1map_ab22c9a85c2dadbc286cd30e97069a8e6_ab22c9a85c2dadbc286cd30e97069a8e6}{~map}() \{
01015         \hyperlink{classaed2_1_1map_a2bfa5165825979bf2431db55bc6bc9ca_a2bfa5165825979bf2431db55bc6bc9ca}{clear}();
01016     \}
01017 
01019 
01021 
01022 
01023 
01024 
\hypertarget{map_8h_source_l01045}{}\hyperlink{classaed2_1_1map_a0b0a11f906da2926f9eb342fcee79fd7_a0b0a11f906da2926f9eb342fcee79fd7}{01045}     \textcolor{keyword}{const} Meaning& \hyperlink{classaed2_1_1map_a0b0a11f906da2926f9eb342fcee79fd7_a0b0a11f906da2926f9eb342fcee79fd7}{at}(\textcolor{keyword}{const} Key& key)\textcolor{keyword}{ const }\{
01046         \textcolor{keywordflow}{return} \hyperlink{classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8_afd0fc1a8234888e61e0e615de7e245b8}{find}(key)->second;
01047     \}
01048 
\hypertarget{map_8h_source_l01050}{}\hyperlink{classaed2_1_1map_a6b21c09f59a83b6ee45432dcfa61f4a1_a6b21c09f59a83b6ee45432dcfa61f4a1}{01050}     Meaning& \hyperlink{classaed2_1_1map_a6b21c09f59a83b6ee45432dcfa61f4a1_a6b21c09f59a83b6ee45432dcfa61f4a1}{at}(\textcolor{keyword}{const} Key& key) \{
01051         \textcolor{keywordflow}{return} \hyperlink{classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8_afd0fc1a8234888e61e0e615de7e245b8}{find}(key)->second;
01052     \}
01053 
\hypertarget{map_8h_source_l01094}{}\hyperlink{classaed2_1_1map_a96f23896164ab47bee48c26b803f9801_a96f23896164ab47bee48c26b803f9801}{01094}     Meaning& \hyperlink{classaed2_1_1map_a96f23896164ab47bee48c26b803f9801_a96f23896164ab47bee48c26b803f9801}{operator[]}(\textcolor{keyword}{const} Key& key) \{
01095         iterator it = \hyperlink{classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f_a3399d36fdd5a880b494f3a5795d3f18f}{lower_bound}(key);
01096         \textcolor{keywordflow}{if} (not it.n->is\_header() && \hyperlink{classaed2_1_1map_ab45cb28bb215cd229383d88b96b3f624_ab45cb28bb215cd229383d88b96b3f624}{eq}(it.n->value().first, key))
01097             \textcolor{keywordflow}{return} it.n->value().second;
01098         \hyperlink{classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4_a4b4f1e65ee9aeccee4046d53fd5fd8a4}{insert_rapido}(it, value\_type(key, Meaning()));
01099         \textcolor{keywordflow}{return} \hyperlink{classaed2_1_1map_a0b0a11f906da2926f9eb342fcee79fd7_a0b0a11f906da2926f9eb342fcee79fd7}{at}(key);
01100     \}
01101 
\hypertarget{map_8h_source_l01128}{}\hyperlink{classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8_afd0fc1a8234888e61e0e615de7e245b8}{01128}     iterator \hyperlink{classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8_afd0fc1a8234888e61e0e615de7e245b8}{find}(\textcolor{keyword}{const} Key& key) \{
01129         \textcolor{keyword}{auto} r = \textcolor{keyword}{const\_cast<}\textcolor{keyword}{const }\hyperlink{classaed2_1_1map}{map}*\textcolor{keyword}{>}(\textcolor{keyword}{this})->\hyperlink{classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8_afd0fc1a8234888e61e0e615de7e245b8}{find}(key);
01130         \textcolor{keywordflow}{return} iterator(const\_cast<Node*>(r.n));
01131     \}
01132 
\hypertarget{map_8h_source_l01134}{}\hyperlink{classaed2_1_1map_ab8f3e41b1a0d7b74645836f8d2e1acfc_ab8f3e41b1a0d7b74645836f8d2e1acfc}{01134}     const\_iterator \hyperlink{classaed2_1_1map_ab8f3e41b1a0d7b74645836f8d2e1acfc_ab8f3e41b1a0d7b74645836f8d2e1acfc}{find}(\textcolor{keyword}{const} Key& key)\textcolor{keyword}{ const }\{
01135         std::pair<const Node*, const Node*> res = \hyperlink{classaed2_1_1map_aa079b9390f988f97be26fd51ed44a2c9_aa079b9390f988f97be26fd51ed44a2c9}{bounds}(key);
01136         \textcolor{keywordflow}{if} (res.first == res.second)
01137             \textcolor{keywordflow}{return} const\_iterator(res.first);
01138         \textcolor{keywordflow}{else}
01139             \textcolor{keywordflow}{return} \hyperlink{classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983_a76023e6a56cb625513e1b5ea028bf983}{end}();
01140     \}
01141 
\hypertarget{map_8h_source_l01163}{}\hyperlink{classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f_a3399d36fdd5a880b494f3a5795d3f18f}{01163}     const\_iterator \hyperlink{classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f_a3399d36fdd5a880b494f3a5795d3f18f}{lower_bound}(\textcolor{keyword}{const} Key& key)\textcolor{keyword}{ const }\{
01164         \textcolor{keywordflow}{return} \hyperlink{classaed2_1_1map_aa079b9390f988f97be26fd51ed44a2c9_aa079b9390f988f97be26fd51ed44a2c9}{bounds}(key).second;
01165     \}
01166 
\hypertarget{map_8h_source_l01168}{}\hyperlink{classaed2_1_1map_a07b3dd65557c59ee085e5f211269c6b3_a07b3dd65557c59ee085e5f211269c6b3}{01168}     iterator \hyperlink{classaed2_1_1map_a07b3dd65557c59ee085e5f211269c6b3_a07b3dd65557c59ee085e5f211269c6b3}{lower_bound}(\textcolor{keyword}{const} Key& key)  \{
01169         \textcolor{keywordflow}{return} \hyperlink{classaed2_1_1map_aa079b9390f988f97be26fd51ed44a2c9_aa079b9390f988f97be26fd51ed44a2c9}{bounds}(key).second;
01170     \}
01172 
01174 
01175 
01176 
01177 
\hypertarget{map_8h_source_l01187}{}\hyperlink{classaed2_1_1map_af5320ca0a7df4d16015441d5d055a7ee_af5320ca0a7df4d16015441d5d055a7ee}{01187}     \textcolor{keywordtype}{bool} \hyperlink{classaed2_1_1map_af5320ca0a7df4d16015441d5d055a7ee_af5320ca0a7df4d16015441d5d055a7ee}{empty}()\textcolor{keyword}{ const }\{
01188         \textcolor{keywordflow}{return} (count == 0);
01189     \}
01190 
\hypertarget{map_8h_source_l01201}{}\hyperlink{classaed2_1_1map_a89f2613f926ac13293eafe65889d6021_a89f2613f926ac13293eafe65889d6021}{01201}     \textcolor{keywordtype}{size\_t} \hyperlink{classaed2_1_1map_a89f2613f926ac13293eafe65889d6021_a89f2613f926ac13293eafe65889d6021}{size}()\textcolor{keyword}{ const }\{
01202         \textcolor{keywordflow}{return} count;
01203     \}
01205 
01207 
01208 
01209 
01210 
01242     iterator \hyperlink{classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8_a60aacba06b1579630b3c8e996cf248c8}{insert}(\textcolor{keyword}{const} value\_type& value) \{
01243         iterator it = \hyperlink{classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f_a3399d36fdd5a880b494f3a5795d3f18f}{lower_bound}(value.first);
01244         \textcolor{keywordflow}{return} \hyperlink{classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8_a60aacba06b1579630b3c8e996cf248c8}{insert}(it, value);
01245     \}
01246 
01252     iterator \hyperlink{classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8_a60aacba06b1579630b3c8e996cf248c8}{insert}(const\_iterator hint, \textcolor{keyword}{const} value\_type& value) \{
01253         \textcolor{keywordflow}{if} (\hyperlink{classaed2_1_1map_a45b04533e9acf27438813ab4a2604443_a45b04533e9acf27438813ab4a2604443}{hintValido}(hint, value))
01254             \textcolor{keywordflow}{return} \hyperlink{classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4_a4b4f1e65ee9aeccee4046d53fd5fd8a4}{insert_rapido}(hint, value);
01255         \textcolor{keywordflow}{return} \hyperlink{classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4_a4b4f1e65ee9aeccee4046d53fd5fd8a4}{insert_rapido}(\hyperlink{classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f_a3399d36fdd5a880b494f3a5795d3f18f}{lower_bound}(value.first), value);
01256     \}
01257 
01262     \textcolor{keywordtype}{void} \hyperlink{classaed2_1_1map_ac9197851fe5b217d45d58bbaf3612c75_ac9197851fe5b217d45d58bbaf3612c75}{insert_fixup}(iterator it)\{
01263         Node* n = it.n;
01264         Node* y;
01265         \textcolor{keywordflow}{while} (n->parent->color == Color::Red) \{
01266             \textcolor{keyword}{auto} dir = n->parent == n->parent->parent->child[0];
01267             y = n->parent->parent->child[dir];
01268             \textcolor{keywordflow}{if} (y == \textcolor{keyword}{nullptr})
01269                 y = &\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header};
01270             \textcolor{keywordflow}{if} (y->color == Color::Red) \{
01271                 n->parent->color = Color::Black;
01272                 y->color = Color::Black;
01273                 n->parent->parent->color = Color::Red;
01274                 n = n->parent->parent;
01275             \} \textcolor{keywordflow}{else} \{
01276                 \textcolor{keywordflow}{if} (n == n->parent->child[dir]) \{
01277                     n = n->parent;
01278                     iterator it2 = iterator(n);
01279                     \hyperlink{classaed2_1_1map_a94f2862ada0c9ed4f4457eac42ea8f23_a94f2862ada0c9ed4f4457eac42ea8f23}{dir_rotate}(it2, 1 - dir);
01280                 \}
01281                     n->parent->color = Color::Black;
01282                     n->parent->parent->color = Color::Red;
01283                     iterator it3(n->parent->parent);
01284                     \hyperlink{classaed2_1_1map_a94f2862ada0c9ed4f4457eac42ea8f23_a94f2862ada0c9ed4f4457eac42ea8f23}{dir_rotate}(it3, dir);
01285             \}
01286         \}
01287         \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.parent->color = Color::Black;
01288     \}
01295     \textcolor{keywordtype}{void} \hyperlink{classaed2_1_1map_a94f2862ada0c9ed4f4457eac42ea8f23_a94f2862ada0c9ed4f4457eac42ea8f23}{dir_rotate}(iterator it, \textcolor{keywordtype}{int} dir)\{
01296         Node* n = it.n;
01297         Node* y = it.n->child[1-dir];
01298         n->child[1-dir] = y->child[dir];
01299         \textcolor{keywordflow}{if} (y->child[dir] != \textcolor{keyword}{nullptr})
01300             y->child[dir]->parent = n;
01301         y->parent = n->parent;
01302         \textcolor{keywordflow}{if}(n->parent->is\_header())
01303             \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.parent = y;
01304         \textcolor{keywordflow}{else} if (n == n->parent->child[dir])
01305             n->parent->child[dir] = y;
01306         \textcolor{keywordflow}{else}
01307             n->parent->child[1-dir] = y;
01308         y->child[dir] = n;
01309         n->parent = y;
01310     \}
01311 
01346     iterator \hyperlink{classaed2_1_1map_a2ef6723c183916276b0afc4a4c721475_a2ef6723c183916276b0afc4a4c721475}{insert_or_assign}(const\_iterator hint, \textcolor{keyword}{const} value\_type& value) \{
01347         const\_iterator indice = hint;
01348         iterator it;
01349         \textcolor{keywordflow}{if} (\hyperlink{classaed2_1_1map_a45b04533e9acf27438813ab4a2604443_a45b04533e9acf27438813ab4a2604443}{hintValido}(hint, value))
01350             it.n = \textcolor{keyword}{const\_cast<}Node*\textcolor{keyword}{>}(hint.n);
01351         \textcolor{keywordflow}{else}
01352             it = \hyperlink{classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f_a3399d36fdd5a880b494f3a5795d3f18f}{lower_bound}(value.first);
01353         \textcolor{keywordflow}{if} (not it.n->is\_header() && \hyperlink{classaed2_1_1map_ab45cb28bb215cd229383d88b96b3f624_ab45cb28bb215cd229383d88b96b3f624}{eq}(it.n->key(), value.first))
01354             it = \hyperlink{classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe_ad8e796bf9c9c558e5ce6b61e116253fe}{erase}(it);
01355         it = \hyperlink{classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4_a4b4f1e65ee9aeccee4046d53fd5fd8a4}{insert_rapido}(it, value);
01356         \textcolor{keywordflow}{return} it;
01357     \}
01358 
01361     iterator \hyperlink{classaed2_1_1map_a2ef6723c183916276b0afc4a4c721475_a2ef6723c183916276b0afc4a4c721475}{insert_or_assign}(\textcolor{keyword}{const} value\_type& value) \{
01362         iterator it = \hyperlink{classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f_a3399d36fdd5a880b494f3a5795d3f18f}{lower_bound}(value.first);
01363         \textcolor{keywordflow}{return} \hyperlink{classaed2_1_1map_a2ef6723c183916276b0afc4a4c721475_a2ef6723c183916276b0afc4a4c721475}{insert_or_assign}(it, value);
01364     \}
01365 
01390     iterator \hyperlink{classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe_ad8e796bf9c9c558e5ce6b61e116253fe}{erase}(const\_iterator pos) \{
01391         Node* z = \textcolor{keyword}{const\_cast<}Node*\textcolor{keyword}{>}(pos.n);
01392         Node* y = z;
01393         Node* x;
01394         \textcolor{keywordflow}{if} (pos.n == \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[0])\{
01395             \textcolor{keywordflow}{if} (count == 1)
01396                 \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[0] = &\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header};
01397             \textcolor{keywordflow}{else} \{
01398                 \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[0] = \textcolor{keyword}{const\_cast<}Node *\textcolor{keyword}{>}((++pos).n);
01399                 --pos;
01400             \}
01401         \}
01402         \textcolor{keywordflow}{if} (pos.n == \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[1]) \{
01403             \textcolor{keywordflow}{if} (count == 1)
01404                 \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[1] = &\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header};
01405             \textcolor{keywordflow}{else} \{
01406                 \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[1] = \textcolor{keyword}{const\_cast<}Node *\textcolor{keyword}{>}((--pos).n);
01407                 ++pos;
01408             \}
01409         \}
01410         iterator res = iterator(const\_cast<Node*>((++pos).n));
01411         \hyperlink{classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b_a6d62a415a4b9d320b30cada4ebcf9f5b}{Color} y\_colorcito = y->color;
01412         \textcolor{keywordflow}{if} (z->child[0] == \textcolor{keyword}{nullptr})\{
01413             x = z->child[1];
01414             \hyperlink{classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a_a98b9f200c64ce02dfb67902ee00e375a}{transplant}(z, z->child[1]);
01415         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (z->child[1] == \textcolor{keyword}{nullptr}) \{
01416             x = z->child[0];
01417             \hyperlink{classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a_a98b9f200c64ce02dfb67902ee00e375a}{transplant}(z, z->child[0]);
01418         \} \textcolor{keywordflow}{else} \{
01419             y = \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[0];
01420             y\_colorcito = y->color;
01421             x = y->child[1];
01422             \textcolor{keywordflow}{if} (y->parent == z)
01423                 x->parent = y;
01424             \textcolor{keywordflow}{else} \{
01425                 \hyperlink{classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a_a98b9f200c64ce02dfb67902ee00e375a}{transplant}(y, y->child[1]);
01426                 y->child[1] = z->child[1];
01427                 y->child[1]->parent = y;
01428             \}
01429             \hyperlink{classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a_a98b9f200c64ce02dfb67902ee00e375a}{transplant}(z, y);
01430             y->child[0] = z->child[0];
01431             y->child[0]->parent = y;
01432             y->color = z->color;
01433         \}
01434         count--;
01435         \textcolor{keywordflow}{if} (y\_colorcito == Color::Black && x != \textcolor{keyword}{nullptr})
01436             \hyperlink{classaed2_1_1map_a7870c8f26e82b00d0aeb2e9f331dfec6_a7870c8f26e82b00d0aeb2e9f331dfec6}{erase_fixup}(iterator(x));
01437         \textcolor{keyword}{delete} z;
01438         \textcolor{keywordflow}{return} res;
01439     \}
01440 
01444     \textcolor{keywordtype}{void} \hyperlink{classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a_a98b9f200c64ce02dfb67902ee00e375a}{transplant}(Node* u, Node* v)\{
01445         \textcolor{keywordflow}{if} (u->parent->is\_header())
01446             \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.parent = v;
01447         \textcolor{keywordflow}{else} if (u == u->parent->child[0])
01448             u->parent->child[0] = v;
01449         \textcolor{keywordflow}{else}
01450             u->parent->child[1] = v;
01451         \textcolor{keywordflow}{if} (v != \textcolor{keyword}{nullptr})
01452             v->parent = u->parent;
01453     \}
01454 
01462     \textcolor{keywordtype}{void} \hyperlink{classaed2_1_1map_a7870c8f26e82b00d0aeb2e9f331dfec6_a7870c8f26e82b00d0aeb2e9f331dfec6}{erase_fixup}(iterator it)\{
01463         Node* x = it.n;
01464         Node* w;
01465         \textcolor{keywordflow}{while} (x != \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.parent && x->color == Color::Black)\{
01466             \textcolor{keyword}{auto} dir = (x == x->parent->child[0]);
01467             w = x->parent->child[dir];
01468             \textcolor{keywordflow}{if} (w->color == Color::Red)\{
01469                 w->color = Color::Black;
01470                 x->parent->color = Color::Red;
01471                 it.n = x->parent;
01472                 \hyperlink{classaed2_1_1map_a94f2862ada0c9ed4f4457eac42ea8f23_a94f2862ada0c9ed4f4457eac42ea8f23}{dir_rotate}(it, 1-dir);
01473                 w = x->parent->child[dir];
01474             \}
01475             \textcolor{keywordflow}{if} (w->child[1-dir]->color == Color::Black && w->child[dir]->color 
      == Color::Black)\{
01476                 w->color = Color::Red;
01477                 x = x->parent;
01478             \} \textcolor{keywordflow}{else} \{
01479                 \textcolor{keywordflow}{if} (w->child[dir]->color == Color::Black)\{
01480                     w->child[1-dir]->color = Color::Black;
01481                     w->color = Color::Red;
01482                     \hyperlink{classaed2_1_1map_a94f2862ada0c9ed4f4457eac42ea8f23_a94f2862ada0c9ed4f4457eac42ea8f23}{dir_rotate}(iterator(w), dir);
01483                     w = x->parent->child[dir];
01484                 \}
01485                 w->color = x->parent->color;
01486                 x->parent->color = Color::Black;
01487                 w->child[dir]->color = Color::Black;
01488                 it.n = x->parent;
01489                 \hyperlink{classaed2_1_1map_a94f2862ada0c9ed4f4457eac42ea8f23_a94f2862ada0c9ed4f4457eac42ea8f23}{dir_rotate}(it, 1-dir);
01490                 x = \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.parent;
01491             \}
01492         \}
01493         x->color = Color::Black;
01494     \}
01495 
01508     \textcolor{keywordtype}{void} \hyperlink{classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe_ad8e796bf9c9c558e5ce6b61e116253fe}{erase}(\textcolor{keyword}{const} Key& key) \{
01509         iterator it = \hyperlink{classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8_afd0fc1a8234888e61e0e615de7e245b8}{find}(key);
01510         \hyperlink{classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe_ad8e796bf9c9c558e5ce6b61e116253fe}{erase}(it);
01511     \}
01512 
01524     \textcolor{keywordtype}{void} \hyperlink{classaed2_1_1map_a2bfa5165825979bf2431db55bc6bc9ca_a2bfa5165825979bf2431db55bc6bc9ca}{clear}() \{
01525         \textcolor{keywordflow}{while} (not \hyperlink{classaed2_1_1map_af5320ca0a7df4d16015441d5d055a7ee_af5320ca0a7df4d16015441d5d055a7ee}{empty}()) \{
01526             \hyperlink{classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe_ad8e796bf9c9c558e5ce6b61e116253fe}{erase}(\hyperlink{classaed2_1_1map_a58a95705d54b3dda7f775ce5a22225cb_a58a95705d54b3dda7f775ce5a22225cb}{begin}());
01527         \}
01528     \}
01529 
01553     \textcolor{keywordtype}{void} \hyperlink{classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a_a43ddb71cc91e5c6021a7a1f243d6cc4a}{swap}(\hyperlink{classaed2_1_1map_a64da1d965b13eb28cdb3837bc17a18cf_a64da1d965b13eb28cdb3837bc17a18cf}{map}& other) \{
01554         \textcolor{keyword}{using} \hyperlink{classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a_a43ddb71cc91e5c6021a7a1f243d6cc4a}{std::swap};
01555         \hyperlink{classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a_a43ddb71cc91e5c6021a7a1f243d6cc4a}{swap}(\hyperlink{classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a_a0e5be36fae0693e4665bd2a615e7550a}{lt}, other.lt);
01556         \hyperlink{classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a_a43ddb71cc91e5c6021a7a1f243d6cc4a}{swap}(count, other.count);
01557         \hyperlink{classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a_a43ddb71cc91e5c6021a7a1f243d6cc4a}{swap}(\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.parent, other.header.parent);
01558         \hyperlink{classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a_a43ddb71cc91e5c6021a7a1f243d6cc4a}{swap}(\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[0], other.header.child[0]);
01559         \hyperlink{classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a_a43ddb71cc91e5c6021a7a1f243d6cc4a}{swap}(\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[1], other.header.child[1]);
01560         \textcolor{keywordflow}{if}(\hyperlink{classaed2_1_1map_a07ab50eda249a57858a34037d4c4c7b2_a07ab50eda249a57858a34037d4c4c7b2}{root}() != \textcolor{keyword}{nullptr}) \hyperlink{classaed2_1_1map_a07ab50eda249a57858a34037d4c4c7b2_a07ab50eda249a57858a34037d4c4c7b2}{root}()->parent = &\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header};
01561         \textcolor{keywordflow}{if}(other.root() != \textcolor{keyword}{nullptr}) other.root()->parent = &other.header;
01562 
01563         \textcolor{comment}{//nota: cuando el arbol es vacio, los child de header apuntan a header.
        Notar que quedan apuntando mal despues del swap}
01564         \textcolor{keywordflow}{if}(\hyperlink{classaed2_1_1map_a07ab50eda249a57858a34037d4c4c7b2_a07ab50eda249a57858a34037d4c4c7b2}{root}() == \textcolor{keyword}{nullptr}) \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[0] = \hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[1] = &\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header};
01565         \textcolor{keywordflow}{if}(other.root() == \textcolor{keyword}{nullptr}) other.header.child[0] = other.header.child[
      1] = &other.header;
01566     \}
01568 
01570 
01571 
01572 
01573 
01585     iterator \hyperlink{classaed2_1_1map_a58a95705d54b3dda7f775ce5a22225cb_a58a95705d54b3dda7f775ce5a22225cb}{begin}() \{
01586         iterator it(\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[0]);
01587         \textcolor{keywordflow}{return} it;
\hypertarget{map_8h_source_l01588}{}\hyperlink{classaed2_1_1map_a1d10432d305bcb5f1af6ab7b75c27c1c_a1d10432d305bcb5f1af6ab7b75c27c1c}{01588}     \}
01589 
01591     const\_iterator \hyperlink{classaed2_1_1map_a58a95705d54b3dda7f775ce5a22225cb_a58a95705d54b3dda7f775ce5a22225cb}{begin}()\textcolor{keyword}{ const }\{
01592         const\_iterator it(\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[0]);
01593         \textcolor{keywordflow}{return} it;
\hypertarget{map_8h_source_l01594}{}\hyperlink{classaed2_1_1map_ab96ad892caa28f193481a578f4956a2a_ab96ad892caa28f193481a578f4956a2a}{01594}     \}
01595 
01597     const\_iterator \hyperlink{classaed2_1_1map_ab96ad892caa28f193481a578f4956a2a_ab96ad892caa28f193481a578f4956a2a}{cbegin}() \{
01598         const\_iterator it(\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[0]);
01599         \textcolor{keywordflow}{return} it;
01600     \}
01601 
01614     iterator \hyperlink{classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983_a76023e6a56cb625513e1b5ea028bf983}{end}() \{
01615         iterator it(&\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header});
01616         \textcolor{keywordflow}{return} it;
\hypertarget{map_8h_source_l01617}{}\hyperlink{classaed2_1_1map_a1f847ad4fd46883ac60d764967172179_a1f847ad4fd46883ac60d764967172179}{01617}     \}
01618 
01620     const\_iterator \hyperlink{classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983_a76023e6a56cb625513e1b5ea028bf983}{end}()\textcolor{keyword}{ const }\{
01621         const\_iterator it(&\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header});
01622         \textcolor{keywordflow}{return} it;
\hypertarget{map_8h_source_l01623}{}\hyperlink{classaed2_1_1map_a7bb91e94cbc875f1a011b142ef877912_a7bb91e94cbc875f1a011b142ef877912}{01623}     \}
01624 
01626     const\_iterator \hyperlink{classaed2_1_1map_a7bb91e94cbc875f1a011b142ef877912_a7bb91e94cbc875f1a011b142ef877912}{cend}() \{
01627         const\_iterator it(&\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header});
01628         \textcolor{keywordflow}{return} it;
01629     \}
01630 
01643     reverse\_iterator \hyperlink{classaed2_1_1map_ac412d3902112122c1bffe2d4283a4e9d_ac412d3902112122c1bffe2d4283a4e9d}{rbegin}() \{
01644         \textcolor{keywordflow}{return} reverse\_iterator(iterator(&\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}));
\hypertarget{map_8h_source_l01645}{}\hyperlink{classaed2_1_1map_aa68b6888ae3e256203d4ef273c293586_aa68b6888ae3e256203d4ef273c293586}{01645}     \}
01646 
01648     const\_reverse\_iterator \hyperlink{classaed2_1_1map_ac412d3902112122c1bffe2d4283a4e9d_ac412d3902112122c1bffe2d4283a4e9d}{rbegin}()\textcolor{keyword}{ const }\{
01649         \textcolor{keywordflow}{return} const\_reverse\_iterator(const\_iterator(&\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}));
01650 
\hypertarget{map_8h_source_l01651}{}\hyperlink{classaed2_1_1map_a6ad62765a2b2e00247b9e35a7542b448_a6ad62765a2b2e00247b9e35a7542b448}{01651}     \}
01652 
01654     const\_reverse\_iterator \hyperlink{classaed2_1_1map_a6ad62765a2b2e00247b9e35a7542b448_a6ad62765a2b2e00247b9e35a7542b448}{crbegin}() \{
01655         \textcolor{keywordflow}{return} const\_reverse\_iterator(const\_iterator(&\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}));
01656     \}
01657 
01670     reverse\_iterator \hyperlink{classaed2_1_1map_a277f03b4f4b6b98879e4e4921081801f_a277f03b4f4b6b98879e4e4921081801f}{rend}() \{
01671         \textcolor{keywordflow}{return} reverse\_iterator(iterator(\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[0]));
\hypertarget{map_8h_source_l01672}{}\hyperlink{classaed2_1_1map_aafce6e53c53c460897613747fec89f9d_aafce6e53c53c460897613747fec89f9d}{01672}     \}
01673 
01675     const\_reverse\_iterator \hyperlink{classaed2_1_1map_a277f03b4f4b6b98879e4e4921081801f_a277f03b4f4b6b98879e4e4921081801f}{rend}()\textcolor{keyword}{ const }\{
01676         \textcolor{keywordflow}{return} const\_reverse\_iterator(const\_iterator(\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[0]));
\hypertarget{map_8h_source_l01677}{}\hyperlink{classaed2_1_1map_a40933b2efe1cb479de9195ea947244d1_a40933b2efe1cb479de9195ea947244d1}{01677}     \}
01678 
01680     const\_reverse\_iterator \hyperlink{classaed2_1_1map_a40933b2efe1cb479de9195ea947244d1_a40933b2efe1cb479de9195ea947244d1}{crend}() \{
01681         \textcolor{keywordflow}{return} const\_reverse\_iterator(const\_iterator(\hyperlink{classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce_a92d93f905c8ad73fba18fdc7e8915cce}{header}.child[0]));
01682     \}
01684 
01714     \textcolor{keyword}{class }iterator \{
01715         \textcolor{keyword}{using} Node = \textcolor{keyword}{typename} map::Node;
01716         \textcolor{keyword}{using} InnerNode = \textcolor{keyword}{typename} map::InnerNode;
01717     \textcolor{keyword}{public}:
01718 
01720         \textcolor{keyword}{using} iterator\_category = std::bidirectional\_iterator\_tag;
01722         \textcolor{keyword}{using} value\_type = map::value\_type;
01724         \textcolor{keyword}{using} reference = map::reference;
01726         \textcolor{keyword}{using} pointer = map::pointer;
01728         \textcolor{keyword}{using} difference\_type = std::ptrdiff\_t;
01729 
01756         \hyperlink{classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba_acdd790eb54216601a2e0591776004dba}{iterator}() \{
01757             n = \textcolor{keyword}{nullptr};
01758         \}
01771         reference \hyperlink{classaed2_1_1map_1_1iterator_a48e75896997d516fe69bc18f889222fe_a48e75896997d516fe69bc18f889222fe}{operator*}()\textcolor{keyword}{ const }\{
01772             \textcolor{keywordflow}{return} n->value();
01773         \}
01789         pointer \hyperlink{classaed2_1_1map_1_1iterator_a227de3b56a6ff2e6bb6de2d08277ca60_a227de3b56a6ff2e6bb6de2d08277ca60}{operator->}()\textcolor{keyword}{ const }\{
01790             \textcolor{keywordflow}{return} &n->value();
01791         \}
01807         \hyperlink{classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba_acdd790eb54216601a2e0591776004dba}{iterator}& \hyperlink{classaed2_1_1map_1_1iterator_a7c44de7f0508186e135ddbcfe782fec5_a7c44de7f0508186e135ddbcfe782fec5}{operator++}() \{
01808             n = \textcolor{keyword}{const\_cast<}Node*\textcolor{keyword}{>}(n->inmediato(1));
01809             \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
01810         \}
01826         \hyperlink{classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba_acdd790eb54216601a2e0591776004dba}{iterator} \hyperlink{classaed2_1_1map_1_1iterator_a7c44de7f0508186e135ddbcfe782fec5_a7c44de7f0508186e135ddbcfe782fec5}{operator++}(\textcolor{keywordtype}{int}) \{
01827             \hyperlink{classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba_acdd790eb54216601a2e0591776004dba}{iterator} it = \hyperlink{classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba_acdd790eb54216601a2e0591776004dba}{iterator}(n);
01828             n = \textcolor{keyword}{const\_cast<}Node*\textcolor{keyword}{>}(n->inmediato(1));
01829             \textcolor{keywordflow}{return} it;
01830         \}
01846         \hyperlink{classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba_acdd790eb54216601a2e0591776004dba}{iterator}& \hyperlink{classaed2_1_1map_1_1iterator_ae7f70f71545d2a9de17b65edaaec748a_ae7f70f71545d2a9de17b65edaaec748a}{operator--}() \{
01847             n = \textcolor{keyword}{const\_cast<}Node*\textcolor{keyword}{>}(n->inmediato(0));
01848             \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
01849         \}
01865         \hyperlink{classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba_acdd790eb54216601a2e0591776004dba}{iterator} \hyperlink{classaed2_1_1map_1_1iterator_ae7f70f71545d2a9de17b65edaaec748a_ae7f70f71545d2a9de17b65edaaec748a}{operator--}(\textcolor{keywordtype}{int}) \{
01866             \hyperlink{classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba_acdd790eb54216601a2e0591776004dba}{iterator} it = \hyperlink{classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba_acdd790eb54216601a2e0591776004dba}{iterator}(n);
01867             n = \textcolor{keyword}{const\_cast<}Node*\textcolor{keyword}{>}(n->inmediato(0));
01868             \textcolor{keywordflow}{return} it;
01869         \}
01870 
01888         \textcolor{keywordtype}{bool} \hyperlink{classaed2_1_1map_1_1iterator_ad052c1ef8477a1613c292202226053a5_ad052c1ef8477a1613c292202226053a5}{operator==}(\hyperlink{classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba_acdd790eb54216601a2e0591776004dba}{iterator} other)\textcolor{keyword}{ const }\{
\hypertarget{map_8h_source_l01889}{}\hyperlink{classaed2_1_1map_1_1iterator_a836c7a166d63f507c4f79085ae953c51_a836c7a166d63f507c4f79085ae953c51}{01889}              \textcolor{keywordflow}{return} (n == other.n);
01890         \}
01892         \textcolor{keywordtype}{bool} \hyperlink{classaed2_1_1map_1_1iterator_a836c7a166d63f507c4f79085ae953c51_a836c7a166d63f507c4f79085ae953c51}{operator!=}(\hyperlink{classaed2_1_1map_1_1iterator}{iterator} other)\textcolor{keyword}{ const }\{
01893              \textcolor{keywordflow}{return} (n != other.n);
01894         \}
01895 
01896     \textcolor{keyword}{private}:
01917         \hyperlink{classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba_acdd790eb54216601a2e0591776004dba}{iterator}(Node* pos) : n(pos) \{\}
01928         \hyperlink{classaed2_1_1map_1_1iterator_a7fe2cdc033cd899dc9fd1da08ac3b39e_a7fe2cdc033cd899dc9fd1da08ac3b39e}{operator Node*}()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} n;\}
01930 
01949 
\hypertarget{map_8h_source_l01950}{}\hyperlink{classaed2_1_1map_1_1iterator_aeda338414e516b47761f994fb78056c6_aeda338414e516b47761f994fb78056c6}{01950} 
01951 
01954         \hyperlink{structaed2_1_1map_1_1Node}{Node}* n\{\textcolor{keyword}{nullptr}\};
01956         \textcolor{keyword}{friend} \textcolor{keyword}{class }\hyperlink{classaed2_1_1map}{map};
01957     \};
01958 
01965     \textcolor{keyword}{class }const\_iterator \{
01966         \textcolor{keyword}{using} Node = \textcolor{keyword}{const} \textcolor{keyword}{typename} \hyperlink{structaed2_1_1map_1_1Node}{map::Node};
01967         \textcolor{keyword}{using} InnerNode = \textcolor{keyword}{const} \textcolor{keyword}{typename} \hyperlink{structaed2_1_1map_1_1InnerNode}{map::InnerNode};
01968     \textcolor{keyword}{public}:
01969         \textcolor{keyword}{using} iterator\_category = std::bidirectional\_iterator\_tag;
01970         \textcolor{keyword}{using} value\_type = map::value\_type;
01971         \textcolor{keyword}{using} reference = map::const\_reference;
\hypertarget{map_8h_source_l01972}{}\hyperlink{classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555_a8add3e4cabbdaf313b0e085064491555}{01972}         \textcolor{keyword}{using} pointer = map::const\_pointer;
01973         \textcolor{keyword}{using} difference\_type = std::ptrdiff\_t;
01974 
01976         \hyperlink{classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555_a8add3e4cabbdaf313b0e085064491555}{const_iterator}() : n(nullptr) \{\}
01994         \hyperlink{classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555_a8add3e4cabbdaf313b0e085064491555}{const_iterator}(\hyperlink{classaed2_1_1map_1_1iterator}{iterator} it) \{
\hypertarget{map_8h_source_l01995}{}\hyperlink{classaed2_1_1map_1_1const__iterator_a3e8bf3ace171a4156dbf681fac671db9_a3e8bf3ace171a4156dbf681fac671db9}{01995} 
01996             n = it.n;
01997         \}
\hypertarget{map_8h_source_l01999}{}\hyperlink{classaed2_1_1map_1_1const__iterator_a5cb0d5307b937d0bcda7d65379ce5208_a5cb0d5307b937d0bcda7d65379ce5208}{01999}         reference \hyperlink{classaed2_1_1map_1_1const__iterator_a3e8bf3ace171a4156dbf681fac671db9_a3e8bf3ace171a4156dbf681fac671db9}{operator*}()\textcolor{keyword}{ const  }\{
02000             \textcolor{keywordflow}{return} n->value();
02001         \}
\hypertarget{map_8h_source_l02003}{}\hyperlink{classaed2_1_1map_1_1const__iterator_adaada1d489552555135d2ea89c67c271_adaada1d489552555135d2ea89c67c271}{02003}         pointer \hyperlink{classaed2_1_1map_1_1const__iterator_a5cb0d5307b937d0bcda7d65379ce5208_a5cb0d5307b937d0bcda7d65379ce5208}{operator->}()\textcolor{keyword}{ const }\{
02004             \textcolor{keywordflow}{return} &n->value();
02005         \}
02007         \hyperlink{classaed2_1_1map_1_1const__iterator}{const_iterator}& \hyperlink{classaed2_1_1map_1_1const__iterator_adaada1d489552555135d2ea89c67c271_adaada1d489552555135d2ea89c67c271}{operator++}() \{
\hypertarget{map_8h_source_l02008}{}\hyperlink{classaed2_1_1map_1_1const__iterator_a2fbc216b2f11694bb567ea850bcfdb2e_a2fbc216b2f11694bb567ea850bcfdb2e}{02008}             n = n->inmediato(1);
02009             \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
02010         \}
02012         \hyperlink{classaed2_1_1map_1_1const__iterator}{const_iterator} \hyperlink{classaed2_1_1map_1_1const__iterator_adaada1d489552555135d2ea89c67c271_adaada1d489552555135d2ea89c67c271}{operator++}(\textcolor{keywordtype}{int})  \{
02013             \hyperlink{classaed2_1_1map_1_1const__iterator}{const_iterator} it(n);
\hypertarget{map_8h_source_l02014}{}\hyperlink{classaed2_1_1map_1_1const__iterator_ae12d6608eeca05957fa3de3f50287c90_ae12d6608eeca05957fa3de3f50287c90}{02014}             n = n->inmediato(1);
02015             \textcolor{keywordflow}{return} it;
02016         \}
02018         \hyperlink{classaed2_1_1map_1_1const__iterator}{const_iterator}& \hyperlink{classaed2_1_1map_1_1const__iterator_ae12d6608eeca05957fa3de3f50287c90_ae12d6608eeca05957fa3de3f50287c90}{operator--}()  \{
\hypertarget{map_8h_source_l02019}{}\hyperlink{classaed2_1_1map_1_1const__iterator_ad5ae1cb1d000ac1f528ff32f9af3e228_ad5ae1cb1d000ac1f528ff32f9af3e228}{02019}             n = n->inmediato(0);
02020             \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
02021         \}
02023         \hyperlink{classaed2_1_1map_1_1const__iterator}{const_iterator} \hyperlink{classaed2_1_1map_1_1const__iterator_ae12d6608eeca05957fa3de3f50287c90_ae12d6608eeca05957fa3de3f50287c90}{operator--}(\textcolor{keywordtype}{int}) \{
02024             \hyperlink{classaed2_1_1map_1_1const__iterator}{const_iterator} it(n);
\hypertarget{map_8h_source_l02025}{}\hyperlink{classaed2_1_1map_1_1const__iterator_af837632a6c4a88ec13c4c96153538494_af837632a6c4a88ec13c4c96153538494}{02025}             n = n->inmediato(0);
02026             \textcolor{keywordflow}{return} it;
02027         \}
\hypertarget{map_8h_source_l02029}{}\hyperlink{classaed2_1_1map_1_1const__iterator_a40b9e921ad9c25aded17f394b9534510_a40b9e921ad9c25aded17f394b9534510}{02029}         \textcolor{keywordtype}{bool} \hyperlink{classaed2_1_1map_1_1const__iterator_af837632a6c4a88ec13c4c96153538494_af837632a6c4a88ec13c4c96153538494}{operator==}(\hyperlink{classaed2_1_1map_1_1const__iterator}{const_iterator} other)\textcolor{keyword}{ const  }\{
02030             \textcolor{keywordflow}{return} (n == other.n);
02031         \}
02033         \textcolor{keywordtype}{bool} \hyperlink{classaed2_1_1map_1_1const__iterator_a40b9e921ad9c25aded17f394b9534510_a40b9e921ad9c25aded17f394b9534510}{operator!=}(\hyperlink{classaed2_1_1map_1_1const__iterator}{const_iterator} other)\textcolor{keyword}{ const  }\{
02034           \textcolor{keywordflow}{return} (n != other.n);
\hypertarget{map_8h_source_l02035}{}\hyperlink{classaed2_1_1map_1_1const__iterator_a195d395708167dca23f9ce49f7c604f3_a195d395708167dca23f9ce49f7c604f3}{02035}         \}
02036 
\hypertarget{map_8h_source_l02037}{}\hyperlink{classaed2_1_1map_1_1const__iterator_a637c0f083a23ec4a262d47baeecafcf3_a637c0f083a23ec4a262d47baeecafcf3}{02037}     \textcolor{keyword}{private}:
\hypertarget{map_8h_source_l02039}{}\hyperlink{classaed2_1_1map_1_1const__iterator_aeda338414e516b47761f994fb78056c6_aeda338414e516b47761f994fb78056c6}{02039}         \hyperlink{classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555_a8add3e4cabbdaf313b0e085064491555}{const_iterator}(\hyperlink{structaed2_1_1map_1_1Node}{Node}* pos) : n(pos) \{\}
02041         \hyperlink{classaed2_1_1map_1_1const__iterator_a637c0f083a23ec4a262d47baeecafcf3_a637c0f083a23ec4a262d47baeecafcf3}{operator Node*}()\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} n;\}
02043         Node* n\{\textcolor{keyword}{nullptr}\};
02044         \textcolor{keyword}{friend} \textcolor{keyword}{class }\hyperlink{classaed2_1_1map_1_1const__iterator_aeda338414e516b47761f994fb78056c6_aeda338414e516b47761f994fb78056c6}{map};
02045     \};
02046 
02047 \textcolor{keyword}{private}:
02048     \textcolor{keyword}{friend} \textcolor{keyword}{class }iterator;
02049     \textcolor{keyword}{friend} \textcolor{keyword}{class }const\_iterator;
02050 
02060     \textcolor{keyword}{enum class} \hyperlink{classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b_a6d62a415a4b9d320b30cada4ebcf9f5b}{Color} \{Red, Black, Header\};
02061 
02078     \textcolor{keyword}{struct }Node \{
02080         \hyperlink{structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6_a9c1a600491066ce7eb669b1cb76d56c6}{Node}* child[2]\{\textcolor{keyword}{nullptr},\textcolor{keyword}{nullptr}\};
02082         \hyperlink{structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6_a9c1a600491066ce7eb669b1cb76d56c6}{Node}* parent\{\textcolor{keyword}{nullptr}\};
02084         \hyperlink{classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b_a6d62a415a4b9d320b30cada4ebcf9f5b}{Color} color\{Color::Red\};
02085 
02087 
02088 
02089 
02090 
02098         \hyperlink{structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6_a9c1a600491066ce7eb669b1cb76d56c6}{Node}() : color(\hyperlink{classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b_a6d62a415a4b9d320b30cada4ebcf9f5b}{Color}::Header) \{
02099             child[0] = child[1] = \textcolor{keyword}{this};
02100         \}
02101 
02112         \hyperlink{structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6_a9c1a600491066ce7eb669b1cb76d56c6}{Node}(\hyperlink{structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6_a9c1a600491066ce7eb669b1cb76d56c6}{Node}* p, \hyperlink{classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b_a6d62a415a4b9d320b30cada4ebcf9f5b}{Color} c = Color::Red) : color(c) \{
02113             child[0] = child[1] = \textcolor{keyword}{nullptr};
02114             parent = p;
02115         \}
02116 
02118         
02133         \textcolor{keyword}{virtual} \hyperlink{structaed2_1_1map_1_1Node_a4f3cb2cc4302fe96432e624ced147540_a4f3cb2cc4302fe96432e624ced147540}{~Node}() \{\}
02134 
02136 
02137 
02138 
02139 
02157         \textcolor{keywordtype}{bool} \hyperlink{structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca_ae6cc4598a60dbab7120ffae58ebbadca}{is_header}()\textcolor{keyword}{ const }\{
02158             \textcolor{keywordflow}{return} color == Color::Header;
02159         \}
02160 
02173         value\_type& \hyperlink{structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb_af4ada8e79dabb4849fc87de63d3970fb}{value}() \{
02174             assert(not \hyperlink{structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca_ae6cc4598a60dbab7120ffae58ebbadca}{is_header}());
\hypertarget{map_8h_source_l02175}{}\hyperlink{structaed2_1_1map_1_1Node_a747a33f40ad748d750372fe73aea0b32_a747a33f40ad748d750372fe73aea0b32}{02175}             \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\hyperlink{structaed2_1_1map_1_1InnerNode}{InnerNode}*\textcolor{keyword}{>}(\textcolor{keyword}{this})->\_value;
02176         \}
02177 
02179         \textcolor{keyword}{const} value\_type& \hyperlink{structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb_af4ada8e79dabb4849fc87de63d3970fb}{value}()\textcolor{keyword}{ const }\{
02180             assert(not \hyperlink{structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca_ae6cc4598a60dbab7120ffae58ebbadca}{is_header}());
02181             \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\hyperlink{structaed2_1_1map_1_1InnerNode}{InnerNode}*\textcolor{keyword}{>}(\textcolor{keyword}{this})->\_value;
02182         \}
02183 
02196         \textcolor{keyword}{const} Key& \hyperlink{structaed2_1_1map_1_1Node_a5451f8da0b7ad3582fab1decad5d09cb_a5451f8da0b7ad3582fab1decad5d09cb}{key}()\textcolor{keyword}{ const }\{
02197             assert(not \hyperlink{structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca_ae6cc4598a60dbab7120ffae58ebbadca}{is_header}());
02198             \textcolor{keywordflow}{return} \hyperlink{structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb_af4ada8e79dabb4849fc87de63d3970fb}{value}().first;
02199         \}
02200 
02202 
02215         \textcolor{keyword}{const} \hyperlink{structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6_a9c1a600491066ce7eb669b1cb76d56c6}{Node}* \hyperlink{structaed2_1_1map_1_1Node_a4d5263c74ea5f78025fea331267730ce_a4d5263c74ea5f78025fea331267730ce}{inmediato}(\textcolor{keywordtype}{int} dir)\textcolor{keyword}{ const }\{
02216             \textcolor{keyword}{const} \hyperlink{structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6_a9c1a600491066ce7eb669b1cb76d56c6}{Node}* res = \textcolor{keyword}{this};
02217             \textcolor{keywordflow}{if} (res->is\_header())
02218                 res = res->child[1-dir];
02219             \textcolor{keywordflow}{else} \{
02220                 if (res->child[dir] != \textcolor{keyword}{nullptr}) \{
02221                     res = res->child[dir];
02222                     \textcolor{keywordflow}{while} (res->child[1-dir] != \textcolor{keyword}{nullptr})
02223                         res = res->child[1-dir];
02224                 \} \textcolor{keywordflow}{else} \{
02225                     \textcolor{keywordflow}{while} (not res->parent->is\_header() && res == res->parent->
      child[dir])
02226                         res = res->parent;
02227                     res = res->parent;
02228                 \}
02229             \}
02230             \textcolor{keywordflow}{return} res;
02231         \}
02232 \textcolor{preprocessor}{#ifdef DEBUG}
02233 \textcolor{preprocessor}{}
02239         \textcolor{keywordtype}{void} print(\textcolor{keywordtype}{int} tab = 0)\textcolor{keyword}{ const }\{
02240             std::cout << std::string(tab, \textcolor{charliteral}{' '}) << value().first << \textcolor{stringliteral}{"->"} << 
      value().second << \textcolor{stringliteral}{"   ("} << (color == Color::Red ? \textcolor{stringliteral}{"Red)"} : \textcolor{stringliteral}{"Black)"}) << std::endl;
02241             \textcolor{keywordflow}{if}(child[0]) child[0]->print(tab + 2);
02242             \textcolor{keywordflow}{if}(child[1]) child[1]->print(tab + 2);
02243         \}
02244 
02245 \textcolor{preprocessor}{#endif}
02246 \textcolor{preprocessor}{}    \};
02247 
02264     \textcolor{keyword}{struct }InnerNode : \textcolor{keyword}{public} Node \{
02265         value\_type \_value;
02266 
02267         InnerNode(Node* p, \textcolor{keyword}{const} value\_type& v): Node(p, Color::Red), \_value(v)
       \{\}
02268     \};
02269 
02271 
02293 
02294 
\hypertarget{map_8h_source_l02295}{}\hyperlink{classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a_a0e5be36fae0693e4665bd2a615e7550a}{02295} 
02299     Compare lt;
02301     \textcolor{keywordtype}{size\_t} count\{0\};
02303     Node header;
02305 
02307 
02308 
02309 
02310 
02315     \textcolor{keyword}{inline} InnerNode* root() \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}InnerNode*\textcolor{keyword}{>}(header.parent); \}
02316 
02318     \textcolor{keyword}{inline} \textcolor{keyword}{const} InnerNode* root()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }InnerNode*\textcolor{keyword}{>}
      (header.parent); \}
02320 
02322 
02323 
02324 
02331     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} eq(\textcolor{keyword}{const} Key& k1, \textcolor{keyword}{const} Key& k2)\textcolor{keyword}{ const }\{
02332         \textcolor{keywordflow}{return} lt(k1, k2) == lt(k2, k1);
02333     \}
02334 
02341     std::pair<Node*, Node*> bounds(\textcolor{keyword}{const} Key& key) \{
\hypertarget{map_8h_source_l02342}{}\hyperlink{classaed2_1_1map_a4d903414b3f1f1e6f785342bb3900572_a4d903414b3f1f1e6f785342bb3900572}{02342}         \textcolor{keyword}{auto} r = \textcolor{keyword}{const\_cast<}\textcolor{keyword}{const }\hyperlink{classaed2_1_1map}{map}*\textcolor{keyword}{>}(\textcolor{keyword}{this})->\hyperlink{classaed2_1_1map_a4d903414b3f1f1e6f785342bb3900572_a4d903414b3f1f1e6f785342bb3900572}{bounds}(key);
02343         \textcolor{keywordflow}{return} std::make\_pair(const\_cast<Node*>(r.first), const\_cast<Node*>(r.
      second));
02344     \}
02345 
02346     std::pair<const Node*, const Node*> bounds(\textcolor{keyword}{const} Key& key)\textcolor{keyword}{ const }\{
02347         \textcolor{keyword}{const} Node* res[2] = \{&header, &header\}, *indice = root();
02348         \textcolor{keywordflow}{while} (indice != \textcolor{keyword}{nullptr} && !eq(indice->key(), key))\{
02349             \textcolor{keyword}{auto} dir = lt(indice->key(), key);
02350             res[1-dir] = indice;
02351             indice = indice->child[dir];
02352         \}
02353         \textcolor{keywordflow}{if} (indice != \textcolor{keyword}{nullptr})\{
02354             res[0] = res[1] = indice;
02355         \}
02356         \textcolor{keywordflow}{return} std::make\_pair(res[0], res[1]);
02357     \}
02358 
02370     \textcolor{keywordtype}{bool} hintValido(const\_iterator hint, \textcolor{keyword}{const} value\_type& value)\textcolor{keyword}{ const }\{
02371         \textcolor{keywordtype}{bool} res;
02372         \textcolor{keywordflow}{if} (hint.n == \textcolor{keyword}{nullptr})
02373             res = \textcolor{keyword}{false};
02374         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hint == end())
02375             res = (count == 0 || lt(header.child[1]->key(), value.first));
02376         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hint == begin())
02377             res = lt(value.first, hint.n->key());
02378         \textcolor{keywordflow}{else}
02379             res = lt(value.first, hint.n->key()) && lt((--hint).n->key(), value
      .first);
02380         \textcolor{keywordflow}{return} res;
02381     \}
02382 
02396     iterator insert\_rapido(const\_iterator hint, \textcolor{keyword}{const} value\_type& value) \{
02397         iterator it(const\_cast<Node*>(hint.n));
02398         \textcolor{keywordflow}{if} (it.n->is\_header() || !eq(it.n->key(), value.first)) \{
02399             \textcolor{keywordflow}{if} (it.n->is\_header()) \{
02400                 \textcolor{keywordflow}{while} (it.n->child[1] != \textcolor{keyword}{nullptr} && not it.n->child[0]->
      is\_header())
02401                     it.n = it.n->child[1];
02402             \} \textcolor{keywordflow}{else} \{
02403                 \textcolor{keywordflow}{if} (it.n->child[0] != \textcolor{keyword}{nullptr}) \{
02404                     it.n = it.n->child[0];
02405                     \textcolor{keywordflow}{while} (it.n->child[1] != \textcolor{keyword}{nullptr} && not it.n->child[0]->
      is\_header())
02406                         it.n = it.n->child[1];
02407                 \}
02408             \}
02409             Node* padre = it.n;
02410             InnerNode* nuevo = \textcolor{keyword}{new} InnerNode(padre, value);
02411             \textcolor{keywordtype}{bool} esElMenor = (count == 0) || lt(value.first, begin().n->key());
02412             \textcolor{keywordtype}{bool} esElMayor = (count == 0) || lt(header.child[1]->key(), value.
      first);
02413             \textcolor{keywordflow}{if} (esElMenor)
02414                 header.child[0] = nuevo;
02415             \textcolor{keywordflow}{if} (esElMayor)
02416                 header.child[1] = nuevo;
02417             \textcolor{keywordflow}{if} (padre->is\_header()) \{
02418                 header.parent = nuevo;
02419             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (lt(nuevo->key(),padre->key()))
02420                 padre->child[0] = nuevo;
02421             \textcolor{keywordflow}{else}
02422                 padre->child[1] = nuevo;
02423             count++;
02424             it.n = nuevo;
02425             insert\_fixup(it);
02426             \textcolor{keywordflow}{return} it;
02427         \}
02428     \}
02429 \};
02430 
02432 
02433 
02434 
02435 
02458 \textcolor{keyword}{template}<\textcolor{keyword}{class} K, \textcolor{keyword}{class} V, \textcolor{keyword}{class} C>
02459 \textcolor{keywordtype}{bool} \hyperlink{classaed2_1_1map_abfc51b39670220e79037ac067006e933_abfc51b39670220e79037ac067006e933}{operator==}(\textcolor{keyword}{const} map<K, V, C>& m1, \textcolor{keyword}{const} map<K, V, C>& m2) \{
02460     \textcolor{keywordflow}{return} m1.size() == m2.size() and std::equal(m1.begin(), m1.end(), m2.begin
      ());
02461 \}
02462 
02469 \textcolor{keyword}{template}<\textcolor{keyword}{class} K, \textcolor{keyword}{class} V, \textcolor{keyword}{class} C>
02470 \textcolor{keywordtype}{bool} \hyperlink{classaed2_1_1map_abce0fa35c5b25fd67111c2e704616f09_abce0fa35c5b25fd67111c2e704616f09}{operator!=}(\textcolor{keyword}{const} map<K, V, C>& m1, \textcolor{keyword}{const} map<K, V, C>& m2) \{
02471     \textcolor{keywordflow}{return} not(m1 == m2);
02472 \}
02473 
02497 \textcolor{keyword}{template}<\textcolor{keyword}{class} K, \textcolor{keyword}{class} V, \textcolor{keyword}{class} C>
02498 \textcolor{keywordtype}{bool} operator<(const map<K, V, C>& m1, \textcolor{keyword}{const} map<K, V, C>& m2) \{
02499     \textcolor{keywordflow}{return} (std::lexicographical\_compare(m1.begin(), m1.end(), m2.begin(), m2.
      end()));
02500 \}
02501 
02508 \textcolor{keyword}{template}<\textcolor{keyword}{class} K, \textcolor{keyword}{class} V, \textcolor{keyword}{class} C>
02509 \textcolor{keywordtype}{bool} \hyperlink{classaed2_1_1map_a2000cd874b72034ce7fe730c811b6c63_a2000cd874b72034ce7fe730c811b6c63}{operator>}(\textcolor{keyword}{const} map<K, V, C>& m1, \textcolor{keyword}{const} map<K, V, C>& m2) \{
02510     \textcolor{keywordflow}{return} m2 < m1;
02511 \}
02512 
02519 \textcolor{keyword}{template}<\textcolor{keyword}{class} K, \textcolor{keyword}{class} V, \textcolor{keyword}{class} C>
02520 \textcolor{keywordtype}{bool} operator<=(const map<K, V, C>& m1, \textcolor{keyword}{const} map<K, V, C>& m2) \{
02521     \textcolor{keywordflow}{return} not(m2 < m1);
02522 \}
02523 
02530 \textcolor{keyword}{template}<\textcolor{keyword}{class} K, \textcolor{keyword}{class} V, \textcolor{keyword}{class} C>
02531 \textcolor{keywordtype}{bool} \hyperlink{classaed2_1_1map_a093a6d1a055339c5fc6297a1d47a9159_a093a6d1a055339c5fc6297a1d47a9159}{operator>=}(\textcolor{keyword}{const} map<K, V, C>& m1, \textcolor{keyword}{const} map<K, V, C>& m2) \{
02532     \textcolor{keywordflow}{return} !(m1 < m2);
02533 \}
02535 
02537 
02538 
02539 
02554 \textcolor{keyword}{template}<\textcolor{keyword}{class} K, \textcolor{keyword}{class} V, \textcolor{keyword}{class} C>
02555 \textcolor{keywordtype}{void} \hyperlink{classaed2_1_1map_a119cb2938bbc11c25ebd4fb824782a72_a119cb2938bbc11c25ebd4fb824782a72}{swap}(map<K, V, C>& m1, map<K, V, C>& m2) \{
02556     m1.swap(m2);
02557 \}
02558 \}
02559 
02560 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* MAP\_H\_ */}
\end{DoxyCode}
