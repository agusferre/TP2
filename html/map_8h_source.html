<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Trabajo práctico 2: diccionario sobre RB-tree: Fichero Fuente map.h</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Trabajo práctico 2: diccionario sobre RB-tree
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Agustín Ferré y Paula González</div>
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Buscar" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generado por Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Buscar');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('map_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">map.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="map_8h.html">Ir a la documentación de este archivo.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00762"></a>00762 <span class="preprocessor">#ifndef MAP_H_</span>
<a name="l00763"></a>00763 <span class="preprocessor"></span><span class="preprocessor">#define MAP_H_</span>
<a name="l00764"></a>00764 <span class="preprocessor"></span>
<a name="l00765"></a>00765 <span class="preprocessor">#include &lt;functional&gt;</span>
<a name="l00766"></a>00766 <span class="preprocessor">#include &lt;iterator&gt;</span>
<a name="l00767"></a>00767 <span class="preprocessor">#include &lt;utility&gt;</span>
<a name="l00768"></a>00768 <span class="preprocessor">#include &lt;cassert&gt;</span>
<a name="l00769"></a>00769 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00770"></a>00770 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00771"></a>00771 
<a name="l00772"></a>00772 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00773"></a>00773 <span class="preprocessor"></span><span class="comment">//Aca se puede incluir cualquier cosa que consideren que necesitan para debug</span>
<a name="l00774"></a>00774 <span class="comment">//#include &lt;iostream&gt;</span>
<a name="l00775"></a>00775 <span class="comment">//#include &lt;iomanip&gt;</span>
<a name="l00776"></a>00776 <span class="preprocessor">#endif</span>
<a name="l00777"></a>00777 <span class="preprocessor"></span>
<a name="l00785"></a><a class="code" href="namespaceaed2.html">00785</a> <span class="keyword">namespace </span>aed2{
<a name="l00786"></a>00786 
<a name="l00855"></a>00855 <span class="keyword">template</span>&lt;
<a name="l00856"></a>00856   <span class="keyword">class </span>Key,
<a name="l00857"></a>00857   <span class="keyword">class </span>Meaning,
<a name="l00858"></a>00858   <span class="keyword">class </span>Compare = std::less&lt;Key&gt;
<a name="l00859"></a>00859 &gt;
<a name="l00860"></a><a class="code" href="classaed2_1_1map.html">00860</a> <span class="keyword">class </span><a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a> {
<a name="l00861"></a>00861     <span class="comment">//forward declarations (innecesario, pero ayuda al analizador semantico de Eclipse)</span>
<a name="l00862"></a>00862     <span class="keyword">class </span><a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">Node</a>;
<a name="l00863"></a>00863     <span class="keyword">class </span><a class="code" href="structaed2_1_1map_1_1InnerNode.html" title="Estructura (privada) de un nodo no cabecera del árbol red-black.">InnerNode</a>;
<a name="l00864"></a>00864 <span class="keyword">public</span>:
<a name="l00865"></a>00865     <span class="comment">//forward declarations</span>
<a name="l00866"></a>00866     <span class="keyword">class </span><a class="code" href="classaed2_1_1map_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a>;
<a name="l00867"></a>00867     <span class="keyword">class </span><a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a>;
<a name="l00868"></a>00868 
<a name="l00872"></a>00872     <span class="keyword">using</span> key_type = Key;
<a name="l00876"></a>00876     <span class="keyword">using</span> mapped_type = Meaning;
<a name="l00880"></a>00880     <span class="keyword">using</span> value_type = std::pair&lt;const Key, Meaning&gt;;
<a name="l00884"></a>00884     <span class="keyword">using</span> key_compare = Compare;
<a name="l00888"></a>00888     <span class="keyword">using</span> reference = value_type&amp;;
<a name="l00892"></a>00892     <span class="keyword">using</span> const_reference = <span class="keyword">const</span> value_type&amp;;
<a name="l00896"></a>00896     <span class="keyword">using</span> pointer = value_type*;
<a name="l00900"></a>00900     <span class="keyword">using</span> const_pointer = <span class="keyword">const</span> value_type*;
<a name="l00904"></a>00904     <span class="keyword">using</span> size_type = std::size_t;
<a name="l00908"></a>00908     <span class="keyword">using</span> difference_type = std::ptrdiff_t;
<a name="l00909"></a>00909 
<a name="l00920"></a>00920     <span class="keyword">using</span> reverse_iterator = std::reverse_iterator&lt;iterator&gt;;
<a name="l00921"></a>00921 
<a name="l00932"></a>00932     <span class="keyword">using</span> const_reverse_iterator = std::reverse_iterator&lt;const_iterator&gt;;
<a name="l00933"></a>00933 
<a name="l00935"></a>00935 
<a name="l00936"></a>00936 
<a name="l00937"></a>00937 
<a name="l00938"></a>00938 
<a name="l00952"></a><a class="code" href="classaed2_1_1map_a64da1d965b13eb28cdb3837bc17a18cf.html#a64da1d965b13eb28cdb3837bc17a18cf">00952</a>     <span class="keyword">explicit</span> <a class="code" href="classaed2_1_1map_a64da1d965b13eb28cdb3837bc17a18cf.html#a64da1d965b13eb28cdb3837bc17a18cf" title="Crea un diccionario vacio.">map</a>(Compare c = Compare()) : <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>(), count(0), <a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>(c) {}
<a name="l00953"></a>00953 
<a name="l00972"></a><a class="code" href="classaed2_1_1map_a7a77950a3d8e637bfa7cf5dcd904f257.html#a7a77950a3d8e637bfa7cf5dcd904f257">00972</a>     <a class="code" href="classaed2_1_1map_a7a77950a3d8e637bfa7cf5dcd904f257.html#a7a77950a3d8e637bfa7cf5dcd904f257" title="Constructor por copia.">map</a>(<span class="keyword">const</span> <a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>&amp; other) : <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>(), count(0), <a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>(other.<a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>) {
<a name="l00973"></a>00973         <span class="keyword">auto</span> it_other = other.<a class="code" href="classaed2_1_1map_ac412d3902112122c1bffe2d4283a4e9d.html#ac412d3902112122c1bffe2d4283a4e9d" title="Devuelve un iterador al primer valor del diccionario, en un recorrido al revés.">rbegin</a>();
<a name="l00974"></a>00974         iterator it = <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l00975"></a>00975         <span class="keywordflow">while</span> (it_other != other.<a class="code" href="classaed2_1_1map_a277f03b4f4b6b98879e4e4921081801f.html#a277f03b4f4b6b98879e4e4921081801f" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario, en un recorrido al re...">rend</a>()) {
<a name="l00976"></a>00976             it = <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4" title="La funcion inserta el value en el árbol en la posición apuntada por hint, en caso de que no esté defi...">insert_rapido</a>(it, *it_other);
<a name="l00977"></a>00977         it_other++;
<a name="l00978"></a>00978         }
<a name="l00979"></a>00979     }
<a name="l00980"></a>00980 
<a name="l01024"></a>01024     <span class="keyword">template</span>&lt;<span class="keyword">class</span> iterator&gt;
<a name="l01025"></a><a class="code" href="classaed2_1_1map_a5d336f3248572beb56be383dcc95cfeb.html#a5d336f3248572beb56be383dcc95cfeb">01025</a>     <a class="code" href="classaed2_1_1map_a5d336f3248572beb56be383dcc95cfeb.html#a5d336f3248572beb56be383dcc95cfeb" title="Crea un diccionario con los elementos del rango [first, last)">map</a>(iterator first, iterator last, Compare c = Compare()) : <a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>(c) {
<a name="l01026"></a>01026         <span class="keyword">auto</span> it = <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l01027"></a>01027         <span class="keywordflow">while</span> (first != last) {
<a name="l01028"></a>01028             <a class="code" href="classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8.html#a60aacba06b1579630b3c8e996cf248c8" title="Inserta value en el diccionario.">insert</a>(it, *first);
<a name="l01029"></a>01029             ++first;
<a name="l01030"></a>01030         }
<a name="l01031"></a>01031     }
<a name="l01032"></a>01032 
<a name="l01048"></a><a class="code" href="classaed2_1_1map_ac606d334809066929522964d45e76317.html#ac606d334809066929522964d45e76317">01048</a>     <a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>&amp; <a class="code" href="classaed2_1_1map_ac606d334809066929522964d45e76317.html#ac606d334809066929522964d45e76317" title="Operador de asignación.">operator=</a>(<a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a> other) {
<a name="l01049"></a>01049         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<span class="keyword">this</span>, other);
<a name="l01050"></a>01050         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01051"></a>01051     }
<a name="l01052"></a>01052 
<a name="l01073"></a><a class="code" href="classaed2_1_1map_ab22c9a85c2dadbc286cd30e97069a8e6.html#ab22c9a85c2dadbc286cd30e97069a8e6">01073</a>     <a class="code" href="classaed2_1_1map_ab22c9a85c2dadbc286cd30e97069a8e6.html#ab22c9a85c2dadbc286cd30e97069a8e6" title="Destructor.">~map</a>() {
<a name="l01074"></a>01074         <a class="code" href="classaed2_1_1map_a2bfa5165825979bf2431db55bc6bc9ca.html#a2bfa5165825979bf2431db55bc6bc9ca" title="Vacia el diccionario.">clear</a>();
<a name="l01075"></a>01075     }
<a name="l01076"></a>01076 
<a name="l01078"></a>01078 
<a name="l01080"></a>01080 
<a name="l01081"></a>01081 
<a name="l01082"></a>01082 
<a name="l01083"></a>01083 
<a name="l01104"></a><a class="code" href="classaed2_1_1map_a0b0a11f906da2926f9eb342fcee79fd7.html#a0b0a11f906da2926f9eb342fcee79fd7">01104</a>     <span class="keyword">const</span> Meaning&amp; <a class="code" href="classaed2_1_1map_a0b0a11f906da2926f9eb342fcee79fd7.html#a0b0a11f906da2926f9eb342fcee79fd7" title="Devuelve el significado asociado a key">at</a>(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l01105"></a>01105         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(key)-&gt;second;
<a name="l01106"></a>01106     }
<a name="l01107"></a>01107 
<a name="l01109"></a><a class="code" href="classaed2_1_1map_a6b21c09f59a83b6ee45432dcfa61f4a1.html#a6b21c09f59a83b6ee45432dcfa61f4a1">01109</a>     Meaning&amp; <a class="code" href="classaed2_1_1map_a6b21c09f59a83b6ee45432dcfa61f4a1.html#a6b21c09f59a83b6ee45432dcfa61f4a1">at</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l01110"></a>01110         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(key)-&gt;second;
<a name="l01111"></a>01111     }
<a name="l01112"></a>01112 
<a name="l01152"></a><a class="code" href="classaed2_1_1map_a96f23896164ab47bee48c26b803f9801.html#a96f23896164ab47bee48c26b803f9801">01152</a>     Meaning&amp; <a class="code" href="classaed2_1_1map_a96f23896164ab47bee48c26b803f9801.html#a96f23896164ab47bee48c26b803f9801" title="Devuelve el significado asociado a key, asegurando su existencia.">operator[]</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l01153"></a>01153         iterator it = <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(key);
<a name="l01154"></a>01154         <span class="keywordflow">if</span> (not it.n-&gt;is_header() &amp;&amp; <a class="code" href="classaed2_1_1map_ab45cb28bb215cd229383d88b96b3f624.html#ab45cb28bb215cd229383d88b96b3f624" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">eq</a>(it.n-&gt;value().first, key))
<a name="l01155"></a>01155             <span class="keywordflow">return</span> it.n-&gt;value().second;
<a name="l01156"></a>01156         <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4" title="La funcion inserta el value en el árbol en la posición apuntada por hint, en caso de que no esté defi...">insert_rapido</a>(it, value_type(key, Meaning()));
<a name="l01157"></a>01157         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a0b0a11f906da2926f9eb342fcee79fd7.html#a0b0a11f906da2926f9eb342fcee79fd7" title="Devuelve el significado asociado a key">at</a>(key);
<a name="l01158"></a>01158     }
<a name="l01159"></a>01159 
<a name="l01189"></a><a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8">01189</a>     iterator <a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l01190"></a>01190         <span class="keyword">auto</span> r = <span class="keyword">const_cast&lt;</span><span class="keyword">const </span><a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(key);
<a name="l01191"></a>01191         <span class="keywordflow">return</span> iterator(const_cast&lt;Node*&gt;(r.n));
<a name="l01192"></a>01192     }
<a name="l01193"></a>01193 
<a name="l01195"></a><a class="code" href="classaed2_1_1map_ab8f3e41b1a0d7b74645836f8d2e1acfc.html#ab8f3e41b1a0d7b74645836f8d2e1acfc">01195</a>     const_iterator <a class="code" href="classaed2_1_1map_ab8f3e41b1a0d7b74645836f8d2e1acfc.html#ab8f3e41b1a0d7b74645836f8d2e1acfc">find</a>(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l01196"></a>01196         std::pair&lt;const Node*, const Node*&gt; res = <a class="code" href="classaed2_1_1map_aa079b9390f988f97be26fd51ed44a2c9.html#aa079b9390f988f97be26fd51ed44a2c9" title="Si key esta definida devuelve una tupla con el nodo cuya clave es key en ambas posiciones. Si no retorna una tupla con los nodos cuyo valor es el mayor de los menores y el menor de los mayores a key. En caso de que no existe un valor mayor o menor en el diccionario devuelve el header en ambas posiciones de la tupla. Se utiliza como funcion auxiliar para lower_bound.">bounds</a>(key);
<a name="l01197"></a>01197         <span class="keywordflow">if</span> (res.first == res.second)
<a name="l01198"></a>01198             <span class="keywordflow">return</span> const_iterator(res.first);
<a name="l01199"></a>01199         <span class="keywordflow">else</span>
<a name="l01200"></a>01200             <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l01201"></a>01201     }
<a name="l01202"></a>01202 
<a name="l01223"></a><a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f">01223</a>     const_iterator <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l01224"></a>01224         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_aa079b9390f988f97be26fd51ed44a2c9.html#aa079b9390f988f97be26fd51ed44a2c9" title="Si key esta definida devuelve una tupla con el nodo cuya clave es key en ambas posiciones. Si no retorna una tupla con los nodos cuyo valor es el mayor de los menores y el menor de los mayores a key. En caso de que no existe un valor mayor o menor en el diccionario devuelve el header en ambas posiciones de la tupla. Se utiliza como funcion auxiliar para lower_bound.">bounds</a>(key).second;
<a name="l01225"></a>01225     }
<a name="l01226"></a>01226 
<a name="l01228"></a><a class="code" href="classaed2_1_1map_a07b3dd65557c59ee085e5f211269c6b3.html#a07b3dd65557c59ee085e5f211269c6b3">01228</a>     iterator <a class="code" href="classaed2_1_1map_a07b3dd65557c59ee085e5f211269c6b3.html#a07b3dd65557c59ee085e5f211269c6b3">lower_bound</a>(<span class="keyword">const</span> Key&amp; key)  {
<a name="l01229"></a>01229         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_aa079b9390f988f97be26fd51ed44a2c9.html#aa079b9390f988f97be26fd51ed44a2c9" title="Si key esta definida devuelve una tupla con el nodo cuya clave es key en ambas posiciones. Si no retorna una tupla con los nodos cuyo valor es el mayor de los menores y el menor de los mayores a key. En caso de que no existe un valor mayor o menor en el diccionario devuelve el header en ambas posiciones de la tupla. Se utiliza como funcion auxiliar para lower_bound.">bounds</a>(key).second;
<a name="l01230"></a>01230     }
<a name="l01232"></a>01232 
<a name="l01234"></a>01234 
<a name="l01235"></a>01235 
<a name="l01236"></a>01236 
<a name="l01237"></a>01237 
<a name="l01247"></a><a class="code" href="classaed2_1_1map_af5320ca0a7df4d16015441d5d055a7ee.html#af5320ca0a7df4d16015441d5d055a7ee">01247</a>     <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_af5320ca0a7df4d16015441d5d055a7ee.html#af5320ca0a7df4d16015441d5d055a7ee" title="Indica si el diccionario esta vacío.">empty</a>()<span class="keyword"> const </span>{
<a name="l01248"></a>01248         <span class="keywordflow">return</span> (count == 0);
<a name="l01249"></a>01249     }
<a name="l01250"></a>01250 
<a name="l01261"></a><a class="code" href="classaed2_1_1map_a89f2613f926ac13293eafe65889d6021.html#a89f2613f926ac13293eafe65889d6021">01261</a>     <span class="keywordtype">size_t</span> <a class="code" href="classaed2_1_1map_a89f2613f926ac13293eafe65889d6021.html#a89f2613f926ac13293eafe65889d6021" title="Devuelve la cantidad de valores en el diccionario.">size</a>()<span class="keyword"> const </span>{
<a name="l01262"></a>01262         <span class="keywordflow">return</span> count;
<a name="l01263"></a>01263     }
<a name="l01265"></a>01265 
<a name="l01267"></a>01267 
<a name="l01268"></a>01268 
<a name="l01269"></a>01269 
<a name="l01270"></a>01270 
<a name="l01302"></a>01302     iterator <a class="code" href="classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8.html#a60aacba06b1579630b3c8e996cf248c8" title="Inserta value en el diccionario.">insert</a>(<span class="keyword">const</span> value_type&amp; value) {
<a name="l01303"></a>01303         iterator it = <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(value.first);
<a name="l01304"></a>01304         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8.html#a60aacba06b1579630b3c8e996cf248c8" title="Inserta value en el diccionario.">insert</a>(it, value);
<a name="l01305"></a>01305     }
<a name="l01306"></a>01306 
<a name="l01312"></a>01312     iterator <a class="code" href="classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8.html#a60aacba06b1579630b3c8e996cf248c8" title="Inserta value en el diccionario.">insert</a>(const_iterator hint, <span class="keyword">const</span> value_type&amp; value) {
<a name="l01313"></a>01313         <span class="keywordflow">if</span> (<a class="code" href="classaed2_1_1map_a45b04533e9acf27438813ab4a2604443.html#a45b04533e9acf27438813ab4a2604443" title="función que verifica si el iterador está parado en el lower_bound de value.first. Sirve para chequear...">hintValido</a>(hint, value))
<a name="l01314"></a>01314             <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4" title="La funcion inserta el value en el árbol en la posición apuntada por hint, en caso de que no esté defi...">insert_rapido</a>(hint, value);
<a name="l01315"></a>01315         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4" title="La funcion inserta el value en el árbol en la posición apuntada por hint, en caso de que no esté defi...">insert_rapido</a>(<a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(value.first), value);
<a name="l01316"></a>01316     }
<a name="l01317"></a>01317 
<a name="l01353"></a>01353     iterator <a class="code" href="classaed2_1_1map_a2ef6723c183916276b0afc4a4c721475.html#a2ef6723c183916276b0afc4a4c721475" title="Inserta o Color::Redefine value en el diccionario.">insert_or_assign</a>(const_iterator hint, <span class="keyword">const</span> value_type&amp; value) {
<a name="l01354"></a>01354         iterator it;
<a name="l01355"></a>01355         <span class="keywordflow">if</span> (<a class="code" href="classaed2_1_1map_a45b04533e9acf27438813ab4a2604443.html#a45b04533e9acf27438813ab4a2604443" title="función que verifica si el iterador está parado en el lower_bound de value.first. Sirve para chequear...">hintValido</a>(hint, value))
<a name="l01356"></a>01356             it.n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(hint.n);
<a name="l01357"></a>01357         <span class="keywordflow">else</span>
<a name="l01358"></a>01358             it = <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(value.first);
<a name="l01359"></a>01359         <span class="keywordflow">if</span> (not it.n-&gt;is_header() &amp;&amp; <a class="code" href="classaed2_1_1map_ab45cb28bb215cd229383d88b96b3f624.html#ab45cb28bb215cd229383d88b96b3f624" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">eq</a>(it.n-&gt;key(), value.first))
<a name="l01360"></a>01360             <span class="keyword">static_cast&lt;</span>InnerNode*<span class="keyword">&gt;</span>(it.n)-&gt;_value.second = value.second;
<a name="l01361"></a>01361         <span class="keywordflow">else</span>
<a name="l01362"></a>01362             it = <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4" title="La funcion inserta el value en el árbol en la posición apuntada por hint, en caso de que no esté defi...">insert_rapido</a>(it, value);
<a name="l01363"></a>01363         <span class="keywordflow">return</span> it;
<a name="l01364"></a>01364     }
<a name="l01365"></a>01365 
<a name="l01368"></a>01368     iterator <a class="code" href="classaed2_1_1map_a2ef6723c183916276b0afc4a4c721475.html#a2ef6723c183916276b0afc4a4c721475" title="Inserta o Color::Redefine value en el diccionario.">insert_or_assign</a>(<span class="keyword">const</span> value_type&amp; value) {
<a name="l01369"></a>01369         iterator it = <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(value.first);
<a name="l01370"></a>01370         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a2ef6723c183916276b0afc4a4c721475.html#a2ef6723c183916276b0afc4a4c721475" title="Inserta o Color::Redefine value en el diccionario.">insert_or_assign</a>(it, value);
<a name="l01371"></a>01371     }
<a name="l01372"></a>01372 
<a name="l01390"></a>01390     iterator <a class="code" href="classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe.html#ad8e796bf9c9c558e5ce6b61e116253fe" title="Elimina el valor apuntado por pos">erase</a>(const_iterator pos) {
<a name="l01391"></a>01391         Node* z = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(pos.n);
<a name="l01392"></a>01392         Node* y = z;
<a name="l01393"></a>01393         Node* x;
<a name="l01394"></a>01394         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 2; i++) {
<a name="l01395"></a>01395             <span class="keywordflow">if</span> (pos.n == <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[i]) {
<a name="l01396"></a>01396                 <span class="keywordflow">if</span> (count == 1)
<a name="l01397"></a>01397                     <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[i] = &amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>;
<a name="l01398"></a>01398                 <span class="keywordflow">else</span> {
<a name="l01399"></a>01399                     <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[i] = <span class="keyword">const_cast&lt;</span>Node *<span class="keyword">&gt;</span>(pos.n-&gt;inmediato(1-i));
<a name="l01400"></a>01400                 }
<a name="l01401"></a>01401             }
<a name="l01402"></a>01402         }
<a name="l01403"></a>01403         iterator res = iterator(const_cast&lt;Node*&gt;((++pos).n));
<a name="l01404"></a>01404         <a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a> y_color_original = y-&gt;color;
<a name="l01405"></a>01405         <span class="keywordflow">if</span> (z-&gt;child[0] == <span class="keyword">nullptr</span>){
<a name="l01406"></a>01406             x = z-&gt;child[1];
<a name="l01407"></a>01407             <a class="code" href="classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a.html#a98b9f200c64ce02dfb67902ee00e375a" title="Esta función es llamada en el delete para unir el padre del nodo a borrar con el hijo correspondiente...">transplant</a>(z, z-&gt;child[1]);
<a name="l01408"></a>01408         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (z-&gt;child[1] == <span class="keyword">nullptr</span>) {
<a name="l01409"></a>01409             x = z-&gt;child[0];
<a name="l01410"></a>01410             <a class="code" href="classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a.html#a98b9f200c64ce02dfb67902ee00e375a" title="Esta función es llamada en el delete para unir el padre del nodo a borrar con el hijo correspondiente...">transplant</a>(z, z-&gt;child[0]);
<a name="l01411"></a>01411         } <span class="keywordflow">else</span> {
<a name="l01412"></a>01412             y = z-&gt;child[1]-&gt;sub_minimo();
<a name="l01413"></a>01413             y_color_original = y-&gt;color;
<a name="l01414"></a>01414             x = y-&gt;child[1];
<a name="l01415"></a>01415             <span class="keywordflow">if</span> (y-&gt;parent != z) {
<a name="l01416"></a>01416                 <a class="code" href="classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a.html#a98b9f200c64ce02dfb67902ee00e375a" title="Esta función es llamada en el delete para unir el padre del nodo a borrar con el hijo correspondiente...">transplant</a>(y, y-&gt;child[1]);
<a name="l01417"></a>01417                 y-&gt;child[1] = z-&gt;child[1];
<a name="l01418"></a>01418                 y-&gt;child[1]-&gt;parent = y;
<a name="l01419"></a>01419             }
<a name="l01420"></a>01420             <a class="code" href="classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a.html#a98b9f200c64ce02dfb67902ee00e375a" title="Esta función es llamada en el delete para unir el padre del nodo a borrar con el hijo correspondiente...">transplant</a>(z, y);
<a name="l01421"></a>01421             y-&gt;child[0] = z-&gt;child[0];
<a name="l01422"></a>01422             y-&gt;child[0]-&gt;parent = y;
<a name="l01423"></a>01423             y-&gt;color = z-&gt;color;
<a name="l01424"></a>01424         }
<a name="l01425"></a>01425         count--;
<a name="l01426"></a>01426         <span class="keywordflow">if</span> (y_color_original == Color::Black &amp;&amp; x != <span class="keyword">nullptr</span>)
<a name="l01427"></a>01427             <a class="code" href="classaed2_1_1map_a7870c8f26e82b00d0aeb2e9f331dfec6.html#a7870c8f26e82b00d0aeb2e9f331dfec6" title="Esta función es llamada en erase cuando el nodo borrado es negro, lo que implica que la raiz pueda de...">erase_fixup</a>(iterator(x));
<a name="l01428"></a>01428         <span class="keyword">delete</span> z;
<a name="l01429"></a>01429         <span class="keywordflow">return</span> res;
<a name="l01430"></a>01430     }
<a name="l01431"></a>01431 
<a name="l01444"></a>01444     <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe.html#ad8e796bf9c9c558e5ce6b61e116253fe" title="Elimina el valor apuntado por pos">erase</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l01445"></a>01445         iterator it = <a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(key);
<a name="l01446"></a>01446         <a class="code" href="classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe.html#ad8e796bf9c9c558e5ce6b61e116253fe" title="Elimina el valor apuntado por pos">erase</a>(it);
<a name="l01447"></a>01447     }
<a name="l01448"></a>01448 
<a name="l01462"></a>01462     <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1map_a2bfa5165825979bf2431db55bc6bc9ca.html#a2bfa5165825979bf2431db55bc6bc9ca" title="Vacia el diccionario.">clear</a>() {
<a name="l01463"></a>01463         <span class="keywordflow">while</span> (not <a class="code" href="classaed2_1_1map_af5320ca0a7df4d16015441d5d055a7ee.html#af5320ca0a7df4d16015441d5d055a7ee" title="Indica si el diccionario esta vacío.">empty</a>()) {
<a name="l01464"></a>01464             <a class="code" href="classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe.html#ad8e796bf9c9c558e5ce6b61e116253fe" title="Elimina el valor apuntado por pos">erase</a>(<a class="code" href="classaed2_1_1map_a58a95705d54b3dda7f775ce5a22225cb.html#a58a95705d54b3dda7f775ce5a22225cb" title="Devuelve un iterador al primer valor del diccionario.">begin</a>());
<a name="l01465"></a>01465         }
<a name="l01466"></a>01466     }
<a name="l01467"></a>01467 
<a name="l01491"></a>01491     <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a64da1d965b13eb28cdb3837bc17a18cf.html#a64da1d965b13eb28cdb3837bc17a18cf" title="Crea un diccionario vacio.">map</a>&amp; other) {
<a name="l01492"></a>01492         <span class="keyword">using</span> <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">std::swap</a>;
<a name="l01493"></a>01493         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>, other.lt);
<a name="l01494"></a>01494         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(count, other.count);
<a name="l01495"></a>01495         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.parent, other.header.parent);
<a name="l01496"></a>01496         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0], other.header.child[0]);
<a name="l01497"></a>01497         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[1], other.header.child[1]);
<a name="l01498"></a>01498         <span class="keywordflow">if</span>(<a class="code" href="classaed2_1_1map_a07ab50eda249a57858a34037d4c4c7b2.html#a07ab50eda249a57858a34037d4c4c7b2" title="Devuelve un puntero al nodo raíz.">root</a>() != <span class="keyword">nullptr</span>) <a class="code" href="classaed2_1_1map_a07ab50eda249a57858a34037d4c4c7b2.html#a07ab50eda249a57858a34037d4c4c7b2" title="Devuelve un puntero al nodo raíz.">root</a>()-&gt;parent = &amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>;
<a name="l01499"></a>01499         <span class="keywordflow">if</span>(other.root() != <span class="keyword">nullptr</span>) other.root()-&gt;parent = &amp;other.header;
<a name="l01500"></a>01500 
<a name="l01501"></a>01501         <span class="comment">//nota: cuando el arbol es vacio, los child de header apuntan a header.  Notar que quedan apuntando mal despues del swap</span>
<a name="l01502"></a>01502         <span class="keywordflow">if</span>(<a class="code" href="classaed2_1_1map_a07ab50eda249a57858a34037d4c4c7b2.html#a07ab50eda249a57858a34037d4c4c7b2" title="Devuelve un puntero al nodo raíz.">root</a>() == <span class="keyword">nullptr</span>) <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0] = <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[1] = &amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>;
<a name="l01503"></a>01503         <span class="keywordflow">if</span>(other.root() == <span class="keyword">nullptr</span>) other.header.child[0] = other.header.child[1] = &amp;other.header;
<a name="l01504"></a>01504     }
<a name="l01506"></a>01506 
<a name="l01508"></a>01508 
<a name="l01509"></a>01509 
<a name="l01510"></a>01510 
<a name="l01511"></a>01511 
<a name="l01523"></a>01523     iterator <a class="code" href="classaed2_1_1map_a58a95705d54b3dda7f775ce5a22225cb.html#a58a95705d54b3dda7f775ce5a22225cb" title="Devuelve un iterador al primer valor del diccionario.">begin</a>() {
<a name="l01524"></a>01524         iterator it(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]);
<a name="l01525"></a>01525         <span class="keywordflow">return</span> it;
<a name="l01526"></a><a class="code" href="classaed2_1_1map_a1d10432d305bcb5f1af6ab7b75c27c1c.html#a1d10432d305bcb5f1af6ab7b75c27c1c">01526</a>     }
<a name="l01527"></a>01527 
<a name="l01529"></a>01529     const_iterator <a class="code" href="classaed2_1_1map_a58a95705d54b3dda7f775ce5a22225cb.html#a58a95705d54b3dda7f775ce5a22225cb" title="Devuelve un iterador al primer valor del diccionario.">begin</a>()<span class="keyword"> const </span>{
<a name="l01530"></a>01530         const_iterator it(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]);
<a name="l01531"></a>01531         <span class="keywordflow">return</span> it;
<a name="l01532"></a><a class="code" href="classaed2_1_1map_ab96ad892caa28f193481a578f4956a2a.html#ab96ad892caa28f193481a578f4956a2a">01532</a>     }
<a name="l01533"></a>01533 
<a name="l01535"></a>01535     const_iterator <a class="code" href="classaed2_1_1map_ab96ad892caa28f193481a578f4956a2a.html#ab96ad892caa28f193481a578f4956a2a">cbegin</a>() {
<a name="l01536"></a>01536         const_iterator it(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]);
<a name="l01537"></a>01537         <span class="keywordflow">return</span> it;
<a name="l01538"></a>01538     }
<a name="l01539"></a>01539 
<a name="l01552"></a>01552     iterator <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>() {
<a name="l01553"></a>01553         iterator it(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>);
<a name="l01554"></a>01554         <span class="keywordflow">return</span> it;
<a name="l01555"></a><a class="code" href="classaed2_1_1map_a1f847ad4fd46883ac60d764967172179.html#a1f847ad4fd46883ac60d764967172179">01555</a>     }
<a name="l01556"></a>01556 
<a name="l01558"></a>01558     const_iterator <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>()<span class="keyword"> const </span>{
<a name="l01559"></a>01559         const_iterator it(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>);
<a name="l01560"></a>01560         <span class="keywordflow">return</span> it;
<a name="l01561"></a><a class="code" href="classaed2_1_1map_a7bb91e94cbc875f1a011b142ef877912.html#a7bb91e94cbc875f1a011b142ef877912">01561</a>     }
<a name="l01562"></a>01562 
<a name="l01564"></a>01564     const_iterator <a class="code" href="classaed2_1_1map_a7bb91e94cbc875f1a011b142ef877912.html#a7bb91e94cbc875f1a011b142ef877912">cend</a>() {
<a name="l01565"></a>01565         const_iterator it(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>);
<a name="l01566"></a>01566         <span class="keywordflow">return</span> it;
<a name="l01567"></a>01567     }
<a name="l01568"></a>01568 
<a name="l01581"></a>01581     reverse_iterator <a class="code" href="classaed2_1_1map_ac412d3902112122c1bffe2d4283a4e9d.html#ac412d3902112122c1bffe2d4283a4e9d" title="Devuelve un iterador al primer valor del diccionario, en un recorrido al revés.">rbegin</a>() {
<a name="l01582"></a>01582         <span class="keywordflow">return</span> reverse_iterator(iterator(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>));
<a name="l01583"></a><a class="code" href="classaed2_1_1map_aa68b6888ae3e256203d4ef273c293586.html#aa68b6888ae3e256203d4ef273c293586">01583</a>     }
<a name="l01584"></a>01584 
<a name="l01586"></a>01586     const_reverse_iterator <a class="code" href="classaed2_1_1map_ac412d3902112122c1bffe2d4283a4e9d.html#ac412d3902112122c1bffe2d4283a4e9d" title="Devuelve un iterador al primer valor del diccionario, en un recorrido al revés.">rbegin</a>()<span class="keyword"> const </span>{
<a name="l01587"></a>01587         <span class="keywordflow">return</span> const_reverse_iterator(const_iterator(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>));
<a name="l01588"></a>01588 
<a name="l01589"></a><a class="code" href="classaed2_1_1map_a6ad62765a2b2e00247b9e35a7542b448.html#a6ad62765a2b2e00247b9e35a7542b448">01589</a>     }
<a name="l01590"></a>01590 
<a name="l01592"></a>01592     const_reverse_iterator <a class="code" href="classaed2_1_1map_a6ad62765a2b2e00247b9e35a7542b448.html#a6ad62765a2b2e00247b9e35a7542b448">crbegin</a>() {
<a name="l01593"></a>01593         <span class="keywordflow">return</span> const_reverse_iterator(const_iterator(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>));
<a name="l01594"></a>01594     }
<a name="l01595"></a>01595 
<a name="l01608"></a>01608     reverse_iterator <a class="code" href="classaed2_1_1map_a277f03b4f4b6b98879e4e4921081801f.html#a277f03b4f4b6b98879e4e4921081801f" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario, en un recorrido al re...">rend</a>() {
<a name="l01609"></a>01609         <span class="keywordflow">return</span> reverse_iterator(iterator(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]));
<a name="l01610"></a><a class="code" href="classaed2_1_1map_aafce6e53c53c460897613747fec89f9d.html#aafce6e53c53c460897613747fec89f9d">01610</a>     }
<a name="l01611"></a>01611 
<a name="l01613"></a>01613     const_reverse_iterator <a class="code" href="classaed2_1_1map_a277f03b4f4b6b98879e4e4921081801f.html#a277f03b4f4b6b98879e4e4921081801f" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario, en un recorrido al re...">rend</a>()<span class="keyword"> const </span>{
<a name="l01614"></a>01614         <span class="keywordflow">return</span> const_reverse_iterator(const_iterator(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]));
<a name="l01615"></a><a class="code" href="classaed2_1_1map_a40933b2efe1cb479de9195ea947244d1.html#a40933b2efe1cb479de9195ea947244d1">01615</a>     }
<a name="l01616"></a>01616 
<a name="l01618"></a>01618     const_reverse_iterator <a class="code" href="classaed2_1_1map_a40933b2efe1cb479de9195ea947244d1.html#a40933b2efe1cb479de9195ea947244d1">crend</a>() {
<a name="l01619"></a>01619         <span class="keywordflow">return</span> const_reverse_iterator(const_iterator(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]));
<a name="l01620"></a>01620     }
<a name="l01622"></a>01622 
<a name="l01652"></a>01652     <span class="keyword">class </span>iterator {
<a name="l01653"></a>01653         <span class="keyword">using</span> Node = <span class="keyword">typename</span> map::Node;
<a name="l01654"></a>01654         <span class="keyword">using</span> InnerNode = <span class="keyword">typename</span> map::InnerNode;
<a name="l01655"></a>01655     <span class="keyword">public</span>:
<a name="l01656"></a>01656 
<a name="l01658"></a>01658         <span class="keyword">using</span> iterator_category = std::bidirectional_iterator_tag;
<a name="l01660"></a>01660         <span class="keyword">using</span> value_type = map::value_type;
<a name="l01662"></a>01662         <span class="keyword">using</span> reference = map::reference;
<a name="l01664"></a>01664         <span class="keyword">using</span> pointer = map::pointer;
<a name="l01666"></a>01666         <span class="keyword">using</span> difference_type = std::ptrdiff_t;
<a name="l01667"></a>01667 
<a name="l01694"></a>01694         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>() {
<a name="l01695"></a>01695             n = <span class="keyword">nullptr</span>;
<a name="l01696"></a>01696         }
<a name="l01709"></a>01709         reference <a class="code" href="classaed2_1_1map_1_1iterator_a48e75896997d516fe69bc18f889222fe.html#a48e75896997d516fe69bc18f889222fe" title="Retorna el valor apuntado por *this">operator*</a>()<span class="keyword"> const </span>{
<a name="l01710"></a>01710             <span class="keywordflow">return</span> n-&gt;value();
<a name="l01711"></a>01711         }
<a name="l01727"></a>01727         pointer <a class="code" href="classaed2_1_1map_1_1iterator_a227de3b56a6ff2e6bb6de2d08277ca60.html#a227de3b56a6ff2e6bb6de2d08277ca60" title="Retorna la dirección del valor apuntado por *this">operator-&gt;</a>()<span class="keyword"> const </span>{
<a name="l01728"></a>01728             <span class="keywordflow">return</span> &amp;n-&gt;value();
<a name="l01729"></a>01729         }
<a name="l01745"></a>01745         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>&amp; <a class="code" href="classaed2_1_1map_1_1iterator_a7c44de7f0508186e135ddbcfe782fec5.html#a7c44de7f0508186e135ddbcfe782fec5" title="Avanza el iterador a la siguiente posición.">operator++</a>() {
<a name="l01746"></a>01746             n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(n-&gt;inmediato(1));
<a name="l01747"></a>01747             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01748"></a>01748         }
<a name="l01764"></a>01764         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> <a class="code" href="classaed2_1_1map_1_1iterator_a7c44de7f0508186e135ddbcfe782fec5.html#a7c44de7f0508186e135ddbcfe782fec5" title="Avanza el iterador a la siguiente posición.">operator++</a>(<span class="keywordtype">int</span>) {
<a name="l01765"></a>01765             <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> it = <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>(n);
<a name="l01766"></a>01766             n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(n-&gt;inmediato(1));
<a name="l01767"></a>01767             <span class="keywordflow">return</span> it;
<a name="l01768"></a>01768         }
<a name="l01784"></a>01784         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>&amp; <a class="code" href="classaed2_1_1map_1_1iterator_ae7f70f71545d2a9de17b65edaaec748a.html#ae7f70f71545d2a9de17b65edaaec748a" title="Retrocede el iterador a la posición anterior.">operator--</a>() {
<a name="l01785"></a>01785             n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(n-&gt;inmediato(0));
<a name="l01786"></a>01786             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01787"></a>01787         }
<a name="l01803"></a>01803         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> <a class="code" href="classaed2_1_1map_1_1iterator_ae7f70f71545d2a9de17b65edaaec748a.html#ae7f70f71545d2a9de17b65edaaec748a" title="Retrocede el iterador a la posición anterior.">operator--</a>(<span class="keywordtype">int</span>) {
<a name="l01804"></a>01804             <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> it = <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>(n);
<a name="l01805"></a>01805             n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(n-&gt;inmediato(0));
<a name="l01806"></a>01806             <span class="keywordflow">return</span> it;
<a name="l01807"></a>01807         }
<a name="l01808"></a>01808 
<a name="l01826"></a>01826         <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_1_1iterator_ad052c1ef8477a1613c292202226053a5.html#ad052c1ef8477a1613c292202226053a5" title="Operador de igualdad.">operator==</a>(<a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> other)<span class="keyword"> const </span>{
<a name="l01827"></a><a class="code" href="classaed2_1_1map_1_1iterator_a836c7a166d63f507c4f79085ae953c51.html#a836c7a166d63f507c4f79085ae953c51">01827</a>              <span class="keywordflow">return</span> (n == other.n);
<a name="l01828"></a>01828         }
<a name="l01830"></a>01830         <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_1_1iterator_a836c7a166d63f507c4f79085ae953c51.html#a836c7a166d63f507c4f79085ae953c51" title="idem !|operator==">operator!=</a>(<a class="code" href="classaed2_1_1map_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> other)<span class="keyword"> const </span>{
<a name="l01831"></a>01831              <span class="keywordflow">return</span> (n != other.n);
<a name="l01832"></a>01832         }
<a name="l01833"></a>01833 
<a name="l01834"></a>01834     <span class="keyword">private</span>:
<a name="l01855"></a>01855         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>(Node* pos) : n(pos) {}
<a name="l01866"></a>01866         <a class="code" href="classaed2_1_1map_1_1iterator_a7fe2cdc033cd899dc9fd1da08ac3b39e.html#a7fe2cdc033cd899dc9fd1da08ac3b39e" title="Operador de casteo a Node*.">operator Node*</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> n;}
<a name="l01868"></a>01868 
<a name="l01902"></a>01902 
<a name="l01903"></a><a class="code" href="classaed2_1_1map_1_1iterator_aeda338414e516b47761f994fb78056c6.html#aeda338414e516b47761f994fb78056c6">01903</a> 
<a name="l01904"></a>01904 
<a name="l01907"></a>01907         <a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">Node</a>* n{<span class="keyword">nullptr</span>};
<a name="l01909"></a>01909         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>;
<a name="l01910"></a>01910     };
<a name="l01911"></a>01911 
<a name="l01918"></a>01918     <span class="keyword">class </span>const_iterator {
<a name="l01919"></a>01919         <span class="keyword">using</span> Node = <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">map::Node</a>;
<a name="l01920"></a>01920         <span class="keyword">using</span> InnerNode = <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="structaed2_1_1map_1_1InnerNode.html" title="Estructura (privada) de un nodo no cabecera del árbol red-black.">map::InnerNode</a>;
<a name="l01921"></a>01921     <span class="keyword">public</span>:
<a name="l01922"></a>01922         <span class="keyword">using</span> iterator_category = std::bidirectional_iterator_tag;
<a name="l01923"></a>01923         <span class="keyword">using</span> value_type = map::value_type;
<a name="l01924"></a>01924         <span class="keyword">using</span> reference = map::const_reference;
<a name="l01925"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555.html#a8add3e4cabbdaf313b0e085064491555">01925</a>         <span class="keyword">using</span> pointer = map::const_pointer;
<a name="l01926"></a>01926         <span class="keyword">using</span> difference_type = std::ptrdiff_t;
<a name="l01927"></a>01927 
<a name="l01929"></a>01929         <a class="code" href="classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555.html#a8add3e4cabbdaf313b0e085064491555" title="Ver aed2::map::iterator::iterator()">const_iterator</a>() : n(nullptr) {}
<a name="l01947"></a>01947         <a class="code" href="classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555.html#a8add3e4cabbdaf313b0e085064491555" title="Ver aed2::map::iterator::iterator()">const_iterator</a>(<a class="code" href="classaed2_1_1map_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it) {
<a name="l01948"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a3e8bf3ace171a4156dbf681fac671db9.html#a3e8bf3ace171a4156dbf681fac671db9">01948</a> 
<a name="l01949"></a>01949             n = it.n;
<a name="l01950"></a>01950         }
<a name="l01952"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a5cb0d5307b937d0bcda7d65379ce5208.html#a5cb0d5307b937d0bcda7d65379ce5208">01952</a>         reference <a class="code" href="classaed2_1_1map_1_1const__iterator_a3e8bf3ace171a4156dbf681fac671db9.html#a3e8bf3ace171a4156dbf681fac671db9" title="Ver aed2::map::iterator::operator*()">operator*</a>()<span class="keyword"> const  </span>{
<a name="l01953"></a>01953             <span class="keywordflow">return</span> n-&gt;value();
<a name="l01954"></a>01954         }
<a name="l01956"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_adaada1d489552555135d2ea89c67c271.html#adaada1d489552555135d2ea89c67c271">01956</a>         pointer <a class="code" href="classaed2_1_1map_1_1const__iterator_a5cb0d5307b937d0bcda7d65379ce5208.html#a5cb0d5307b937d0bcda7d65379ce5208" title="Ver aed2::map::iterator::operator-&gt;()">operator-&gt;</a>()<span class="keyword"> const </span>{
<a name="l01957"></a>01957             <span class="keywordflow">return</span> &amp;n-&gt;value();
<a name="l01958"></a>01958         }
<a name="l01960"></a>01960         <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a>&amp; <a class="code" href="classaed2_1_1map_1_1const__iterator_adaada1d489552555135d2ea89c67c271.html#adaada1d489552555135d2ea89c67c271" title="Ver aed2::map::iterator::operator++()">operator++</a>() {
<a name="l01961"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a2fbc216b2f11694bb567ea850bcfdb2e.html#a2fbc216b2f11694bb567ea850bcfdb2e">01961</a>             n = n-&gt;inmediato(1);
<a name="l01962"></a>01962             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01963"></a>01963         }
<a name="l01965"></a>01965         <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> <a class="code" href="classaed2_1_1map_1_1const__iterator_adaada1d489552555135d2ea89c67c271.html#adaada1d489552555135d2ea89c67c271" title="Ver aed2::map::iterator::operator++()">operator++</a>(<span class="keywordtype">int</span>)  {
<a name="l01966"></a>01966             <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> it(n);
<a name="l01967"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_ae12d6608eeca05957fa3de3f50287c90.html#ae12d6608eeca05957fa3de3f50287c90">01967</a>             n = n-&gt;inmediato(1);
<a name="l01968"></a>01968             <span class="keywordflow">return</span> it;
<a name="l01969"></a>01969         }
<a name="l01971"></a>01971         <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a>&amp; <a class="code" href="classaed2_1_1map_1_1const__iterator_ae12d6608eeca05957fa3de3f50287c90.html#ae12d6608eeca05957fa3de3f50287c90" title="Ver aed2::map::iterator::operator--()">operator--</a>()  {
<a name="l01972"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_ad5ae1cb1d000ac1f528ff32f9af3e228.html#ad5ae1cb1d000ac1f528ff32f9af3e228">01972</a>             n = n-&gt;inmediato(0);
<a name="l01973"></a>01973             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01974"></a>01974         }
<a name="l01976"></a>01976         <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> <a class="code" href="classaed2_1_1map_1_1const__iterator_ae12d6608eeca05957fa3de3f50287c90.html#ae12d6608eeca05957fa3de3f50287c90" title="Ver aed2::map::iterator::operator--()">operator--</a>(<span class="keywordtype">int</span>) {
<a name="l01977"></a>01977             <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> it(n);
<a name="l01978"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_af837632a6c4a88ec13c4c96153538494.html#af837632a6c4a88ec13c4c96153538494">01978</a>             n = n-&gt;inmediato(0);
<a name="l01979"></a>01979             <span class="keywordflow">return</span> it;
<a name="l01980"></a>01980         }
<a name="l01982"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a40b9e921ad9c25aded17f394b9534510.html#a40b9e921ad9c25aded17f394b9534510">01982</a>         <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_1_1const__iterator_af837632a6c4a88ec13c4c96153538494.html#af837632a6c4a88ec13c4c96153538494" title="Ver aed2::map::iterator::operator==()">operator==</a>(<a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> other)<span class="keyword"> const  </span>{
<a name="l01983"></a>01983             <span class="keywordflow">return</span> (n == other.n);
<a name="l01984"></a>01984         }
<a name="l01986"></a>01986         <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_1_1const__iterator_a40b9e921ad9c25aded17f394b9534510.html#a40b9e921ad9c25aded17f394b9534510" title="Ver aed2::map::iterator::operator!=()">operator!=</a>(<a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> other)<span class="keyword"> const  </span>{
<a name="l01987"></a>01987           <span class="keywordflow">return</span> (n != other.n);
<a name="l01988"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a195d395708167dca23f9ce49f7c604f3.html#a195d395708167dca23f9ce49f7c604f3">01988</a>         }
<a name="l01989"></a>01989 
<a name="l01990"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a637c0f083a23ec4a262d47baeecafcf3.html#a637c0f083a23ec4a262d47baeecafcf3">01990</a>     <span class="keyword">private</span>:
<a name="l01992"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_aeda338414e516b47761f994fb78056c6.html#aeda338414e516b47761f994fb78056c6">01992</a>         <a class="code" href="classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555.html#a8add3e4cabbdaf313b0e085064491555" title="Ver aed2::map::iterator::iterator()">const_iterator</a>(<a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">Node</a>* pos) : n(pos) {}
<a name="l01994"></a>01994         <a class="code" href="classaed2_1_1map_1_1const__iterator_a637c0f083a23ec4a262d47baeecafcf3.html#a637c0f083a23ec4a262d47baeecafcf3" title="Ver aed2::map::iterator::operator Node*()">operator Node*</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> n;}
<a name="l01996"></a>01996         Node* n{<span class="keyword">nullptr</span>};
<a name="l01997"></a>01997         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classaed2_1_1map_1_1const__iterator_aeda338414e516b47761f994fb78056c6.html#aeda338414e516b47761f994fb78056c6" title="Ver aed2::map::iterator::n.">map</a>;
<a name="l01998"></a>01998     };
<a name="l01999"></a>01999 
<a name="l02000"></a>02000 <span class="keyword">private</span>:
<a name="l02001"></a>02001     <span class="keyword">friend</span> <span class="keyword">class </span>iterator;
<a name="l02002"></a>02002     <span class="keyword">friend</span> <span class="keyword">class </span>const_iterator;
<a name="l02003"></a>02003 
<a name="l02013"></a>02013     <span class="keyword">enum class</span> <a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a> {Red, Black, Header};
<a name="l02014"></a>02014 
<a name="l02031"></a>02031     <span class="keyword">struct </span>Node {
<a name="l02033"></a>02033         <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* child[2]{<span class="keyword">nullptr</span>,<span class="keyword">nullptr</span>};
<a name="l02035"></a>02035         <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* parent{<span class="keyword">nullptr</span>};
<a name="l02037"></a>02037         <a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a> color{Color::Red};
<a name="l02038"></a>02038 
<a name="l02040"></a>02040 
<a name="l02041"></a>02041 
<a name="l02042"></a>02042 
<a name="l02043"></a>02043 
<a name="l02051"></a>02051         <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>() : color(<a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a>::Header) {
<a name="l02052"></a>02052             child[0] = child[1] = <span class="keyword">this</span>;
<a name="l02053"></a>02053         }
<a name="l02054"></a>02054 
<a name="l02065"></a>02065         <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>(<a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* p, <a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a> c = Color::Red) : color(c) {
<a name="l02066"></a>02066             child[0] = child[1] = <span class="keyword">nullptr</span>;
<a name="l02067"></a>02067             parent = p;
<a name="l02068"></a>02068         }
<a name="l02069"></a>02069 
<a name="l02071"></a>02071         
<a name="l02086"></a>02086         <span class="keyword">virtual</span> <a class="code" href="structaed2_1_1map_1_1Node_a4f3cb2cc4302fe96432e624ced147540.html#a4f3cb2cc4302fe96432e624ced147540" title="Destructor de Node.">~Node</a>() {}
<a name="l02087"></a>02087 
<a name="l02089"></a>02089 
<a name="l02090"></a>02090 
<a name="l02091"></a>02091 
<a name="l02092"></a>02092 
<a name="l02110"></a>02110         <span class="keywordtype">bool</span> <a class="code" href="structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca.html#ae6cc4598a60dbab7120ffae58ebbadca" title="Devuelve true si el nodo actual es el header de la estructura.">is_header</a>()<span class="keyword"> const </span>{
<a name="l02111"></a>02111             <span class="keywordflow">return</span> color == Color::Header;
<a name="l02112"></a>02112         }
<a name="l02113"></a>02113 
<a name="l02126"></a>02126         value_type&amp; <a class="code" href="structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb.html#af4ada8e79dabb4849fc87de63d3970fb" title="Devuelve el valor asociado a un nodo no cabecera.">value</a>() {
<a name="l02127"></a>02127             assert(not <a class="code" href="structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca.html#ae6cc4598a60dbab7120ffae58ebbadca" title="Devuelve true si el nodo actual es el header de la estructura.">is_header</a>());
<a name="l02128"></a><a class="code" href="structaed2_1_1map_1_1Node_a747a33f40ad748d750372fe73aea0b32.html#a747a33f40ad748d750372fe73aea0b32">02128</a>             <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="structaed2_1_1map_1_1InnerNode.html" title="Estructura (privada) de un nodo no cabecera del árbol red-black.">InnerNode</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;_value;
<a name="l02129"></a>02129         }
<a name="l02130"></a>02130 
<a name="l02132"></a>02132         <span class="keyword">const</span> value_type&amp; <a class="code" href="structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb.html#af4ada8e79dabb4849fc87de63d3970fb" title="Devuelve el valor asociado a un nodo no cabecera.">value</a>()<span class="keyword"> const </span>{
<a name="l02133"></a>02133             assert(not <a class="code" href="structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca.html#ae6cc4598a60dbab7120ffae58ebbadca" title="Devuelve true si el nodo actual es el header de la estructura.">is_header</a>());
<a name="l02134"></a>02134             <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="structaed2_1_1map_1_1InnerNode.html" title="Estructura (privada) de un nodo no cabecera del árbol red-black.">InnerNode</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;_value;
<a name="l02135"></a>02135         }
<a name="l02136"></a>02136 
<a name="l02149"></a>02149         <span class="keyword">const</span> Key&amp; <a class="code" href="structaed2_1_1map_1_1Node_a5451f8da0b7ad3582fab1decad5d09cb.html#a5451f8da0b7ad3582fab1decad5d09cb" title="Devuelve la clave del valor de un nodo no cabecera.">key</a>()<span class="keyword"> const </span>{
<a name="l02150"></a>02150             assert(not <a class="code" href="structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca.html#ae6cc4598a60dbab7120ffae58ebbadca" title="Devuelve true si el nodo actual es el header de la estructura.">is_header</a>());
<a name="l02151"></a>02151             <span class="keywordflow">return</span> <a class="code" href="structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb.html#af4ada8e79dabb4849fc87de63d3970fb" title="Devuelve el valor asociado a un nodo no cabecera.">value</a>().first;
<a name="l02152"></a>02152         }
<a name="l02153"></a>02153 
<a name="l02155"></a>02155 
<a name="l02166"></a>02166         <span class="keyword">const</span> <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* <a class="code" href="structaed2_1_1map_1_1Node_a4d5263c74ea5f78025fea331267730ce.html#a4d5263c74ea5f78025fea331267730ce">inmediato</a>(<span class="keywordtype">int</span> dir)<span class="keyword"> const </span>{
<a name="l02167"></a>02167             <span class="keyword">const</span> <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* res = <span class="keyword">this</span>;
<a name="l02168"></a>02168             <span class="keywordflow">if</span> (res-&gt;is_header())
<a name="l02169"></a>02169                 res = res-&gt;child[1-dir];
<a name="l02170"></a>02170             <span class="keywordflow">else</span> {
<a name="l02171"></a>02171                 if (res-&gt;child[dir] != <span class="keyword">nullptr</span>) {
<a name="l02172"></a>02172                     res = res-&gt;child[dir];
<a name="l02173"></a>02173                     <span class="keywordflow">while</span> (res-&gt;child[1-dir] != <span class="keyword">nullptr</span>)
<a name="l02174"></a>02174                         res = res-&gt;child[1-dir];
<a name="l02175"></a>02175                 } <span class="keywordflow">else</span> {
<a name="l02176"></a>02176                     <span class="keywordflow">while</span> (not res-&gt;parent-&gt;is_header() &amp;&amp; res == res-&gt;parent-&gt;child[dir])
<a name="l02177"></a>02177                         res = res-&gt;parent;
<a name="l02178"></a>02178                     res = res-&gt;parent;
<a name="l02179"></a>02179                 }
<a name="l02180"></a>02180             }
<a name="l02181"></a>02181             <span class="keywordflow">return</span> res;
<a name="l02182"></a>02182         }
<a name="l02183"></a>02183 
<a name="l02191"></a>02191         Node* sub_minimo()<span class="keyword"> const </span>{
<a name="l02192"></a>02192             Node* res = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);
<a name="l02193"></a>02193             <span class="keywordflow">while</span> (res-&gt;child[0] != <span class="keyword">nullptr</span>)
<a name="l02194"></a>02194                 res = res-&gt;child[0];
<a name="l02195"></a>02195             <span class="keywordflow">return</span> res;
<a name="l02196"></a>02196         }
<a name="l02197"></a>02197 
<a name="l02203"></a>02203         <span class="keywordtype">void</span> print(<span class="keywordtype">int</span> tab = 0)<span class="keyword"> const </span>{
<a name="l02204"></a>02204             std::cout &lt;&lt; std::string(tab, <span class="charliteral">&#39; &#39;</span>) &lt;&lt; value().first &lt;&lt; <span class="stringliteral">&quot;-&gt;&quot;</span> &lt;&lt; value().second &lt;&lt; <span class="stringliteral">&quot;   (&quot;</span> &lt;&lt; (color == Color::Red ? <span class="stringliteral">&quot;Red)&quot;</span> : <span class="stringliteral">&quot;Black)&quot;</span>) &lt;&lt; std::endl;
<a name="l02205"></a>02205             <span class="keywordflow">if</span>(child[0]) child[0]-&gt;print(tab + 2);
<a name="l02206"></a>02206             <span class="keywordflow">if</span>(child[1]) child[1]-&gt;print(tab + 2);
<a name="l02207"></a>02207         }
<a name="l02208"></a>02208     };
<a name="l02209"></a>02209 
<a name="l02226"></a>02226     <span class="keyword">struct </span>InnerNode : <span class="keyword">public</span> Node {
<a name="l02227"></a>02227         value_type _value;
<a name="l02228"></a>02228 
<a name="l02229"></a>02229         InnerNode(Node* p, <span class="keyword">const</span> value_type&amp; v): Node(p, Color::Red), _value(v) {}
<a name="l02230"></a>02230     };
<a name="l02231"></a>02231 
<a name="l02233"></a>02233 
<a name="l02255"></a>02255 
<a name="l02256"></a>02256 
<a name="l02257"></a><a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a">02257</a> 
<a name="l02261"></a>02261     Compare lt;
<a name="l02263"></a>02263     <span class="keywordtype">size_t</span> count{0};
<a name="l02265"></a>02265     Node header;
<a name="l02267"></a>02267 
<a name="l02269"></a>02269 
<a name="l02270"></a>02270 
<a name="l02271"></a>02271 
<a name="l02272"></a>02272 
<a name="l02277"></a>02277     <span class="keyword">inline</span> InnerNode* root() { <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>InnerNode*<span class="keyword">&gt;</span>(header.parent); }
<a name="l02278"></a>02278 
<a name="l02280"></a>02280     <span class="keyword">inline</span> <span class="keyword">const</span> InnerNode* root()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>InnerNode*<span class="keyword">&gt;</span>(header.parent); }
<a name="l02282"></a>02282 
<a name="l02284"></a>02284 
<a name="l02285"></a>02285 
<a name="l02286"></a>02286 
<a name="l02293"></a>02293     <span class="keyword">inline</span> <span class="keywordtype">bool</span> eq(<span class="keyword">const</span> Key&amp; k1, <span class="keyword">const</span> Key&amp; k2)<span class="keyword"> const </span>{
<a name="l02294"></a>02294         <span class="keywordflow">return</span> lt(k1, k2) == lt(k2, k1);
<a name="l02295"></a>02295     }
<a name="l02296"></a>02296 
<a name="l02308"></a>02308     std::pair&lt;Node*, Node*&gt; bounds(<span class="keyword">const</span> Key&amp; key) {
<a name="l02309"></a><a class="code" href="classaed2_1_1map_a4d903414b3f1f1e6f785342bb3900572.html#a4d903414b3f1f1e6f785342bb3900572">02309</a>         <span class="keyword">auto</span> r = <span class="keyword">const_cast&lt;</span><span class="keyword">const </span><a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classaed2_1_1map_a4d903414b3f1f1e6f785342bb3900572.html#a4d903414b3f1f1e6f785342bb3900572" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">bounds</a>(key);
<a name="l02310"></a>02310         <span class="keywordflow">return</span> std::make_pair(const_cast&lt;Node*&gt;(r.first), const_cast&lt;Node*&gt;(r.second));
<a name="l02311"></a>02311     }
<a name="l02312"></a>02312 
<a name="l02313"></a>02313     std::pair&lt;const Node*, const Node*&gt; bounds(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l02314"></a>02314         <span class="keyword">const</span> Node* res[2] = {&amp;header, &amp;header}, *indice = root();
<a name="l02315"></a>02315         <span class="keywordflow">while</span> (indice != <span class="keyword">nullptr</span> &amp;&amp; !eq(indice-&gt;key(), key)){
<a name="l02316"></a>02316             <span class="keyword">auto</span> dir = lt(indice-&gt;key(), key);
<a name="l02317"></a>02317             res[1-dir] = indice;
<a name="l02318"></a>02318             indice = indice-&gt;child[dir];
<a name="l02319"></a>02319         }
<a name="l02320"></a>02320         <span class="keywordflow">if</span> (indice != <span class="keyword">nullptr</span>){
<a name="l02321"></a>02321             res[0] = res[1] = indice;
<a name="l02322"></a>02322         }
<a name="l02323"></a>02323         <span class="keywordflow">return</span> std::make_pair(res[0], res[1]);
<a name="l02324"></a>02324     }
<a name="l02325"></a>02325 
<a name="l02336"></a>02336     <span class="keywordtype">void</span> insert_fixup(iterator it){
<a name="l02337"></a>02337         Node* n = it.n;
<a name="l02338"></a>02338         Node* y;
<a name="l02339"></a>02339         <span class="keywordflow">while</span> (n-&gt;parent-&gt;color == Color::Red) {
<a name="l02340"></a>02340             <span class="keyword">auto</span> dir = n-&gt;parent == n-&gt;parent-&gt;parent-&gt;child[0];
<a name="l02341"></a>02341             y = n-&gt;parent-&gt;parent-&gt;child[dir];
<a name="l02342"></a>02342             <span class="keywordflow">if</span> (y == <span class="keyword">nullptr</span>)
<a name="l02343"></a>02343                 y = &amp;header;
<a name="l02344"></a>02344             <span class="keywordflow">if</span> (y-&gt;color == Color::Red) {
<a name="l02345"></a>02345                 n-&gt;parent-&gt;color = Color::Black;
<a name="l02346"></a>02346                 y-&gt;color = Color::Black;
<a name="l02347"></a>02347                 n-&gt;parent-&gt;parent-&gt;color = Color::Red;
<a name="l02348"></a>02348                 n = n-&gt;parent-&gt;parent;
<a name="l02349"></a>02349             } <span class="keywordflow">else</span> {
<a name="l02350"></a>02350                 <span class="keywordflow">if</span> (n == n-&gt;parent-&gt;child[dir])  {
<a name="l02351"></a>02351                     n = n-&gt;parent;
<a name="l02352"></a>02352                     iterator it2 = iterator(n);
<a name="l02353"></a>02353                     dir_rotate(it2, 1 - dir);
<a name="l02354"></a>02354                 }
<a name="l02355"></a>02355                 n-&gt;parent-&gt;color = Color::Black;
<a name="l02356"></a>02356                 n-&gt;parent-&gt;parent-&gt;color = Color::Red;
<a name="l02357"></a>02357                 iterator it3(n-&gt;parent-&gt;parent);
<a name="l02358"></a>02358                 dir_rotate(it3, dir);
<a name="l02359"></a>02359             }
<a name="l02360"></a>02360         }
<a name="l02361"></a>02361         header.parent-&gt;color = Color::Black;
<a name="l02362"></a>02362     }
<a name="l02375"></a>02375     <span class="keywordtype">void</span> dir_rotate(iterator it, <span class="keywordtype">int</span> dir){
<a name="l02376"></a>02376         Node* n = it.n;
<a name="l02377"></a>02377         Node* y = it.n-&gt;child[1-dir];
<a name="l02378"></a>02378         n-&gt;child[1-dir] = y-&gt;child[dir];
<a name="l02379"></a>02379         <span class="keywordflow">if</span> (y-&gt;child[dir] != <span class="keyword">nullptr</span>)
<a name="l02380"></a>02380             y-&gt;child[dir]-&gt;parent = n;
<a name="l02381"></a>02381         y-&gt;parent = n-&gt;parent;
<a name="l02382"></a>02382         <span class="keywordflow">if</span>(n-&gt;parent-&gt;is_header())
<a name="l02383"></a>02383             header.parent = y;
<a name="l02384"></a>02384         <span class="keywordflow">else</span> if (n == n-&gt;parent-&gt;child[dir])
<a name="l02385"></a>02385             n-&gt;parent-&gt;child[dir] = y;
<a name="l02386"></a>02386         <span class="keywordflow">else</span>
<a name="l02387"></a>02387             n-&gt;parent-&gt;child[1-dir] = y;
<a name="l02388"></a>02388         y-&gt;child[dir] = n;
<a name="l02389"></a>02389         n-&gt;parent = y;
<a name="l02390"></a>02390     }
<a name="l02391"></a>02391 
<a name="l02406"></a>02406     <span class="keywordtype">void</span> transplant(Node* u, Node* v){
<a name="l02407"></a>02407         <span class="keywordflow">if</span> (u-&gt;parent-&gt;is_header())
<a name="l02408"></a>02408             header.parent = v;
<a name="l02409"></a>02409         <span class="keywordflow">else</span> if (u == u-&gt;parent-&gt;child[0])
<a name="l02410"></a>02410             u-&gt;parent-&gt;child[0] = v;
<a name="l02411"></a>02411         <span class="keywordflow">else</span>
<a name="l02412"></a>02412             u-&gt;parent-&gt;child[1] = v;
<a name="l02413"></a>02413         <span class="keywordflow">if</span> (v != <span class="keyword">nullptr</span>)
<a name="l02414"></a>02414             v-&gt;parent = u-&gt;parent;
<a name="l02415"></a>02415     }
<a name="l02416"></a>02416 
<a name="l02431"></a>02431     <span class="keywordtype">void</span> erase_fixup(iterator it){
<a name="l02432"></a>02432         Node* x = it.n;
<a name="l02433"></a>02433         Node* w;
<a name="l02434"></a>02434         <span class="keywordflow">while</span> (x != header.parent &amp;&amp; x-&gt;color == Color::Black){
<a name="l02435"></a>02435             <span class="keyword">auto</span> dir = (x == x-&gt;parent-&gt;child[0]);
<a name="l02436"></a>02436             w = x-&gt;parent-&gt;child[dir];
<a name="l02437"></a>02437             <span class="keywordflow">if</span> (w-&gt;color == Color::Red){
<a name="l02438"></a>02438                 w-&gt;color = Color::Black;
<a name="l02439"></a>02439                 x-&gt;parent-&gt;color = Color::Red;
<a name="l02440"></a>02440                 it.n = x-&gt;parent;
<a name="l02441"></a>02441                 dir_rotate(it, 1-dir);
<a name="l02442"></a>02442                 w = x-&gt;parent-&gt;child[dir];
<a name="l02443"></a>02443             }
<a name="l02444"></a>02444             <span class="keyword">auto</span> kaka = it.n-&gt;value();
<a name="l02445"></a>02445             <span class="keyword">auto</span> wkaka = w-&gt;value();
<a name="l02446"></a>02446             <span class="keywordflow">if</span> ((w-&gt;child[1-dir] == <span class="keyword">nullptr</span> || w-&gt;child[1-dir]-&gt;color == Color::Black) &amp;&amp; (w-&gt;child[dir] == <span class="keyword">nullptr</span> || w-&gt;child[dir]-&gt;color == Color::Black)){
<a name="l02447"></a>02447                 w-&gt;color = Color::Red;
<a name="l02448"></a>02448                 x = x-&gt;parent;
<a name="l02449"></a>02449             } <span class="keywordflow">else</span> {
<a name="l02450"></a>02450                 <span class="keywordflow">if</span> (w-&gt;child[dir]-&gt;color == Color::Black){
<a name="l02451"></a>02451                     w-&gt;child[1-dir]-&gt;color = Color::Black;
<a name="l02452"></a>02452                     w-&gt;color = Color::Red;
<a name="l02453"></a>02453                     dir_rotate(iterator(w), dir);
<a name="l02454"></a>02454                     w = x-&gt;parent-&gt;child[dir];
<a name="l02455"></a>02455                 }
<a name="l02456"></a>02456                 w-&gt;color = x-&gt;parent-&gt;color;
<a name="l02457"></a>02457                 x-&gt;parent-&gt;color = Color::Black;
<a name="l02458"></a>02458                 w-&gt;child[dir]-&gt;color = Color::Black;
<a name="l02459"></a>02459                 it.n = x-&gt;parent;
<a name="l02460"></a>02460                 dir_rotate(it, 1-dir);
<a name="l02461"></a>02461                 x = header.parent;
<a name="l02462"></a>02462             }
<a name="l02463"></a>02463         }
<a name="l02464"></a>02464         x-&gt;color = Color::Black;
<a name="l02465"></a>02465     }
<a name="l02466"></a>02466 
<a name="l02482"></a>02482     <span class="keywordtype">bool</span> hintValido(const_iterator hint, <span class="keyword">const</span> value_type&amp; value)<span class="keyword"> const </span>{
<a name="l02483"></a>02483         <span class="keywordtype">bool</span> res;
<a name="l02484"></a>02484         <span class="keywordflow">if</span> (hint.n == <span class="keyword">nullptr</span>)
<a name="l02485"></a>02485             res = <span class="keyword">false</span>;
<a name="l02486"></a>02486         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hint == end())
<a name="l02487"></a>02487             res = (count == 0 || lt(header.child[1]-&gt;key(), value.first));
<a name="l02488"></a>02488         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hint == begin())
<a name="l02489"></a>02489             res = lt(value.first, hint.n-&gt;key());
<a name="l02490"></a>02490         <span class="keywordflow">else</span>
<a name="l02491"></a>02491             res = lt(value.first, hint.n-&gt;key()) &amp;&amp; lt((--hint).n-&gt;key(), value.first);
<a name="l02492"></a>02492         <span class="keywordflow">return</span> res;
<a name="l02493"></a>02493     }
<a name="l02494"></a>02494 
<a name="l02510"></a>02510     iterator insert_rapido(const_iterator hint, <span class="keyword">const</span> value_type&amp; value) {
<a name="l02511"></a>02511         iterator it(const_cast&lt;Node*&gt;(hint.n));
<a name="l02512"></a>02512         <span class="keywordflow">if</span> (it.n-&gt;is_header() || !eq(it.n-&gt;key(), value.first)) {
<a name="l02513"></a>02513             <span class="keywordflow">if</span> (it != begin())
<a name="l02514"></a>02514                 it--;
<a name="l02515"></a>02515             Node *padre = it.n;
<a name="l02516"></a>02516             InnerNode *nuevo = <span class="keyword">new</span> InnerNode(padre, value);
<a name="l02517"></a>02517             <span class="keywordtype">bool</span> esElMenor = (count == 0) || lt(value.first, begin().n-&gt;key());
<a name="l02518"></a>02518             <span class="keywordtype">bool</span> esElMayor = (count == 0) || lt(header.child[1]-&gt;key(), value.first);
<a name="l02519"></a>02519             <span class="keywordflow">if</span> (esElMenor)
<a name="l02520"></a>02520                 header.child[0] = nuevo;
<a name="l02521"></a>02521             <span class="keywordflow">if</span> (esElMayor)
<a name="l02522"></a>02522                 header.child[1] = nuevo;
<a name="l02523"></a>02523             <span class="keywordflow">if</span> (padre-&gt;is_header()) {
<a name="l02524"></a>02524                 header.parent = nuevo;
<a name="l02525"></a>02525             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt(nuevo-&gt;key(), padre-&gt;key()))
<a name="l02526"></a>02526                 padre-&gt;child[0] = nuevo;
<a name="l02527"></a>02527             <span class="keywordflow">else</span>
<a name="l02528"></a>02528                 padre-&gt;child[1] = nuevo;
<a name="l02529"></a>02529             count++;
<a name="l02530"></a>02530             it.n = nuevo;
<a name="l02531"></a>02531             insert_fixup(it);
<a name="l02532"></a><a class="code" href="classaed2_1_1map_a98aadc6fb2ac8f51567a98473a90c30f.html#a98aadc6fb2ac8f51567a98473a90c30f">02532</a>         }
<a name="l02533"></a>02533         <span class="keywordflow">return</span> it;
<a name="l02534"></a>02534     }
<a name="l02535"></a>02535 
<a name="l02536"></a>02536     <span class="keywordtype">void</span> show() {
<a name="l02537"></a>02537         <span class="keyword">auto</span> it = begin();
<a name="l02538"></a>02538         <span class="keywordflow">while</span> (it != end()) {
<a name="l02539"></a>02539             it.n-&gt;print();
<a name="l02540"></a>02540             it++;
<a name="l02541"></a>02541         }
<a name="l02542"></a>02542     }
<a name="l02543"></a>02543 };
<a name="l02544"></a>02544 
<a name="l02546"></a>02546 
<a name="l02547"></a>02547 
<a name="l02548"></a>02548 
<a name="l02549"></a>02549 
<a name="l02572"></a>02572 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02573"></a>02573 <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_abfc51b39670220e79037ac067006e933.html#abfc51b39670220e79037ac067006e933" title="Operador de igualdad entre dos diccionarios.">operator==</a>(<span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02574"></a>02574     <span class="keywordflow">return</span> m1.size() == m2.size() and std::equal(m1.begin(), m1.end(), m2.begin());
<a name="l02575"></a>02575 }
<a name="l02576"></a>02576 
<a name="l02583"></a>02583 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02584"></a>02584 <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_abce0fa35c5b25fd67111c2e704616f09.html#abce0fa35c5b25fd67111c2e704616f09" title="Renombre de not(m1 == m2)">operator!=</a>(<span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02585"></a>02585     <span class="keywordflow">return</span> not(m1 == m2);
<a name="l02586"></a>02586 }
<a name="l02587"></a>02587 
<a name="l02611"></a>02611 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02612"></a>02612 <span class="keywordtype">bool</span> operator&lt;(const map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02613"></a>02613     <span class="keywordflow">return</span> (std::lexicographical_compare(m1.begin(), m1.end(), m2.begin(), m2.end()));
<a name="l02614"></a>02614 }
<a name="l02615"></a>02615 
<a name="l02622"></a>02622 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02623"></a>02623 <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_a2000cd874b72034ce7fe730c811b6c63.html#a2000cd874b72034ce7fe730c811b6c63" title="Renombre de m2 &lt; m1">operator&gt;</a>(<span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02624"></a>02624     <span class="keywordflow">return</span> m2 &lt; m1;
<a name="l02625"></a>02625 }
<a name="l02626"></a>02626 
<a name="l02633"></a>02633 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02634"></a>02634 <span class="keywordtype">bool</span> operator&lt;=(const map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02635"></a>02635     <span class="keywordflow">return</span> not(m2 &lt; m1);
<a name="l02636"></a>02636 }
<a name="l02637"></a>02637 
<a name="l02644"></a>02644 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02645"></a>02645 <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_a093a6d1a055339c5fc6297a1d47a9159.html#a093a6d1a055339c5fc6297a1d47a9159" title="Renombre de not(m1 &lt; m2)">operator&gt;=</a>(<span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02646"></a>02646     <span class="keywordflow">return</span> !(m1 &lt; m2);
<a name="l02647"></a>02647 }
<a name="l02649"></a>02649 
<a name="l02651"></a>02651 
<a name="l02652"></a>02652 
<a name="l02653"></a>02653 
<a name="l02668"></a>02668 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02669"></a>02669 <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1map_a119cb2938bbc11c25ebd4fb824782a72.html#a119cb2938bbc11c25ebd4fb824782a72" title="Implementa la función swap para cumplir con el concepto swappable.">swap</a>(map&lt;K, V, C&gt;&amp; m1, map&lt;K, V, C&gt;&amp; m2) {
<a name="l02670"></a>02670     m1.swap(m2);
<a name="l02671"></a>02671 }
<a name="l02672"></a>02672 }
<a name="l02673"></a>02673 
<a name="l02674"></a>02674 <span class="preprocessor">#endif </span><span class="comment">/* MAP_H_ */</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Todo</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Clases</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Archivos</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Funciones</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumeraciones</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Amigas</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="map_8h.html">map.h</a>      </li>

    <li class="footer">Generado el Viernes, 7 de Julio de 2017 15:38:27 para Trabajo práctico 2: diccionario sobre RB-tree por
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
