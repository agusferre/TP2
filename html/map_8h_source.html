<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Trabajo práctico 2: diccionario sobre RB-tree: Fichero Fuente map.h</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Trabajo práctico 2: diccionario sobre RB-tree
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Agustín Ferré y Paula González</div>
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Buscar" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generado por Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Buscar');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('map_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">map.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="map_8h.html">Ir a la documentación de este archivo.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00724"></a>00724 <span class="preprocessor">#ifndef MAP_H_</span>
<a name="l00725"></a>00725 <span class="preprocessor"></span><span class="preprocessor">#define MAP_H_</span>
<a name="l00726"></a>00726 <span class="preprocessor"></span>
<a name="l00727"></a>00727 <span class="preprocessor">#include &lt;functional&gt;</span>
<a name="l00728"></a>00728 <span class="preprocessor">#include &lt;iterator&gt;</span>
<a name="l00729"></a>00729 <span class="preprocessor">#include &lt;utility&gt;</span>
<a name="l00730"></a>00730 <span class="preprocessor">#include &lt;cassert&gt;</span>
<a name="l00731"></a>00731 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00732"></a>00732 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00733"></a>00733 
<a name="l00734"></a>00734 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00735"></a>00735 <span class="preprocessor"></span><span class="comment">//Aca se puede incluir cualquier cosa que consideren que necesitan para debug</span>
<a name="l00736"></a>00736 <span class="comment">//#include &lt;iostream&gt;</span>
<a name="l00737"></a>00737 <span class="comment">//#include &lt;iomanip&gt;</span>
<a name="l00738"></a>00738 <span class="preprocessor">#endif</span>
<a name="l00739"></a>00739 <span class="preprocessor"></span>
<a name="l00747"></a><a class="code" href="namespaceaed2.html">00747</a> <span class="keyword">namespace </span>aed2{
<a name="l00748"></a>00748 
<a name="l00817"></a>00817 <span class="keyword">template</span>&lt;
<a name="l00818"></a>00818   <span class="keyword">class </span>Key,
<a name="l00819"></a>00819   <span class="keyword">class </span>Meaning,
<a name="l00820"></a>00820   <span class="keyword">class </span>Compare = std::less&lt;Key&gt;
<a name="l00821"></a>00821 &gt;
<a name="l00822"></a><a class="code" href="classaed2_1_1map.html">00822</a> <span class="keyword">class </span><a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a> {
<a name="l00823"></a>00823     <span class="comment">//forward declarations (innecesario, pero ayuda al analizador semantico de Eclipse)</span>
<a name="l00824"></a>00824     <span class="keyword">class </span><a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">Node</a>;
<a name="l00825"></a>00825     <span class="keyword">class </span><a class="code" href="structaed2_1_1map_1_1InnerNode.html" title="Estructura (privada) de un nodo no cabecera del árbol red-black.">InnerNode</a>;
<a name="l00826"></a>00826 <span class="keyword">public</span>:
<a name="l00827"></a>00827     <span class="comment">//forward declarations</span>
<a name="l00828"></a>00828     <span class="keyword">class </span><a class="code" href="classaed2_1_1map_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a>;
<a name="l00829"></a>00829     <span class="keyword">class </span><a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a>;
<a name="l00830"></a>00830 
<a name="l00834"></a>00834     <span class="keyword">using</span> key_type = Key;
<a name="l00838"></a>00838     <span class="keyword">using</span> mapped_type = Meaning;
<a name="l00842"></a>00842     <span class="keyword">using</span> value_type = std::pair&lt;const Key, Meaning&gt;;
<a name="l00846"></a>00846     <span class="keyword">using</span> key_compare = Compare;
<a name="l00850"></a>00850     <span class="keyword">using</span> reference = value_type&amp;;
<a name="l00854"></a>00854     <span class="keyword">using</span> const_reference = <span class="keyword">const</span> value_type&amp;;
<a name="l00858"></a>00858     <span class="keyword">using</span> pointer = value_type*;
<a name="l00862"></a>00862     <span class="keyword">using</span> const_pointer = <span class="keyword">const</span> value_type*;
<a name="l00866"></a>00866     <span class="keyword">using</span> size_type = std::size_t;
<a name="l00870"></a>00870     <span class="keyword">using</span> difference_type = std::ptrdiff_t;
<a name="l00871"></a>00871 
<a name="l00882"></a>00882     <span class="keyword">using</span> reverse_iterator = std::reverse_iterator&lt;iterator&gt;;
<a name="l00883"></a>00883 
<a name="l00894"></a>00894     <span class="keyword">using</span> const_reverse_iterator = std::reverse_iterator&lt;const_iterator&gt;;
<a name="l00895"></a>00895 
<a name="l00897"></a>00897 
<a name="l00898"></a>00898 
<a name="l00899"></a>00899 
<a name="l00900"></a>00900 
<a name="l00914"></a><a class="code" href="classaed2_1_1map_a64da1d965b13eb28cdb3837bc17a18cf.html#a64da1d965b13eb28cdb3837bc17a18cf">00914</a>     <span class="keyword">explicit</span> <a class="code" href="classaed2_1_1map_a64da1d965b13eb28cdb3837bc17a18cf.html#a64da1d965b13eb28cdb3837bc17a18cf" title="Crea un diccionario vacio.">map</a>(Compare c = Compare()) : <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>(), count(0), <a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>(c) {}
<a name="l00915"></a>00915 
<a name="l00934"></a><a class="code" href="classaed2_1_1map_a7a77950a3d8e637bfa7cf5dcd904f257.html#a7a77950a3d8e637bfa7cf5dcd904f257">00934</a>     <a class="code" href="classaed2_1_1map_a7a77950a3d8e637bfa7cf5dcd904f257.html#a7a77950a3d8e637bfa7cf5dcd904f257" title="Constructor por copia.">map</a>(<span class="keyword">const</span> <a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>&amp; other) : <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>(), count(0), <a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>(other.<a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>) {
<a name="l00935"></a>00935         <span class="keyword">auto</span> it_other = other.<a class="code" href="classaed2_1_1map_ac412d3902112122c1bffe2d4283a4e9d.html#ac412d3902112122c1bffe2d4283a4e9d" title="Devuelve un iterador al primer valor del diccionario, en un recorrido al revés.">rbegin</a>();
<a name="l00936"></a>00936         iterator it = <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l00937"></a>00937         <span class="keywordflow">while</span> (it_other != other.<a class="code" href="classaed2_1_1map_a277f03b4f4b6b98879e4e4921081801f.html#a277f03b4f4b6b98879e4e4921081801f" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario, en un recorrido al re...">rend</a>()) {
<a name="l00938"></a>00938             it = <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4" title="La funcion inserta el value en el árbol en la posición apuntada por hint, en caso de que no esté defi...">insert_rapido</a>(it, *it_other);
<a name="l00939"></a>00939         it_other++;
<a name="l00940"></a>00940         }
<a name="l00941"></a>00941     }
<a name="l00942"></a>00942 
<a name="l00986"></a>00986     <span class="keyword">template</span>&lt;<span class="keyword">class</span> iterator&gt;
<a name="l00987"></a><a class="code" href="classaed2_1_1map_a5d336f3248572beb56be383dcc95cfeb.html#a5d336f3248572beb56be383dcc95cfeb">00987</a>     <a class="code" href="classaed2_1_1map_a5d336f3248572beb56be383dcc95cfeb.html#a5d336f3248572beb56be383dcc95cfeb" title="Crea un diccionario con los elementos del rango [first, last)">map</a>(iterator first, iterator last, Compare c = Compare()) : <a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>(c) {
<a name="l00988"></a>00988         <span class="keyword">auto</span> it = <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l00989"></a>00989         <span class="keywordflow">while</span> (first != last) {
<a name="l00990"></a>00990             <a class="code" href="classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8.html#a60aacba06b1579630b3c8e996cf248c8" title="Inserta value en el diccionario.">insert</a>(it, *first);
<a name="l00991"></a>00991             ++first;
<a name="l00992"></a>00992         }
<a name="l00993"></a>00993     }
<a name="l00994"></a>00994 
<a name="l01010"></a><a class="code" href="classaed2_1_1map_ac606d334809066929522964d45e76317.html#ac606d334809066929522964d45e76317">01010</a>     <a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>&amp; <a class="code" href="classaed2_1_1map_ac606d334809066929522964d45e76317.html#ac606d334809066929522964d45e76317" title="Operador de asignación.">operator=</a>(<a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a> other) {
<a name="l01011"></a>01011         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<span class="keyword">this</span>, other);
<a name="l01012"></a>01012         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01013"></a>01013     }
<a name="l01014"></a>01014 
<a name="l01035"></a><a class="code" href="classaed2_1_1map_ab22c9a85c2dadbc286cd30e97069a8e6.html#ab22c9a85c2dadbc286cd30e97069a8e6">01035</a>     <a class="code" href="classaed2_1_1map_ab22c9a85c2dadbc286cd30e97069a8e6.html#ab22c9a85c2dadbc286cd30e97069a8e6" title="Destructor.">~map</a>() {
<a name="l01036"></a>01036         <a class="code" href="classaed2_1_1map_a2bfa5165825979bf2431db55bc6bc9ca.html#a2bfa5165825979bf2431db55bc6bc9ca" title="Vacia el diccionario.">clear</a>();
<a name="l01037"></a>01037     }
<a name="l01038"></a>01038 
<a name="l01040"></a>01040 
<a name="l01042"></a>01042 
<a name="l01043"></a>01043 
<a name="l01044"></a>01044 
<a name="l01045"></a>01045 
<a name="l01066"></a><a class="code" href="classaed2_1_1map_a0b0a11f906da2926f9eb342fcee79fd7.html#a0b0a11f906da2926f9eb342fcee79fd7">01066</a>     <span class="keyword">const</span> Meaning&amp; <a class="code" href="classaed2_1_1map_a0b0a11f906da2926f9eb342fcee79fd7.html#a0b0a11f906da2926f9eb342fcee79fd7" title="Devuelve el significado asociado a key">at</a>(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l01067"></a>01067         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(key)-&gt;second;
<a name="l01068"></a>01068     }
<a name="l01069"></a>01069 
<a name="l01071"></a><a class="code" href="classaed2_1_1map_a6b21c09f59a83b6ee45432dcfa61f4a1.html#a6b21c09f59a83b6ee45432dcfa61f4a1">01071</a>     Meaning&amp; <a class="code" href="classaed2_1_1map_a6b21c09f59a83b6ee45432dcfa61f4a1.html#a6b21c09f59a83b6ee45432dcfa61f4a1">at</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l01072"></a>01072         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(key)-&gt;second;
<a name="l01073"></a>01073     }
<a name="l01074"></a>01074 
<a name="l01114"></a><a class="code" href="classaed2_1_1map_a96f23896164ab47bee48c26b803f9801.html#a96f23896164ab47bee48c26b803f9801">01114</a>     Meaning&amp; <a class="code" href="classaed2_1_1map_a96f23896164ab47bee48c26b803f9801.html#a96f23896164ab47bee48c26b803f9801" title="Devuelve el significado asociado a key, asegurando su existencia.">operator[]</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l01115"></a>01115         iterator it = <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(key);
<a name="l01116"></a>01116         <span class="keywordflow">if</span> (not it.n-&gt;is_header() &amp;&amp; <a class="code" href="classaed2_1_1map_ab45cb28bb215cd229383d88b96b3f624.html#ab45cb28bb215cd229383d88b96b3f624" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">eq</a>(it.n-&gt;value().first, key))
<a name="l01117"></a>01117             <span class="keywordflow">return</span> it.n-&gt;value().second;
<a name="l01118"></a>01118         <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4" title="La funcion inserta el value en el árbol en la posición apuntada por hint, en caso de que no esté defi...">insert_rapido</a>(it, value_type(key, Meaning()));
<a name="l01119"></a>01119         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a0b0a11f906da2926f9eb342fcee79fd7.html#a0b0a11f906da2926f9eb342fcee79fd7" title="Devuelve el significado asociado a key">at</a>(key);
<a name="l01120"></a>01120     }
<a name="l01121"></a>01121 
<a name="l01151"></a><a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8">01151</a>     iterator <a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l01152"></a>01152         <span class="keyword">auto</span> r = <span class="keyword">const_cast&lt;</span><span class="keyword">const </span><a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(key);
<a name="l01153"></a>01153         <span class="keywordflow">return</span> iterator(const_cast&lt;Node*&gt;(r.n));
<a name="l01154"></a>01154     }
<a name="l01155"></a>01155 
<a name="l01157"></a><a class="code" href="classaed2_1_1map_ab8f3e41b1a0d7b74645836f8d2e1acfc.html#ab8f3e41b1a0d7b74645836f8d2e1acfc">01157</a>     const_iterator <a class="code" href="classaed2_1_1map_ab8f3e41b1a0d7b74645836f8d2e1acfc.html#ab8f3e41b1a0d7b74645836f8d2e1acfc">find</a>(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l01158"></a>01158         std::pair&lt;const Node*, const Node*&gt; res = <a class="code" href="classaed2_1_1map_aa079b9390f988f97be26fd51ed44a2c9.html#aa079b9390f988f97be26fd51ed44a2c9" title="Si key esta definida devuelve una tupla con el nodo cuya clave es key en ambas posiciones. Si no retorna una tupla con los nodos cuyo valor es el mayor de los menores y el menor de los mayores a key. En caso de que no existe un valor mayor o menor en el diccionario devuelve el header en ambas posiciones de la tupla. Se utiliza como funcion auxiliar para lower_bound.">bounds</a>(key);
<a name="l01159"></a>01159         <span class="keywordflow">if</span> (res.first == res.second)
<a name="l01160"></a>01160             <span class="keywordflow">return</span> const_iterator(res.first);
<a name="l01161"></a>01161         <span class="keywordflow">else</span>
<a name="l01162"></a>01162             <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l01163"></a>01163     }
<a name="l01164"></a>01164 
<a name="l01185"></a><a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f">01185</a>     const_iterator <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l01186"></a>01186         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_aa079b9390f988f97be26fd51ed44a2c9.html#aa079b9390f988f97be26fd51ed44a2c9" title="Si key esta definida devuelve una tupla con el nodo cuya clave es key en ambas posiciones. Si no retorna una tupla con los nodos cuyo valor es el mayor de los menores y el menor de los mayores a key. En caso de que no existe un valor mayor o menor en el diccionario devuelve el header en ambas posiciones de la tupla. Se utiliza como funcion auxiliar para lower_bound.">bounds</a>(key).second;
<a name="l01187"></a>01187     }
<a name="l01188"></a>01188 
<a name="l01190"></a><a class="code" href="classaed2_1_1map_a07b3dd65557c59ee085e5f211269c6b3.html#a07b3dd65557c59ee085e5f211269c6b3">01190</a>     iterator <a class="code" href="classaed2_1_1map_a07b3dd65557c59ee085e5f211269c6b3.html#a07b3dd65557c59ee085e5f211269c6b3">lower_bound</a>(<span class="keyword">const</span> Key&amp; key)  {
<a name="l01191"></a>01191         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_aa079b9390f988f97be26fd51ed44a2c9.html#aa079b9390f988f97be26fd51ed44a2c9" title="Si key esta definida devuelve una tupla con el nodo cuya clave es key en ambas posiciones. Si no retorna una tupla con los nodos cuyo valor es el mayor de los menores y el menor de los mayores a key. En caso de que no existe un valor mayor o menor en el diccionario devuelve el header en ambas posiciones de la tupla. Se utiliza como funcion auxiliar para lower_bound.">bounds</a>(key).second;
<a name="l01192"></a>01192     }
<a name="l01194"></a>01194 
<a name="l01196"></a>01196 
<a name="l01197"></a>01197 
<a name="l01198"></a>01198 
<a name="l01199"></a>01199 
<a name="l01209"></a><a class="code" href="classaed2_1_1map_af5320ca0a7df4d16015441d5d055a7ee.html#af5320ca0a7df4d16015441d5d055a7ee">01209</a>     <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_af5320ca0a7df4d16015441d5d055a7ee.html#af5320ca0a7df4d16015441d5d055a7ee" title="Indica si el diccionario esta vacío.">empty</a>()<span class="keyword"> const </span>{
<a name="l01210"></a>01210         <span class="keywordflow">return</span> (count == 0);
<a name="l01211"></a>01211     }
<a name="l01212"></a>01212 
<a name="l01223"></a><a class="code" href="classaed2_1_1map_a89f2613f926ac13293eafe65889d6021.html#a89f2613f926ac13293eafe65889d6021">01223</a>     <span class="keywordtype">size_t</span> <a class="code" href="classaed2_1_1map_a89f2613f926ac13293eafe65889d6021.html#a89f2613f926ac13293eafe65889d6021" title="Devuelve la cantidad de valores en el diccionario.">size</a>()<span class="keyword"> const </span>{
<a name="l01224"></a>01224         <span class="keywordflow">return</span> count;
<a name="l01225"></a>01225     }
<a name="l01227"></a>01227 
<a name="l01229"></a>01229 
<a name="l01230"></a>01230 
<a name="l01231"></a>01231 
<a name="l01232"></a>01232 
<a name="l01264"></a>01264     iterator <a class="code" href="classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8.html#a60aacba06b1579630b3c8e996cf248c8" title="Inserta value en el diccionario.">insert</a>(<span class="keyword">const</span> value_type&amp; value) {
<a name="l01265"></a>01265         iterator it = <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(value.first);
<a name="l01266"></a>01266         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8.html#a60aacba06b1579630b3c8e996cf248c8" title="Inserta value en el diccionario.">insert</a>(it, value);
<a name="l01267"></a>01267     }
<a name="l01268"></a>01268 
<a name="l01274"></a>01274     iterator <a class="code" href="classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8.html#a60aacba06b1579630b3c8e996cf248c8" title="Inserta value en el diccionario.">insert</a>(const_iterator hint, <span class="keyword">const</span> value_type&amp; value) {
<a name="l01275"></a>01275         <span class="keywordflow">if</span> (<a class="code" href="classaed2_1_1map_a45b04533e9acf27438813ab4a2604443.html#a45b04533e9acf27438813ab4a2604443" title="función que verifica si el iterador está parado en el lower_bound de value.first. Sirve para chequear...">hintValido</a>(hint, value))
<a name="l01276"></a>01276             <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4" title="La funcion inserta el value en el árbol en la posición apuntada por hint, en caso de que no esté defi...">insert_rapido</a>(hint, value);
<a name="l01277"></a>01277         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4" title="La funcion inserta el value en el árbol en la posición apuntada por hint, en caso de que no esté defi...">insert_rapido</a>(<a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(value.first), value);
<a name="l01278"></a>01278     }
<a name="l01279"></a>01279 
<a name="l01315"></a>01315     iterator <a class="code" href="classaed2_1_1map_a2ef6723c183916276b0afc4a4c721475.html#a2ef6723c183916276b0afc4a4c721475" title="Inserta o Color::Redefine value en el diccionario.">insert_or_assign</a>(const_iterator hint, <span class="keyword">const</span> value_type&amp; value) {
<a name="l01316"></a>01316         iterator it;
<a name="l01317"></a>01317         <span class="keywordflow">if</span> (<a class="code" href="classaed2_1_1map_a45b04533e9acf27438813ab4a2604443.html#a45b04533e9acf27438813ab4a2604443" title="función que verifica si el iterador está parado en el lower_bound de value.first. Sirve para chequear...">hintValido</a>(hint, value))
<a name="l01318"></a>01318             it.n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(hint.n);
<a name="l01319"></a>01319         <span class="keywordflow">else</span>
<a name="l01320"></a>01320             it = <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(value.first);
<a name="l01321"></a>01321         <span class="keywordflow">if</span> (not it.n-&gt;is_header() &amp;&amp; <a class="code" href="classaed2_1_1map_ab45cb28bb215cd229383d88b96b3f624.html#ab45cb28bb215cd229383d88b96b3f624" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">eq</a>(it.n-&gt;key(), value.first))
<a name="l01322"></a>01322             <span class="keyword">static_cast&lt;</span>InnerNode*<span class="keyword">&gt;</span>(it.n)-&gt;_value.second = value.second;
<a name="l01323"></a>01323         <span class="keywordflow">else</span>
<a name="l01324"></a>01324             it = <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4" title="La funcion inserta el value en el árbol en la posición apuntada por hint, en caso de que no esté defi...">insert_rapido</a>(it, value);
<a name="l01325"></a>01325         <span class="keywordflow">return</span> it;
<a name="l01326"></a>01326     }
<a name="l01327"></a>01327 
<a name="l01330"></a>01330     iterator <a class="code" href="classaed2_1_1map_a2ef6723c183916276b0afc4a4c721475.html#a2ef6723c183916276b0afc4a4c721475" title="Inserta o Color::Redefine value en el diccionario.">insert_or_assign</a>(<span class="keyword">const</span> value_type&amp; value) {
<a name="l01331"></a>01331         iterator it = <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(value.first);
<a name="l01332"></a>01332         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a2ef6723c183916276b0afc4a4c721475.html#a2ef6723c183916276b0afc4a4c721475" title="Inserta o Color::Redefine value en el diccionario.">insert_or_assign</a>(it, value);
<a name="l01333"></a>01333     }
<a name="l01334"></a>01334 
<a name="l01352"></a>01352     iterator <a class="code" href="classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe.html#ad8e796bf9c9c558e5ce6b61e116253fe" title="Elimina el valor apuntado por pos">erase</a>(const_iterator pos) {
<a name="l01353"></a>01353         Node* z = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(pos.n);
<a name="l01354"></a>01354         Node* y = z;
<a name="l01355"></a>01355         Node* x;
<a name="l01356"></a>01356         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 2; i++) {
<a name="l01357"></a>01357             <span class="keywordflow">if</span> (pos.n == <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[i]) {
<a name="l01358"></a>01358                 <span class="keywordflow">if</span> (count == 1)
<a name="l01359"></a>01359                     <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[i] = &amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>;
<a name="l01360"></a>01360                 <span class="keywordflow">else</span> {
<a name="l01361"></a>01361                     <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[i] = <span class="keyword">const_cast&lt;</span>Node *<span class="keyword">&gt;</span>(pos.n-&gt;inmediato(1-i));
<a name="l01362"></a>01362                 }
<a name="l01363"></a>01363             }
<a name="l01364"></a>01364         }
<a name="l01365"></a>01365         iterator res = iterator(const_cast&lt;Node*&gt;((++pos).n));
<a name="l01366"></a>01366         <a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a> y_color_original = y-&gt;color;
<a name="l01367"></a>01367         <span class="keywordflow">if</span> (z-&gt;child[0] == <span class="keyword">nullptr</span>){
<a name="l01368"></a>01368             x = z-&gt;child[1];
<a name="l01369"></a>01369             <a class="code" href="classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a.html#a98b9f200c64ce02dfb67902ee00e375a" title="Esta función es llamada en el delete para unir el padre del nodo a borrar con el hijo correspondiente...">transplant</a>(z, z-&gt;child[1]);
<a name="l01370"></a>01370         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (z-&gt;child[1] == <span class="keyword">nullptr</span>) {
<a name="l01371"></a>01371             x = z-&gt;child[0];
<a name="l01372"></a>01372             <a class="code" href="classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a.html#a98b9f200c64ce02dfb67902ee00e375a" title="Esta función es llamada en el delete para unir el padre del nodo a borrar con el hijo correspondiente...">transplant</a>(z, z-&gt;child[0]);
<a name="l01373"></a>01373         } <span class="keywordflow">else</span> {
<a name="l01374"></a>01374             y = z-&gt;child[1]-&gt;sub_minimo();
<a name="l01375"></a>01375             y_color_original = y-&gt;color;
<a name="l01376"></a>01376             x = y-&gt;child[1];
<a name="l01377"></a>01377             <span class="keywordflow">if</span> (y-&gt;parent != z) {
<a name="l01378"></a>01378                 <a class="code" href="classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a.html#a98b9f200c64ce02dfb67902ee00e375a" title="Esta función es llamada en el delete para unir el padre del nodo a borrar con el hijo correspondiente...">transplant</a>(y, y-&gt;child[1]);
<a name="l01379"></a>01379                 y-&gt;child[1] = z-&gt;child[1];
<a name="l01380"></a>01380                 y-&gt;child[1]-&gt;parent = y;
<a name="l01381"></a>01381             }
<a name="l01382"></a>01382             <a class="code" href="classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a.html#a98b9f200c64ce02dfb67902ee00e375a" title="Esta función es llamada en el delete para unir el padre del nodo a borrar con el hijo correspondiente...">transplant</a>(z, y);
<a name="l01383"></a>01383             y-&gt;child[0] = z-&gt;child[0];
<a name="l01384"></a>01384             y-&gt;child[0]-&gt;parent = y;
<a name="l01385"></a>01385             y-&gt;color = z-&gt;color;
<a name="l01386"></a>01386         }
<a name="l01387"></a>01387         count--;
<a name="l01388"></a>01388         <span class="keywordflow">if</span> (y_color_original == Color::Black &amp;&amp; x != <span class="keyword">nullptr</span>)
<a name="l01389"></a>01389             <a class="code" href="classaed2_1_1map_a7870c8f26e82b00d0aeb2e9f331dfec6.html#a7870c8f26e82b00d0aeb2e9f331dfec6" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">erase_fixup</a>(iterator(x));
<a name="l01390"></a>01390         <span class="keyword">delete</span> z;
<a name="l01391"></a>01391         <span class="keywordflow">return</span> res;
<a name="l01392"></a>01392     }
<a name="l01393"></a>01393 
<a name="l01406"></a>01406     <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe.html#ad8e796bf9c9c558e5ce6b61e116253fe" title="Elimina el valor apuntado por pos">erase</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l01407"></a>01407         iterator it = <a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(key);
<a name="l01408"></a>01408         <a class="code" href="classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe.html#ad8e796bf9c9c558e5ce6b61e116253fe" title="Elimina el valor apuntado por pos">erase</a>(it);
<a name="l01409"></a>01409     }
<a name="l01410"></a>01410 
<a name="l01424"></a>01424     <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1map_a2bfa5165825979bf2431db55bc6bc9ca.html#a2bfa5165825979bf2431db55bc6bc9ca" title="Vacia el diccionario.">clear</a>() {
<a name="l01425"></a>01425         <span class="keywordflow">while</span> (not <a class="code" href="classaed2_1_1map_af5320ca0a7df4d16015441d5d055a7ee.html#af5320ca0a7df4d16015441d5d055a7ee" title="Indica si el diccionario esta vacío.">empty</a>()) {
<a name="l01426"></a>01426             <a class="code" href="classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe.html#ad8e796bf9c9c558e5ce6b61e116253fe" title="Elimina el valor apuntado por pos">erase</a>(<a class="code" href="classaed2_1_1map_a58a95705d54b3dda7f775ce5a22225cb.html#a58a95705d54b3dda7f775ce5a22225cb" title="Devuelve un iterador al primer valor del diccionario.">begin</a>());
<a name="l01427"></a>01427         }
<a name="l01428"></a>01428     }
<a name="l01429"></a>01429 
<a name="l01453"></a>01453     <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a64da1d965b13eb28cdb3837bc17a18cf.html#a64da1d965b13eb28cdb3837bc17a18cf" title="Crea un diccionario vacio.">map</a>&amp; other) {
<a name="l01454"></a>01454         <span class="keyword">using</span> <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">std::swap</a>;
<a name="l01455"></a>01455         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>, other.lt);
<a name="l01456"></a>01456         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(count, other.count);
<a name="l01457"></a>01457         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.parent, other.header.parent);
<a name="l01458"></a>01458         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0], other.header.child[0]);
<a name="l01459"></a>01459         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[1], other.header.child[1]);
<a name="l01460"></a>01460         <span class="keywordflow">if</span>(<a class="code" href="classaed2_1_1map_a07ab50eda249a57858a34037d4c4c7b2.html#a07ab50eda249a57858a34037d4c4c7b2" title="Devuelve un puntero al nodo raíz.">root</a>() != <span class="keyword">nullptr</span>) <a class="code" href="classaed2_1_1map_a07ab50eda249a57858a34037d4c4c7b2.html#a07ab50eda249a57858a34037d4c4c7b2" title="Devuelve un puntero al nodo raíz.">root</a>()-&gt;parent = &amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>;
<a name="l01461"></a>01461         <span class="keywordflow">if</span>(other.root() != <span class="keyword">nullptr</span>) other.root()-&gt;parent = &amp;other.header;
<a name="l01462"></a>01462 
<a name="l01463"></a>01463         <span class="comment">//nota: cuando el arbol es vacio, los child de header apuntan a header.  Notar que quedan apuntando mal despues del swap</span>
<a name="l01464"></a>01464         <span class="keywordflow">if</span>(<a class="code" href="classaed2_1_1map_a07ab50eda249a57858a34037d4c4c7b2.html#a07ab50eda249a57858a34037d4c4c7b2" title="Devuelve un puntero al nodo raíz.">root</a>() == <span class="keyword">nullptr</span>) <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0] = <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[1] = &amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>;
<a name="l01465"></a>01465         <span class="keywordflow">if</span>(other.root() == <span class="keyword">nullptr</span>) other.header.child[0] = other.header.child[1] = &amp;other.header;
<a name="l01466"></a>01466     }
<a name="l01468"></a>01468 
<a name="l01470"></a>01470 
<a name="l01471"></a>01471 
<a name="l01472"></a>01472 
<a name="l01473"></a>01473 
<a name="l01485"></a>01485     iterator <a class="code" href="classaed2_1_1map_a58a95705d54b3dda7f775ce5a22225cb.html#a58a95705d54b3dda7f775ce5a22225cb" title="Devuelve un iterador al primer valor del diccionario.">begin</a>() {
<a name="l01486"></a>01486         iterator it(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]);
<a name="l01487"></a>01487         <span class="keywordflow">return</span> it;
<a name="l01488"></a><a class="code" href="classaed2_1_1map_a1d10432d305bcb5f1af6ab7b75c27c1c.html#a1d10432d305bcb5f1af6ab7b75c27c1c">01488</a>     }
<a name="l01489"></a>01489 
<a name="l01491"></a>01491     const_iterator <a class="code" href="classaed2_1_1map_a58a95705d54b3dda7f775ce5a22225cb.html#a58a95705d54b3dda7f775ce5a22225cb" title="Devuelve un iterador al primer valor del diccionario.">begin</a>()<span class="keyword"> const </span>{
<a name="l01492"></a>01492         const_iterator it(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]);
<a name="l01493"></a>01493         <span class="keywordflow">return</span> it;
<a name="l01494"></a><a class="code" href="classaed2_1_1map_ab96ad892caa28f193481a578f4956a2a.html#ab96ad892caa28f193481a578f4956a2a">01494</a>     }
<a name="l01495"></a>01495 
<a name="l01497"></a>01497     const_iterator <a class="code" href="classaed2_1_1map_ab96ad892caa28f193481a578f4956a2a.html#ab96ad892caa28f193481a578f4956a2a">cbegin</a>() {
<a name="l01498"></a>01498         const_iterator it(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]);
<a name="l01499"></a>01499         <span class="keywordflow">return</span> it;
<a name="l01500"></a>01500     }
<a name="l01501"></a>01501 
<a name="l01514"></a>01514     iterator <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>() {
<a name="l01515"></a>01515         iterator it(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>);
<a name="l01516"></a>01516         <span class="keywordflow">return</span> it;
<a name="l01517"></a><a class="code" href="classaed2_1_1map_a1f847ad4fd46883ac60d764967172179.html#a1f847ad4fd46883ac60d764967172179">01517</a>     }
<a name="l01518"></a>01518 
<a name="l01520"></a>01520     const_iterator <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>()<span class="keyword"> const </span>{
<a name="l01521"></a>01521         const_iterator it(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>);
<a name="l01522"></a>01522         <span class="keywordflow">return</span> it;
<a name="l01523"></a><a class="code" href="classaed2_1_1map_a7bb91e94cbc875f1a011b142ef877912.html#a7bb91e94cbc875f1a011b142ef877912">01523</a>     }
<a name="l01524"></a>01524 
<a name="l01526"></a>01526     const_iterator <a class="code" href="classaed2_1_1map_a7bb91e94cbc875f1a011b142ef877912.html#a7bb91e94cbc875f1a011b142ef877912">cend</a>() {
<a name="l01527"></a>01527         const_iterator it(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>);
<a name="l01528"></a>01528         <span class="keywordflow">return</span> it;
<a name="l01529"></a>01529     }
<a name="l01530"></a>01530 
<a name="l01543"></a>01543     reverse_iterator <a class="code" href="classaed2_1_1map_ac412d3902112122c1bffe2d4283a4e9d.html#ac412d3902112122c1bffe2d4283a4e9d" title="Devuelve un iterador al primer valor del diccionario, en un recorrido al revés.">rbegin</a>() {
<a name="l01544"></a>01544         <span class="keywordflow">return</span> reverse_iterator(iterator(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>));
<a name="l01545"></a><a class="code" href="classaed2_1_1map_aa68b6888ae3e256203d4ef273c293586.html#aa68b6888ae3e256203d4ef273c293586">01545</a>     }
<a name="l01546"></a>01546 
<a name="l01548"></a>01548     const_reverse_iterator <a class="code" href="classaed2_1_1map_ac412d3902112122c1bffe2d4283a4e9d.html#ac412d3902112122c1bffe2d4283a4e9d" title="Devuelve un iterador al primer valor del diccionario, en un recorrido al revés.">rbegin</a>()<span class="keyword"> const </span>{
<a name="l01549"></a>01549         <span class="keywordflow">return</span> const_reverse_iterator(const_iterator(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>));
<a name="l01550"></a>01550 
<a name="l01551"></a><a class="code" href="classaed2_1_1map_a6ad62765a2b2e00247b9e35a7542b448.html#a6ad62765a2b2e00247b9e35a7542b448">01551</a>     }
<a name="l01552"></a>01552 
<a name="l01554"></a>01554     const_reverse_iterator <a class="code" href="classaed2_1_1map_a6ad62765a2b2e00247b9e35a7542b448.html#a6ad62765a2b2e00247b9e35a7542b448">crbegin</a>() {
<a name="l01555"></a>01555         <span class="keywordflow">return</span> const_reverse_iterator(const_iterator(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>));
<a name="l01556"></a>01556     }
<a name="l01557"></a>01557 
<a name="l01570"></a>01570     reverse_iterator <a class="code" href="classaed2_1_1map_a277f03b4f4b6b98879e4e4921081801f.html#a277f03b4f4b6b98879e4e4921081801f" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario, en un recorrido al re...">rend</a>() {
<a name="l01571"></a>01571         <span class="keywordflow">return</span> reverse_iterator(iterator(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]));
<a name="l01572"></a><a class="code" href="classaed2_1_1map_aafce6e53c53c460897613747fec89f9d.html#aafce6e53c53c460897613747fec89f9d">01572</a>     }
<a name="l01573"></a>01573 
<a name="l01575"></a>01575     const_reverse_iterator <a class="code" href="classaed2_1_1map_a277f03b4f4b6b98879e4e4921081801f.html#a277f03b4f4b6b98879e4e4921081801f" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario, en un recorrido al re...">rend</a>()<span class="keyword"> const </span>{
<a name="l01576"></a>01576         <span class="keywordflow">return</span> const_reverse_iterator(const_iterator(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]));
<a name="l01577"></a><a class="code" href="classaed2_1_1map_a40933b2efe1cb479de9195ea947244d1.html#a40933b2efe1cb479de9195ea947244d1">01577</a>     }
<a name="l01578"></a>01578 
<a name="l01580"></a>01580     const_reverse_iterator <a class="code" href="classaed2_1_1map_a40933b2efe1cb479de9195ea947244d1.html#a40933b2efe1cb479de9195ea947244d1">crend</a>() {
<a name="l01581"></a>01581         <span class="keywordflow">return</span> const_reverse_iterator(const_iterator(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]));
<a name="l01582"></a>01582     }
<a name="l01584"></a>01584 
<a name="l01614"></a>01614     <span class="keyword">class </span>iterator {
<a name="l01615"></a>01615         <span class="keyword">using</span> Node = <span class="keyword">typename</span> map::Node;
<a name="l01616"></a>01616         <span class="keyword">using</span> InnerNode = <span class="keyword">typename</span> map::InnerNode;
<a name="l01617"></a>01617     <span class="keyword">public</span>:
<a name="l01618"></a>01618 
<a name="l01620"></a>01620         <span class="keyword">using</span> iterator_category = std::bidirectional_iterator_tag;
<a name="l01622"></a>01622         <span class="keyword">using</span> value_type = map::value_type;
<a name="l01624"></a>01624         <span class="keyword">using</span> reference = map::reference;
<a name="l01626"></a>01626         <span class="keyword">using</span> pointer = map::pointer;
<a name="l01628"></a>01628         <span class="keyword">using</span> difference_type = std::ptrdiff_t;
<a name="l01629"></a>01629 
<a name="l01656"></a>01656         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>() {
<a name="l01657"></a>01657             n = <span class="keyword">nullptr</span>;
<a name="l01658"></a>01658         }
<a name="l01671"></a>01671         reference <a class="code" href="classaed2_1_1map_1_1iterator_a48e75896997d516fe69bc18f889222fe.html#a48e75896997d516fe69bc18f889222fe" title="Retorna el valor apuntado por *this">operator*</a>()<span class="keyword"> const </span>{
<a name="l01672"></a>01672             <span class="keywordflow">return</span> n-&gt;value();
<a name="l01673"></a>01673         }
<a name="l01689"></a>01689         pointer <a class="code" href="classaed2_1_1map_1_1iterator_a227de3b56a6ff2e6bb6de2d08277ca60.html#a227de3b56a6ff2e6bb6de2d08277ca60" title="Retorna la dirección del valor apuntado por *this">operator-&gt;</a>()<span class="keyword"> const </span>{
<a name="l01690"></a>01690             <span class="keywordflow">return</span> &amp;n-&gt;value();
<a name="l01691"></a>01691         }
<a name="l01707"></a>01707         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>&amp; <a class="code" href="classaed2_1_1map_1_1iterator_a7c44de7f0508186e135ddbcfe782fec5.html#a7c44de7f0508186e135ddbcfe782fec5" title="Avanza el iterador a la siguiente posición.">operator++</a>() {
<a name="l01708"></a>01708             n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(n-&gt;inmediato(1));
<a name="l01709"></a>01709             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01710"></a>01710         }
<a name="l01726"></a>01726         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> <a class="code" href="classaed2_1_1map_1_1iterator_a7c44de7f0508186e135ddbcfe782fec5.html#a7c44de7f0508186e135ddbcfe782fec5" title="Avanza el iterador a la siguiente posición.">operator++</a>(<span class="keywordtype">int</span>) {
<a name="l01727"></a>01727             <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> it = <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>(n);
<a name="l01728"></a>01728             n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(n-&gt;inmediato(1));
<a name="l01729"></a>01729             <span class="keywordflow">return</span> it;
<a name="l01730"></a>01730         }
<a name="l01746"></a>01746         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>&amp; <a class="code" href="classaed2_1_1map_1_1iterator_ae7f70f71545d2a9de17b65edaaec748a.html#ae7f70f71545d2a9de17b65edaaec748a" title="Retrocede el iterador a la posición anterior.">operator--</a>() {
<a name="l01747"></a>01747             n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(n-&gt;inmediato(0));
<a name="l01748"></a>01748             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01749"></a>01749         }
<a name="l01765"></a>01765         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> <a class="code" href="classaed2_1_1map_1_1iterator_ae7f70f71545d2a9de17b65edaaec748a.html#ae7f70f71545d2a9de17b65edaaec748a" title="Retrocede el iterador a la posición anterior.">operator--</a>(<span class="keywordtype">int</span>) {
<a name="l01766"></a>01766             <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> it = <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>(n);
<a name="l01767"></a>01767             n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(n-&gt;inmediato(0));
<a name="l01768"></a>01768             <span class="keywordflow">return</span> it;
<a name="l01769"></a>01769         }
<a name="l01770"></a>01770 
<a name="l01788"></a>01788         <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_1_1iterator_ad052c1ef8477a1613c292202226053a5.html#ad052c1ef8477a1613c292202226053a5" title="Operador de igualdad.">operator==</a>(<a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> other)<span class="keyword"> const </span>{
<a name="l01789"></a><a class="code" href="classaed2_1_1map_1_1iterator_a836c7a166d63f507c4f79085ae953c51.html#a836c7a166d63f507c4f79085ae953c51">01789</a>              <span class="keywordflow">return</span> (n == other.n);
<a name="l01790"></a>01790         }
<a name="l01792"></a>01792         <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_1_1iterator_a836c7a166d63f507c4f79085ae953c51.html#a836c7a166d63f507c4f79085ae953c51" title="idem !|operator==">operator!=</a>(<a class="code" href="classaed2_1_1map_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> other)<span class="keyword"> const </span>{
<a name="l01793"></a>01793              <span class="keywordflow">return</span> (n != other.n);
<a name="l01794"></a>01794         }
<a name="l01795"></a>01795 
<a name="l01796"></a>01796     <span class="keyword">private</span>:
<a name="l01817"></a>01817         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>(Node* pos) : n(pos) {}
<a name="l01828"></a>01828         <a class="code" href="classaed2_1_1map_1_1iterator_a7fe2cdc033cd899dc9fd1da08ac3b39e.html#a7fe2cdc033cd899dc9fd1da08ac3b39e" title="Operador de casteo a Node*.">operator Node*</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> n;}
<a name="l01830"></a>01830 
<a name="l01856"></a>01856 
<a name="l01857"></a><a class="code" href="classaed2_1_1map_1_1iterator_aeda338414e516b47761f994fb78056c6.html#aeda338414e516b47761f994fb78056c6">01857</a> 
<a name="l01858"></a>01858 
<a name="l01861"></a>01861         <a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">Node</a>* n{<span class="keyword">nullptr</span>};
<a name="l01863"></a>01863         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>;
<a name="l01864"></a>01864     };
<a name="l01865"></a>01865 
<a name="l01872"></a>01872     <span class="keyword">class </span>const_iterator {
<a name="l01873"></a>01873         <span class="keyword">using</span> Node = <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">map::Node</a>;
<a name="l01874"></a>01874         <span class="keyword">using</span> InnerNode = <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="structaed2_1_1map_1_1InnerNode.html" title="Estructura (privada) de un nodo no cabecera del árbol red-black.">map::InnerNode</a>;
<a name="l01875"></a>01875     <span class="keyword">public</span>:
<a name="l01876"></a>01876         <span class="keyword">using</span> iterator_category = std::bidirectional_iterator_tag;
<a name="l01877"></a>01877         <span class="keyword">using</span> value_type = map::value_type;
<a name="l01878"></a>01878         <span class="keyword">using</span> reference = map::const_reference;
<a name="l01879"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555.html#a8add3e4cabbdaf313b0e085064491555">01879</a>         <span class="keyword">using</span> pointer = map::const_pointer;
<a name="l01880"></a>01880         <span class="keyword">using</span> difference_type = std::ptrdiff_t;
<a name="l01881"></a>01881 
<a name="l01883"></a>01883         <a class="code" href="classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555.html#a8add3e4cabbdaf313b0e085064491555" title="Ver aed2::map::iterator::iterator()">const_iterator</a>() : n(nullptr) {}
<a name="l01901"></a>01901         <a class="code" href="classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555.html#a8add3e4cabbdaf313b0e085064491555" title="Ver aed2::map::iterator::iterator()">const_iterator</a>(<a class="code" href="classaed2_1_1map_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it) {
<a name="l01902"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a3e8bf3ace171a4156dbf681fac671db9.html#a3e8bf3ace171a4156dbf681fac671db9">01902</a> 
<a name="l01903"></a>01903             n = it.n;
<a name="l01904"></a>01904         }
<a name="l01906"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a5cb0d5307b937d0bcda7d65379ce5208.html#a5cb0d5307b937d0bcda7d65379ce5208">01906</a>         reference <a class="code" href="classaed2_1_1map_1_1const__iterator_a3e8bf3ace171a4156dbf681fac671db9.html#a3e8bf3ace171a4156dbf681fac671db9" title="Ver aed2::map::iterator::operator*()">operator*</a>()<span class="keyword"> const  </span>{
<a name="l01907"></a>01907             <span class="keywordflow">return</span> n-&gt;value();
<a name="l01908"></a>01908         }
<a name="l01910"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_adaada1d489552555135d2ea89c67c271.html#adaada1d489552555135d2ea89c67c271">01910</a>         pointer <a class="code" href="classaed2_1_1map_1_1const__iterator_a5cb0d5307b937d0bcda7d65379ce5208.html#a5cb0d5307b937d0bcda7d65379ce5208" title="Ver aed2::map::iterator::operator-&gt;()">operator-&gt;</a>()<span class="keyword"> const </span>{
<a name="l01911"></a>01911             <span class="keywordflow">return</span> &amp;n-&gt;value();
<a name="l01912"></a>01912         }
<a name="l01914"></a>01914         <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a>&amp; <a class="code" href="classaed2_1_1map_1_1const__iterator_adaada1d489552555135d2ea89c67c271.html#adaada1d489552555135d2ea89c67c271" title="Ver aed2::map::iterator::operator++()">operator++</a>() {
<a name="l01915"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a2fbc216b2f11694bb567ea850bcfdb2e.html#a2fbc216b2f11694bb567ea850bcfdb2e">01915</a>             n = n-&gt;inmediato(1);
<a name="l01916"></a>01916             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01917"></a>01917         }
<a name="l01919"></a>01919         <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> <a class="code" href="classaed2_1_1map_1_1const__iterator_adaada1d489552555135d2ea89c67c271.html#adaada1d489552555135d2ea89c67c271" title="Ver aed2::map::iterator::operator++()">operator++</a>(<span class="keywordtype">int</span>)  {
<a name="l01920"></a>01920             <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> it(n);
<a name="l01921"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_ae12d6608eeca05957fa3de3f50287c90.html#ae12d6608eeca05957fa3de3f50287c90">01921</a>             n = n-&gt;inmediato(1);
<a name="l01922"></a>01922             <span class="keywordflow">return</span> it;
<a name="l01923"></a>01923         }
<a name="l01925"></a>01925         <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a>&amp; <a class="code" href="classaed2_1_1map_1_1const__iterator_ae12d6608eeca05957fa3de3f50287c90.html#ae12d6608eeca05957fa3de3f50287c90" title="Ver aed2::map::iterator::operator--()">operator--</a>()  {
<a name="l01926"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_ad5ae1cb1d000ac1f528ff32f9af3e228.html#ad5ae1cb1d000ac1f528ff32f9af3e228">01926</a>             n = n-&gt;inmediato(0);
<a name="l01927"></a>01927             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01928"></a>01928         }
<a name="l01930"></a>01930         <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> <a class="code" href="classaed2_1_1map_1_1const__iterator_ae12d6608eeca05957fa3de3f50287c90.html#ae12d6608eeca05957fa3de3f50287c90" title="Ver aed2::map::iterator::operator--()">operator--</a>(<span class="keywordtype">int</span>) {
<a name="l01931"></a>01931             <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> it(n);
<a name="l01932"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_af837632a6c4a88ec13c4c96153538494.html#af837632a6c4a88ec13c4c96153538494">01932</a>             n = n-&gt;inmediato(0);
<a name="l01933"></a>01933             <span class="keywordflow">return</span> it;
<a name="l01934"></a>01934         }
<a name="l01936"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a40b9e921ad9c25aded17f394b9534510.html#a40b9e921ad9c25aded17f394b9534510">01936</a>         <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_1_1const__iterator_af837632a6c4a88ec13c4c96153538494.html#af837632a6c4a88ec13c4c96153538494" title="Ver aed2::map::iterator::operator==()">operator==</a>(<a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> other)<span class="keyword"> const  </span>{
<a name="l01937"></a>01937             <span class="keywordflow">return</span> (n == other.n);
<a name="l01938"></a>01938         }
<a name="l01940"></a>01940         <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_1_1const__iterator_a40b9e921ad9c25aded17f394b9534510.html#a40b9e921ad9c25aded17f394b9534510" title="Ver aed2::map::iterator::operator!=()">operator!=</a>(<a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> other)<span class="keyword"> const  </span>{
<a name="l01941"></a>01941           <span class="keywordflow">return</span> (n != other.n);
<a name="l01942"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a195d395708167dca23f9ce49f7c604f3.html#a195d395708167dca23f9ce49f7c604f3">01942</a>         }
<a name="l01943"></a>01943 
<a name="l01944"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a637c0f083a23ec4a262d47baeecafcf3.html#a637c0f083a23ec4a262d47baeecafcf3">01944</a>     <span class="keyword">private</span>:
<a name="l01946"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_aeda338414e516b47761f994fb78056c6.html#aeda338414e516b47761f994fb78056c6">01946</a>         <a class="code" href="classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555.html#a8add3e4cabbdaf313b0e085064491555" title="Ver aed2::map::iterator::iterator()">const_iterator</a>(<a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">Node</a>* pos) : n(pos) {}
<a name="l01948"></a>01948         <a class="code" href="classaed2_1_1map_1_1const__iterator_a637c0f083a23ec4a262d47baeecafcf3.html#a637c0f083a23ec4a262d47baeecafcf3" title="Ver aed2::map::iterator::operator Node*()">operator Node*</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> n;}
<a name="l01950"></a>01950         Node* n{<span class="keyword">nullptr</span>};
<a name="l01951"></a>01951         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classaed2_1_1map_1_1const__iterator_aeda338414e516b47761f994fb78056c6.html#aeda338414e516b47761f994fb78056c6" title="Ver aed2::map::iterator::n.">map</a>;
<a name="l01952"></a>01952     };
<a name="l01953"></a>01953 
<a name="l01954"></a>01954 <span class="keyword">private</span>:
<a name="l01955"></a>01955     <span class="keyword">friend</span> <span class="keyword">class </span>iterator;
<a name="l01956"></a>01956     <span class="keyword">friend</span> <span class="keyword">class </span>const_iterator;
<a name="l01957"></a>01957 
<a name="l01967"></a>01967     <span class="keyword">enum class</span> <a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a> {Red, Black, Header};
<a name="l01968"></a>01968 
<a name="l01985"></a>01985     <span class="keyword">struct </span>Node {
<a name="l01987"></a>01987         <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* child[2]{<span class="keyword">nullptr</span>,<span class="keyword">nullptr</span>};
<a name="l01989"></a>01989         <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* parent{<span class="keyword">nullptr</span>};
<a name="l01991"></a>01991         <a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a> color{Color::Red};
<a name="l01992"></a>01992 
<a name="l01994"></a>01994 
<a name="l01995"></a>01995 
<a name="l01996"></a>01996 
<a name="l01997"></a>01997 
<a name="l02005"></a>02005         <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>() : color(<a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a>::Header) {
<a name="l02006"></a>02006             child[0] = child[1] = <span class="keyword">this</span>;
<a name="l02007"></a>02007         }
<a name="l02008"></a>02008 
<a name="l02019"></a>02019         <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>(<a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* p, <a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a> c = Color::Red) : color(c) {
<a name="l02020"></a>02020             child[0] = child[1] = <span class="keyword">nullptr</span>;
<a name="l02021"></a>02021             parent = p;
<a name="l02022"></a>02022         }
<a name="l02023"></a>02023 
<a name="l02025"></a>02025         
<a name="l02040"></a>02040         <span class="keyword">virtual</span> <a class="code" href="structaed2_1_1map_1_1Node_a4f3cb2cc4302fe96432e624ced147540.html#a4f3cb2cc4302fe96432e624ced147540" title="Destructor de Node.">~Node</a>() {}
<a name="l02041"></a>02041 
<a name="l02043"></a>02043 
<a name="l02044"></a>02044 
<a name="l02045"></a>02045 
<a name="l02046"></a>02046 
<a name="l02064"></a>02064         <span class="keywordtype">bool</span> <a class="code" href="structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca.html#ae6cc4598a60dbab7120ffae58ebbadca" title="Devuelve true si el nodo actual es el header de la estructura.">is_header</a>()<span class="keyword"> const </span>{
<a name="l02065"></a>02065             <span class="keywordflow">return</span> color == Color::Header;
<a name="l02066"></a>02066         }
<a name="l02067"></a>02067 
<a name="l02080"></a>02080         value_type&amp; <a class="code" href="structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb.html#af4ada8e79dabb4849fc87de63d3970fb" title="Devuelve el valor asociado a un nodo no cabecera.">value</a>() {
<a name="l02081"></a>02081             assert(not <a class="code" href="structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca.html#ae6cc4598a60dbab7120ffae58ebbadca" title="Devuelve true si el nodo actual es el header de la estructura.">is_header</a>());
<a name="l02082"></a><a class="code" href="structaed2_1_1map_1_1Node_a747a33f40ad748d750372fe73aea0b32.html#a747a33f40ad748d750372fe73aea0b32">02082</a>             <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="structaed2_1_1map_1_1InnerNode.html" title="Estructura (privada) de un nodo no cabecera del árbol red-black.">InnerNode</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;_value;
<a name="l02083"></a>02083         }
<a name="l02084"></a>02084 
<a name="l02086"></a>02086         <span class="keyword">const</span> value_type&amp; <a class="code" href="structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb.html#af4ada8e79dabb4849fc87de63d3970fb" title="Devuelve el valor asociado a un nodo no cabecera.">value</a>()<span class="keyword"> const </span>{
<a name="l02087"></a>02087             assert(not <a class="code" href="structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca.html#ae6cc4598a60dbab7120ffae58ebbadca" title="Devuelve true si el nodo actual es el header de la estructura.">is_header</a>());
<a name="l02088"></a>02088             <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="structaed2_1_1map_1_1InnerNode.html" title="Estructura (privada) de un nodo no cabecera del árbol red-black.">InnerNode</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;_value;
<a name="l02089"></a>02089         }
<a name="l02090"></a>02090 
<a name="l02103"></a>02103         <span class="keyword">const</span> Key&amp; <a class="code" href="structaed2_1_1map_1_1Node_a5451f8da0b7ad3582fab1decad5d09cb.html#a5451f8da0b7ad3582fab1decad5d09cb" title="Devuelve la clave del valor de un nodo no cabecera.">key</a>()<span class="keyword"> const </span>{
<a name="l02104"></a>02104             assert(not <a class="code" href="structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca.html#ae6cc4598a60dbab7120ffae58ebbadca" title="Devuelve true si el nodo actual es el header de la estructura.">is_header</a>());
<a name="l02105"></a>02105             <span class="keywordflow">return</span> <a class="code" href="structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb.html#af4ada8e79dabb4849fc87de63d3970fb" title="Devuelve el valor asociado a un nodo no cabecera.">value</a>().first;
<a name="l02106"></a>02106         }
<a name="l02107"></a>02107 
<a name="l02109"></a>02109 
<a name="l02120"></a>02120         <span class="keyword">const</span> <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* <a class="code" href="structaed2_1_1map_1_1Node_a4d5263c74ea5f78025fea331267730ce.html#a4d5263c74ea5f78025fea331267730ce">inmediato</a>(<span class="keywordtype">int</span> dir)<span class="keyword"> const </span>{
<a name="l02121"></a>02121             <span class="keyword">const</span> <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* res = <span class="keyword">this</span>;
<a name="l02122"></a>02122             <span class="keywordflow">if</span> (res-&gt;is_header())
<a name="l02123"></a>02123                 res = res-&gt;child[1-dir];
<a name="l02124"></a>02124             <span class="keywordflow">else</span> {
<a name="l02125"></a>02125                 if (res-&gt;child[dir] != <span class="keyword">nullptr</span>) {
<a name="l02126"></a>02126                     res = res-&gt;child[dir];
<a name="l02127"></a>02127                     <span class="keywordflow">while</span> (res-&gt;child[1-dir] != <span class="keyword">nullptr</span>)
<a name="l02128"></a>02128                         res = res-&gt;child[1-dir];
<a name="l02129"></a>02129                 } <span class="keywordflow">else</span> {
<a name="l02130"></a>02130                     <span class="keywordflow">while</span> (not res-&gt;parent-&gt;is_header() &amp;&amp; res == res-&gt;parent-&gt;child[dir])
<a name="l02131"></a>02131                         res = res-&gt;parent;
<a name="l02132"></a>02132                     res = res-&gt;parent;
<a name="l02133"></a>02133                 }
<a name="l02134"></a>02134             }
<a name="l02135"></a>02135             <span class="keywordflow">return</span> res;
<a name="l02136"></a>02136         }
<a name="l02137"></a>02137 
<a name="l02145"></a>02145         Node* sub_minimo()<span class="keyword"> const </span>{
<a name="l02146"></a>02146             Node* res = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);
<a name="l02147"></a>02147             <span class="keywordflow">while</span> (res-&gt;child[0] != <span class="keyword">nullptr</span>)
<a name="l02148"></a>02148                 res = res-&gt;child[0];
<a name="l02149"></a>02149             <span class="keywordflow">return</span> res;
<a name="l02150"></a>02150         }
<a name="l02151"></a>02151 
<a name="l02157"></a>02157         <span class="keywordtype">void</span> print(<span class="keywordtype">int</span> tab = 0)<span class="keyword"> const </span>{
<a name="l02158"></a>02158             std::cout &lt;&lt; std::string(tab, <span class="charliteral">&#39; &#39;</span>) &lt;&lt; value().first &lt;&lt; <span class="stringliteral">&quot;-&gt;&quot;</span> &lt;&lt; value().second &lt;&lt; <span class="stringliteral">&quot;   (&quot;</span> &lt;&lt; (color == Color::Red ? <span class="stringliteral">&quot;Red)&quot;</span> : <span class="stringliteral">&quot;Black)&quot;</span>) &lt;&lt; std::endl;
<a name="l02159"></a>02159             <span class="keywordflow">if</span>(child[0]) child[0]-&gt;print(tab + 2);
<a name="l02160"></a>02160             <span class="keywordflow">if</span>(child[1]) child[1]-&gt;print(tab + 2);
<a name="l02161"></a>02161         }
<a name="l02162"></a>02162     };
<a name="l02163"></a>02163 
<a name="l02180"></a>02180     <span class="keyword">struct </span>InnerNode : <span class="keyword">public</span> Node {
<a name="l02181"></a>02181         value_type _value;
<a name="l02182"></a>02182 
<a name="l02183"></a>02183         InnerNode(Node* p, <span class="keyword">const</span> value_type&amp; v): Node(p, Color::Red), _value(v) {}
<a name="l02184"></a>02184     };
<a name="l02185"></a>02185 
<a name="l02187"></a>02187 
<a name="l02209"></a>02209 
<a name="l02210"></a>02210 
<a name="l02211"></a><a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a">02211</a> 
<a name="l02215"></a>02215     Compare lt;
<a name="l02217"></a>02217     <span class="keywordtype">size_t</span> count{0};
<a name="l02219"></a>02219     Node header;
<a name="l02221"></a>02221 
<a name="l02223"></a>02223 
<a name="l02224"></a>02224 
<a name="l02225"></a>02225 
<a name="l02226"></a>02226 
<a name="l02231"></a>02231     <span class="keyword">inline</span> InnerNode* root() { <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>InnerNode*<span class="keyword">&gt;</span>(header.parent); }
<a name="l02232"></a>02232 
<a name="l02234"></a>02234     <span class="keyword">inline</span> <span class="keyword">const</span> InnerNode* root()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>InnerNode*<span class="keyword">&gt;</span>(header.parent); }
<a name="l02236"></a>02236 
<a name="l02238"></a>02238 
<a name="l02239"></a>02239 
<a name="l02240"></a>02240 
<a name="l02247"></a>02247     <span class="keyword">inline</span> <span class="keywordtype">bool</span> eq(<span class="keyword">const</span> Key&amp; k1, <span class="keyword">const</span> Key&amp; k2)<span class="keyword"> const </span>{
<a name="l02248"></a>02248         <span class="keywordflow">return</span> lt(k1, k2) == lt(k2, k1);
<a name="l02249"></a>02249     }
<a name="l02250"></a>02250 
<a name="l02262"></a>02262     std::pair&lt;Node*, Node*&gt; bounds(<span class="keyword">const</span> Key&amp; key) {
<a name="l02263"></a><a class="code" href="classaed2_1_1map_a4d903414b3f1f1e6f785342bb3900572.html#a4d903414b3f1f1e6f785342bb3900572">02263</a>         <span class="keyword">auto</span> r = <span class="keyword">const_cast&lt;</span><span class="keyword">const </span><a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classaed2_1_1map_a4d903414b3f1f1e6f785342bb3900572.html#a4d903414b3f1f1e6f785342bb3900572" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">bounds</a>(key);
<a name="l02264"></a>02264         <span class="keywordflow">return</span> std::make_pair(const_cast&lt;Node*&gt;(r.first), const_cast&lt;Node*&gt;(r.second));
<a name="l02265"></a>02265     }
<a name="l02266"></a>02266 
<a name="l02267"></a>02267     std::pair&lt;const Node*, const Node*&gt; bounds(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l02268"></a>02268         <span class="keyword">const</span> Node* res[2] = {&amp;header, &amp;header}, *indice = root();
<a name="l02269"></a>02269         <span class="keywordflow">while</span> (indice != <span class="keyword">nullptr</span> &amp;&amp; !eq(indice-&gt;key(), key)){
<a name="l02270"></a>02270             <span class="keyword">auto</span> dir = lt(indice-&gt;key(), key);
<a name="l02271"></a>02271             res[1-dir] = indice;
<a name="l02272"></a>02272             indice = indice-&gt;child[dir];
<a name="l02273"></a>02273         }
<a name="l02274"></a>02274         <span class="keywordflow">if</span> (indice != <span class="keyword">nullptr</span>){
<a name="l02275"></a>02275             res[0] = res[1] = indice;
<a name="l02276"></a>02276         }
<a name="l02277"></a>02277         <span class="keywordflow">return</span> std::make_pair(res[0], res[1]);
<a name="l02278"></a>02278     }
<a name="l02279"></a>02279 
<a name="l02290"></a>02290     <span class="keywordtype">void</span> insert_fixup(iterator it){
<a name="l02291"></a>02291         Node* n = it.n;
<a name="l02292"></a>02292         Node* y;
<a name="l02293"></a>02293         <span class="keywordflow">while</span> (n-&gt;parent-&gt;color == Color::Red) {
<a name="l02294"></a>02294             <span class="keyword">auto</span> dir = n-&gt;parent == n-&gt;parent-&gt;parent-&gt;child[0];
<a name="l02295"></a>02295             y = n-&gt;parent-&gt;parent-&gt;child[dir];
<a name="l02296"></a>02296             <span class="keywordflow">if</span> (y == <span class="keyword">nullptr</span>)
<a name="l02297"></a>02297                 y = &amp;header;
<a name="l02298"></a>02298             <span class="keywordflow">if</span> (y-&gt;color == Color::Red) {
<a name="l02299"></a>02299                 n-&gt;parent-&gt;color = Color::Black;
<a name="l02300"></a>02300                 y-&gt;color = Color::Black;
<a name="l02301"></a>02301                 n-&gt;parent-&gt;parent-&gt;color = Color::Red;
<a name="l02302"></a>02302                 n = n-&gt;parent-&gt;parent;
<a name="l02303"></a>02303             } <span class="keywordflow">else</span> {
<a name="l02304"></a>02304                 <span class="keywordflow">if</span> (n == n-&gt;parent-&gt;child[dir])  b{
<a name="l02305"></a>02305                     n = n-&gt;parent;
<a name="l02306"></a>02306                     iterator it2 = iterator(n);
<a name="l02307"></a>02307                     dir_rotate(it2, 1 - dir);
<a name="l02308"></a>02308                 }
<a name="l02309"></a>02309                 n-&gt;parent-&gt;color = Color::Black;
<a name="l02310"></a>02310                 n-&gt;parent-&gt;parent-&gt;color = Color::Red;
<a name="l02311"></a>02311                 iterator it3(n-&gt;parent-&gt;parent);
<a name="l02312"></a>02312                 dir_rotate(it3, dir);
<a name="l02313"></a>02313             }
<a name="l02314"></a>02314         }
<a name="l02315"></a>02315         header.parent-&gt;color = Color::Black;
<a name="l02316"></a>02316     }
<a name="l02329"></a>02329     <span class="keywordtype">void</span> dir_rotate(iterator it, <span class="keywordtype">int</span> dir){
<a name="l02330"></a>02330         Node* n = it.n;
<a name="l02331"></a>02331         Node* y = it.n-&gt;child[1-dir];
<a name="l02332"></a>02332         n-&gt;child[1-dir] = y-&gt;child[dir];
<a name="l02333"></a>02333         <span class="keywordflow">if</span> (y-&gt;child[dir] != <span class="keyword">nullptr</span>)
<a name="l02334"></a>02334             y-&gt;child[dir]-&gt;parent = n;
<a name="l02335"></a>02335         y-&gt;parent = n-&gt;parent;
<a name="l02336"></a>02336         <span class="keywordflow">if</span>(n-&gt;parent-&gt;is_header())
<a name="l02337"></a>02337             header.parent = y;
<a name="l02338"></a>02338         <span class="keywordflow">else</span> if (n == n-&gt;parent-&gt;child[dir])
<a name="l02339"></a>02339             n-&gt;parent-&gt;child[dir] = y;
<a name="l02340"></a>02340         <span class="keywordflow">else</span>
<a name="l02341"></a>02341             n-&gt;parent-&gt;child[1-dir] = y;
<a name="l02342"></a>02342         y-&gt;child[dir] = n;
<a name="l02343"></a>02343         n-&gt;parent = y;
<a name="l02344"></a>02344     }
<a name="l02345"></a>02345 
<a name="l02360"></a>02360     <span class="keywordtype">void</span> transplant(Node* u, Node* v){
<a name="l02361"></a>02361         <span class="keywordflow">if</span> (u-&gt;parent-&gt;is_header())
<a name="l02362"></a>02362             header.parent = v;
<a name="l02363"></a>02363         <span class="keywordflow">else</span> if (u == u-&gt;parent-&gt;child[0])
<a name="l02364"></a>02364             u-&gt;parent-&gt;child[0] = v;
<a name="l02365"></a>02365         <span class="keywordflow">else</span>
<a name="l02366"></a>02366             u-&gt;parent-&gt;child[1] = v;
<a name="l02367"></a>02367         <span class="keywordflow">if</span> (v != <span class="keyword">nullptr</span>)
<a name="l02368"></a>02368             v-&gt;parent = u-&gt;parent;
<a name="l02369"></a>02369     }
<a name="l02370"></a>02370 
<a name="l02375"></a>02375     <span class="keywordtype">void</span> erase_fixup(iterator it){
<a name="l02376"></a>02376         Node* x = it.n;
<a name="l02377"></a>02377         Node* w;
<a name="l02378"></a>02378         <span class="keywordflow">while</span> (x != header.parent &amp;&amp; x-&gt;color == Color::Black){
<a name="l02379"></a>02379             <span class="keyword">auto</span> dir = (x == x-&gt;parent-&gt;child[0]);
<a name="l02380"></a>02380             w = x-&gt;parent-&gt;child[dir];
<a name="l02381"></a>02381             <span class="keywordflow">if</span> (w-&gt;color == Color::Red){
<a name="l02382"></a>02382                 w-&gt;color = Color::Black;
<a name="l02383"></a>02383                 x-&gt;parent-&gt;color = Color::Red;
<a name="l02384"></a>02384                 it.n = x-&gt;parent;
<a name="l02385"></a>02385                 dir_rotate(it, 1-dir);
<a name="l02386"></a>02386                 w = x-&gt;parent-&gt;child[dir];
<a name="l02387"></a>02387             }
<a name="l02388"></a>02388             <span class="keyword">auto</span> kaka = it.n-&gt;value();
<a name="l02389"></a>02389             <span class="keyword">auto</span> wkaka = w-&gt;value();
<a name="l02390"></a>02390             <span class="keywordflow">if</span> ((w-&gt;child[1-dir] == <span class="keyword">nullptr</span> || w-&gt;child[1-dir]-&gt;color == Color::Black) &amp;&amp; (w-&gt;child[dir] == <span class="keyword">nullptr</span> || w-&gt;child[dir]-&gt;color == Color::Black)){
<a name="l02391"></a>02391                 w-&gt;color = Color::Red;
<a name="l02392"></a>02392                 x = x-&gt;parent;
<a name="l02393"></a>02393             } <span class="keywordflow">else</span> {
<a name="l02394"></a>02394                 <span class="keywordflow">if</span> (w-&gt;child[dir]-&gt;color == Color::Black){
<a name="l02395"></a>02395                     w-&gt;child[1-dir]-&gt;color = Color::Black;
<a name="l02396"></a>02396                     w-&gt;color = Color::Red;
<a name="l02397"></a>02397                     dir_rotate(iterator(w), dir);
<a name="l02398"></a>02398                     w = x-&gt;parent-&gt;child[dir];
<a name="l02399"></a>02399                 }
<a name="l02400"></a>02400                 w-&gt;color = x-&gt;parent-&gt;color;
<a name="l02401"></a>02401                 x-&gt;parent-&gt;color = Color::Black;
<a name="l02402"></a>02402                 w-&gt;child[dir]-&gt;color = Color::Black;
<a name="l02403"></a>02403                 it.n = x-&gt;parent;
<a name="l02404"></a>02404                 dir_rotate(it, 1-dir);
<a name="l02405"></a>02405                 x = header.parent;
<a name="l02406"></a>02406             }
<a name="l02407"></a>02407         }
<a name="l02408"></a>02408         x-&gt;color = Color::Black;
<a name="l02409"></a>02409     }
<a name="l02410"></a>02410 
<a name="l02426"></a>02426     <span class="keywordtype">bool</span> hintValido(const_iterator hint, <span class="keyword">const</span> value_type&amp; value)<span class="keyword"> const </span>{
<a name="l02427"></a>02427         <span class="keywordtype">bool</span> res;
<a name="l02428"></a>02428         <span class="keywordflow">if</span> (hint.n == <span class="keyword">nullptr</span>)
<a name="l02429"></a>02429             res = <span class="keyword">false</span>;
<a name="l02430"></a>02430         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hint == end())
<a name="l02431"></a>02431             res = (count == 0 || lt(header.child[1]-&gt;key(), value.first));
<a name="l02432"></a>02432         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hint == begin())
<a name="l02433"></a>02433             res = lt(value.first, hint.n-&gt;key());
<a name="l02434"></a>02434         <span class="keywordflow">else</span>
<a name="l02435"></a>02435             res = lt(value.first, hint.n-&gt;key()) &amp;&amp; lt((--hint).n-&gt;key(), value.first);
<a name="l02436"></a>02436         <span class="keywordflow">return</span> res;
<a name="l02437"></a>02437     }
<a name="l02438"></a>02438 
<a name="l02454"></a>02454     iterator insert_rapido(const_iterator hint, <span class="keyword">const</span> value_type&amp; value) {
<a name="l02455"></a>02455         iterator it(const_cast&lt;Node*&gt;(hint.n));
<a name="l02456"></a>02456         <span class="keywordflow">if</span> (it.n-&gt;is_header() || !eq(it.n-&gt;key(), value.first)) {
<a name="l02457"></a>02457             <span class="keywordflow">if</span> (it != begin())
<a name="l02458"></a>02458                 it--;
<a name="l02459"></a>02459             Node *padre = it.n;
<a name="l02460"></a>02460             InnerNode *nuevo = <span class="keyword">new</span> InnerNode(padre, value);
<a name="l02461"></a>02461             <span class="keywordtype">bool</span> esElMenor = (count == 0) || lt(value.first, begin().n-&gt;key());
<a name="l02462"></a>02462             <span class="keywordtype">bool</span> esElMayor = (count == 0) || lt(header.child[1]-&gt;key(), value.first);
<a name="l02463"></a>02463             <span class="keywordflow">if</span> (esElMenor)
<a name="l02464"></a>02464                 header.child[0] = nuevo;
<a name="l02465"></a>02465             <span class="keywordflow">if</span> (esElMayor)
<a name="l02466"></a>02466                 header.child[1] = nuevo;
<a name="l02467"></a>02467             <span class="keywordflow">if</span> (padre-&gt;is_header()) {
<a name="l02468"></a>02468                 header.parent = nuevo;
<a name="l02469"></a>02469             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt(nuevo-&gt;key(), padre-&gt;key()))
<a name="l02470"></a>02470                 padre-&gt;child[0] = nuevo;
<a name="l02471"></a>02471             <span class="keywordflow">else</span>
<a name="l02472"></a>02472                 padre-&gt;child[1] = nuevo;
<a name="l02473"></a>02473             count++;
<a name="l02474"></a>02474             it.n = nuevo;
<a name="l02475"></a>02475             insert_fixup(it);
<a name="l02476"></a><a class="code" href="classaed2_1_1map_a98aadc6fb2ac8f51567a98473a90c30f.html#a98aadc6fb2ac8f51567a98473a90c30f">02476</a>         }
<a name="l02477"></a>02477         <span class="keywordflow">return</span> it;
<a name="l02478"></a>02478     }
<a name="l02479"></a>02479 
<a name="l02480"></a>02480     <span class="keywordtype">void</span> show() {
<a name="l02481"></a>02481         <span class="keyword">auto</span> it = begin();
<a name="l02482"></a>02482         <span class="keywordflow">while</span> (it != end()) {
<a name="l02483"></a>02483             it.n-&gt;print();
<a name="l02484"></a>02484             it++;
<a name="l02485"></a>02485         }
<a name="l02486"></a>02486     }
<a name="l02487"></a>02487 };
<a name="l02488"></a>02488 
<a name="l02490"></a>02490 
<a name="l02491"></a>02491 
<a name="l02492"></a>02492 
<a name="l02493"></a>02493 
<a name="l02516"></a>02516 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02517"></a>02517 <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_abfc51b39670220e79037ac067006e933.html#abfc51b39670220e79037ac067006e933" title="Operador de igualdad entre dos diccionarios.">operator==</a>(<span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02518"></a>02518     <span class="keywordflow">return</span> m1.size() == m2.size() and std::equal(m1.begin(), m1.end(), m2.begin());
<a name="l02519"></a>02519 }
<a name="l02520"></a>02520 
<a name="l02527"></a>02527 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02528"></a>02528 <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_abce0fa35c5b25fd67111c2e704616f09.html#abce0fa35c5b25fd67111c2e704616f09" title="Renombre de not(m1 == m2)">operator!=</a>(<span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02529"></a>02529     <span class="keywordflow">return</span> not(m1 == m2);
<a name="l02530"></a>02530 }
<a name="l02531"></a>02531 
<a name="l02555"></a>02555 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02556"></a>02556 <span class="keywordtype">bool</span> operator&lt;(const map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02557"></a>02557     <span class="keywordflow">return</span> (std::lexicographical_compare(m1.begin(), m1.end(), m2.begin(), m2.end()));
<a name="l02558"></a>02558 }
<a name="l02559"></a>02559 
<a name="l02566"></a>02566 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02567"></a>02567 <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_a2000cd874b72034ce7fe730c811b6c63.html#a2000cd874b72034ce7fe730c811b6c63" title="Renombre de m2 &lt; m1">operator&gt;</a>(<span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02568"></a>02568     <span class="keywordflow">return</span> m2 &lt; m1;
<a name="l02569"></a>02569 }
<a name="l02570"></a>02570 
<a name="l02577"></a>02577 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02578"></a>02578 <span class="keywordtype">bool</span> operator&lt;=(const map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02579"></a>02579     <span class="keywordflow">return</span> not(m2 &lt; m1);
<a name="l02580"></a>02580 }
<a name="l02581"></a>02581 
<a name="l02588"></a>02588 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02589"></a>02589 <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_a093a6d1a055339c5fc6297a1d47a9159.html#a093a6d1a055339c5fc6297a1d47a9159" title="Renombre de not(m1 &lt; m2)">operator&gt;=</a>(<span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02590"></a>02590     <span class="keywordflow">return</span> !(m1 &lt; m2);
<a name="l02591"></a>02591 }
<a name="l02593"></a>02593 
<a name="l02595"></a>02595 
<a name="l02596"></a>02596 
<a name="l02597"></a>02597 
<a name="l02612"></a>02612 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02613"></a>02613 <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1map_a119cb2938bbc11c25ebd4fb824782a72.html#a119cb2938bbc11c25ebd4fb824782a72" title="Implementa la función swap para cumplir con el concepto swappable.">swap</a>(map&lt;K, V, C&gt;&amp; m1, map&lt;K, V, C&gt;&amp; m2) {
<a name="l02614"></a>02614     m1.swap(m2);
<a name="l02615"></a>02615 }
<a name="l02616"></a>02616 }
<a name="l02617"></a>02617 
<a name="l02618"></a>02618 <span class="preprocessor">#endif </span><span class="comment">/* MAP_H_ */</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Todo</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Clases</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Archivos</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Funciones</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumeraciones</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Amigas</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="map_8h.html">map.h</a>      </li>

    <li class="footer">Generado el Viernes, 7 de Julio de 2017 02:32:40 para Trabajo práctico 2: diccionario sobre RB-tree por
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
