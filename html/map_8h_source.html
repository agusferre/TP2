<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Trabajo práctico 2: diccionario sobre RB-tree: Fichero Fuente map.h</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Trabajo práctico 2: diccionario sobre RB-tree
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Agustín Ferré y Paula González</div>
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Buscar" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generado por Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Buscar');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('map_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">map.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="map_8h.html">Ir a la documentación de este archivo.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00712"></a>00712 <span class="preprocessor">#ifndef MAP_H_</span>
<a name="l00713"></a>00713 <span class="preprocessor"></span><span class="preprocessor">#define MAP_H_</span>
<a name="l00714"></a>00714 <span class="preprocessor"></span>
<a name="l00715"></a>00715 <span class="preprocessor">#include &lt;functional&gt;</span>
<a name="l00716"></a>00716 <span class="preprocessor">#include &lt;iterator&gt;</span>
<a name="l00717"></a>00717 <span class="preprocessor">#include &lt;utility&gt;</span>
<a name="l00718"></a>00718 <span class="preprocessor">#include &lt;cassert&gt;</span>
<a name="l00719"></a>00719 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00720"></a>00720 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00721"></a>00721 
<a name="l00722"></a>00722 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00723"></a>00723 <span class="preprocessor"></span><span class="comment">//Aca se puede incluir cualquier cosa que consideren que necesitan para debug</span>
<a name="l00724"></a>00724 <span class="comment">//#include &lt;iostream&gt;</span>
<a name="l00725"></a>00725 <span class="comment">//#include &lt;iomanip&gt;</span>
<a name="l00726"></a>00726 <span class="preprocessor">#endif</span>
<a name="l00727"></a>00727 <span class="preprocessor"></span>
<a name="l00735"></a><a class="code" href="namespaceaed2.html">00735</a> <span class="keyword">namespace </span>aed2{
<a name="l00736"></a>00736 
<a name="l00805"></a>00805 <span class="keyword">template</span>&lt;
<a name="l00806"></a>00806   <span class="keyword">class </span>Key,
<a name="l00807"></a>00807   <span class="keyword">class </span>Meaning,
<a name="l00808"></a>00808   <span class="keyword">class </span>Compare = std::less&lt;Key&gt;
<a name="l00809"></a>00809 &gt;
<a name="l00810"></a><a class="code" href="classaed2_1_1map.html">00810</a> <span class="keyword">class </span><a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a> {
<a name="l00811"></a>00811     <span class="comment">//forward declarations (innecesario, pero ayuda al analizador semantico de Eclipse)</span>
<a name="l00812"></a>00812     <span class="keyword">class </span><a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">Node</a>;
<a name="l00813"></a>00813     <span class="keyword">class </span><a class="code" href="structaed2_1_1map_1_1InnerNode.html" title="Estructura (privada) de un nodo no cabecera del árbol red-black.">InnerNode</a>;
<a name="l00814"></a>00814 <span class="keyword">public</span>:
<a name="l00815"></a>00815     <span class="comment">//forward declarations</span>
<a name="l00816"></a>00816     <span class="keyword">class </span><a class="code" href="classaed2_1_1map_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a>;
<a name="l00817"></a>00817     <span class="keyword">class </span><a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a>;
<a name="l00818"></a>00818 
<a name="l00822"></a>00822     <span class="keyword">using</span> key_type = Key;
<a name="l00826"></a>00826     <span class="keyword">using</span> mapped_type = Meaning;
<a name="l00830"></a>00830     <span class="keyword">using</span> value_type = std::pair&lt;const Key, Meaning&gt;;
<a name="l00834"></a>00834     <span class="keyword">using</span> key_compare = Compare;
<a name="l00838"></a>00838     <span class="keyword">using</span> reference = value_type&amp;;
<a name="l00842"></a>00842     <span class="keyword">using</span> const_reference = <span class="keyword">const</span> value_type&amp;;
<a name="l00846"></a>00846     <span class="keyword">using</span> pointer = value_type*;
<a name="l00850"></a>00850     <span class="keyword">using</span> const_pointer = <span class="keyword">const</span> value_type*;
<a name="l00854"></a>00854     <span class="keyword">using</span> size_type = std::size_t;
<a name="l00858"></a>00858     <span class="keyword">using</span> difference_type = std::ptrdiff_t;
<a name="l00859"></a>00859 
<a name="l00870"></a>00870     <span class="keyword">using</span> reverse_iterator = std::reverse_iterator&lt;iterator&gt;;
<a name="l00871"></a>00871 
<a name="l00882"></a>00882     <span class="keyword">using</span> const_reverse_iterator = std::reverse_iterator&lt;const_iterator&gt;;
<a name="l00883"></a>00883 
<a name="l00885"></a>00885 
<a name="l00886"></a>00886 
<a name="l00887"></a>00887 
<a name="l00888"></a>00888 
<a name="l00902"></a><a class="code" href="classaed2_1_1map_a64da1d965b13eb28cdb3837bc17a18cf.html#a64da1d965b13eb28cdb3837bc17a18cf">00902</a>     <span class="keyword">explicit</span> <a class="code" href="classaed2_1_1map_a64da1d965b13eb28cdb3837bc17a18cf.html#a64da1d965b13eb28cdb3837bc17a18cf" title="Crea un diccionario vacio.">map</a>(Compare c = Compare()) : <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>(), count(0), <a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>(c) {}
<a name="l00903"></a>00903 
<a name="l00922"></a><a class="code" href="classaed2_1_1map_a7a77950a3d8e637bfa7cf5dcd904f257.html#a7a77950a3d8e637bfa7cf5dcd904f257">00922</a>     <a class="code" href="classaed2_1_1map_a7a77950a3d8e637bfa7cf5dcd904f257.html#a7a77950a3d8e637bfa7cf5dcd904f257" title="Constructor por copia.">map</a>(<span class="keyword">const</span> <a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>&amp; other) : <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>(), count(0), <a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>(other.<a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>) {
<a name="l00923"></a>00923         <span class="keywordflow">if</span> (not other.<a class="code" href="classaed2_1_1map_af5320ca0a7df4d16015441d5d055a7ee.html#af5320ca0a7df4d16015441d5d055a7ee" title="Indica si el diccionario esta vacío.">empty</a>()) {
<a name="l00924"></a>00924             <span class="keyword">auto</span> it_other = iterator(other.<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[1]);
<a name="l00925"></a>00925             iterator it = <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l00926"></a>00926             <span class="keywordflow">while</span> ((it_other) != other.<a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>()) {
<a name="l00927"></a>00927                 it = <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4">insert_rapido</a>(it, *it_other);
<a name="l00928"></a>00928                 it_other--;
<a name="l00929"></a>00929             }
<a name="l00930"></a>00930         }
<a name="l00931"></a>00931     }
<a name="l00932"></a>00932 
<a name="l00976"></a>00976     <span class="keyword">template</span>&lt;<span class="keyword">class</span> iterator&gt;
<a name="l00977"></a><a class="code" href="classaed2_1_1map_a5d336f3248572beb56be383dcc95cfeb.html#a5d336f3248572beb56be383dcc95cfeb">00977</a>     <a class="code" href="classaed2_1_1map_a5d336f3248572beb56be383dcc95cfeb.html#a5d336f3248572beb56be383dcc95cfeb" title="Crea un diccionario con los elementos del rango [first, last)">map</a>(iterator first, iterator last, Compare c = Compare()) : <a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>(c) {
<a name="l00978"></a>00978         <span class="keyword">auto</span> it = <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l00979"></a>00979         <span class="keywordflow">while</span> (first != last) {
<a name="l00980"></a>00980             <a class="code" href="classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8.html#a60aacba06b1579630b3c8e996cf248c8" title="Inserta value en el diccionario.">insert</a>(it, *first);
<a name="l00981"></a>00981             ++first;
<a name="l00982"></a>00982         }
<a name="l00983"></a>00983     }
<a name="l00984"></a>00984 
<a name="l01000"></a><a class="code" href="classaed2_1_1map_ac606d334809066929522964d45e76317.html#ac606d334809066929522964d45e76317">01000</a>     <a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>&amp; <a class="code" href="classaed2_1_1map_ac606d334809066929522964d45e76317.html#ac606d334809066929522964d45e76317" title="Operador de asignación.">operator=</a>(<a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a> other) {
<a name="l01001"></a>01001         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<span class="keyword">this</span>, other);
<a name="l01002"></a>01002         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01003"></a>01003     }
<a name="l01004"></a>01004 
<a name="l01025"></a><a class="code" href="classaed2_1_1map_ab22c9a85c2dadbc286cd30e97069a8e6.html#ab22c9a85c2dadbc286cd30e97069a8e6">01025</a>     <a class="code" href="classaed2_1_1map_ab22c9a85c2dadbc286cd30e97069a8e6.html#ab22c9a85c2dadbc286cd30e97069a8e6" title="Destructor.">~map</a>() {
<a name="l01026"></a>01026         <a class="code" href="classaed2_1_1map_a2bfa5165825979bf2431db55bc6bc9ca.html#a2bfa5165825979bf2431db55bc6bc9ca" title="Vacia el diccionario.">clear</a>();
<a name="l01027"></a>01027     }
<a name="l01028"></a>01028 
<a name="l01030"></a>01030 
<a name="l01032"></a>01032 
<a name="l01033"></a>01033 
<a name="l01034"></a>01034 
<a name="l01035"></a>01035 
<a name="l01056"></a><a class="code" href="classaed2_1_1map_a0b0a11f906da2926f9eb342fcee79fd7.html#a0b0a11f906da2926f9eb342fcee79fd7">01056</a>     <span class="keyword">const</span> Meaning&amp; <a class="code" href="classaed2_1_1map_a0b0a11f906da2926f9eb342fcee79fd7.html#a0b0a11f906da2926f9eb342fcee79fd7" title="Devuelve el significado asociado a key">at</a>(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l01057"></a>01057         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(key)-&gt;second;
<a name="l01058"></a>01058     }
<a name="l01059"></a>01059 
<a name="l01061"></a><a class="code" href="classaed2_1_1map_a6b21c09f59a83b6ee45432dcfa61f4a1.html#a6b21c09f59a83b6ee45432dcfa61f4a1">01061</a>     Meaning&amp; <a class="code" href="classaed2_1_1map_a6b21c09f59a83b6ee45432dcfa61f4a1.html#a6b21c09f59a83b6ee45432dcfa61f4a1">at</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l01062"></a>01062         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(key)-&gt;second;
<a name="l01063"></a>01063     }
<a name="l01064"></a>01064 
<a name="l01104"></a><a class="code" href="classaed2_1_1map_a96f23896164ab47bee48c26b803f9801.html#a96f23896164ab47bee48c26b803f9801">01104</a>     Meaning&amp; <a class="code" href="classaed2_1_1map_a96f23896164ab47bee48c26b803f9801.html#a96f23896164ab47bee48c26b803f9801" title="Devuelve el significado asociado a key, asegurando su existencia.">operator[]</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l01105"></a>01105         iterator it = <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(key);
<a name="l01106"></a>01106         <span class="keywordflow">if</span> (not it.n-&gt;is_header() &amp;&amp; <a class="code" href="classaed2_1_1map_ab45cb28bb215cd229383d88b96b3f624.html#ab45cb28bb215cd229383d88b96b3f624" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">eq</a>(it.n-&gt;value().first, key))
<a name="l01107"></a>01107             <span class="keywordflow">return</span> it.n-&gt;value().second;
<a name="l01108"></a>01108         <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4">insert_rapido</a>(it, value_type(key, Meaning()));
<a name="l01109"></a>01109         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a0b0a11f906da2926f9eb342fcee79fd7.html#a0b0a11f906da2926f9eb342fcee79fd7" title="Devuelve el significado asociado a key">at</a>(key);
<a name="l01110"></a>01110     }
<a name="l01111"></a>01111 
<a name="l01140"></a><a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8">01140</a>     iterator <a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l01141"></a>01141         <span class="keyword">auto</span> r = <span class="keyword">const_cast&lt;</span><span class="keyword">const </span><a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(key);
<a name="l01142"></a>01142         <span class="keywordflow">return</span> iterator(const_cast&lt;Node*&gt;(r.n));
<a name="l01143"></a>01143     }
<a name="l01144"></a>01144 
<a name="l01146"></a><a class="code" href="classaed2_1_1map_ab8f3e41b1a0d7b74645836f8d2e1acfc.html#ab8f3e41b1a0d7b74645836f8d2e1acfc">01146</a>     const_iterator <a class="code" href="classaed2_1_1map_ab8f3e41b1a0d7b74645836f8d2e1acfc.html#ab8f3e41b1a0d7b74645836f8d2e1acfc">find</a>(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l01147"></a>01147         std::pair&lt;const Node*, const Node*&gt; res = <a class="code" href="classaed2_1_1map_aa079b9390f988f97be26fd51ed44a2c9.html#aa079b9390f988f97be26fd51ed44a2c9">bounds</a>(key);
<a name="l01148"></a>01148         <span class="keywordflow">if</span> (res.first == res.second)
<a name="l01149"></a>01149             <span class="keywordflow">return</span> const_iterator(res.first);
<a name="l01150"></a>01150         <span class="keywordflow">else</span>
<a name="l01151"></a>01151             <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l01152"></a>01152     }
<a name="l01153"></a>01153 
<a name="l01175"></a><a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f">01175</a>     const_iterator <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l01176"></a>01176         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_aa079b9390f988f97be26fd51ed44a2c9.html#aa079b9390f988f97be26fd51ed44a2c9">bounds</a>(key).second;
<a name="l01177"></a>01177     }
<a name="l01178"></a>01178 
<a name="l01180"></a><a class="code" href="classaed2_1_1map_a07b3dd65557c59ee085e5f211269c6b3.html#a07b3dd65557c59ee085e5f211269c6b3">01180</a>     iterator <a class="code" href="classaed2_1_1map_a07b3dd65557c59ee085e5f211269c6b3.html#a07b3dd65557c59ee085e5f211269c6b3">lower_bound</a>(<span class="keyword">const</span> Key&amp; key)  {
<a name="l01181"></a>01181         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_aa079b9390f988f97be26fd51ed44a2c9.html#aa079b9390f988f97be26fd51ed44a2c9">bounds</a>(key).second;
<a name="l01182"></a>01182     }
<a name="l01184"></a>01184 
<a name="l01186"></a>01186 
<a name="l01187"></a>01187 
<a name="l01188"></a>01188 
<a name="l01189"></a>01189 
<a name="l01199"></a><a class="code" href="classaed2_1_1map_af5320ca0a7df4d16015441d5d055a7ee.html#af5320ca0a7df4d16015441d5d055a7ee">01199</a>     <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_af5320ca0a7df4d16015441d5d055a7ee.html#af5320ca0a7df4d16015441d5d055a7ee" title="Indica si el diccionario esta vacío.">empty</a>()<span class="keyword"> const </span>{
<a name="l01200"></a>01200         <span class="keywordflow">return</span> (count == 0);
<a name="l01201"></a>01201     }
<a name="l01202"></a>01202 
<a name="l01213"></a><a class="code" href="classaed2_1_1map_a89f2613f926ac13293eafe65889d6021.html#a89f2613f926ac13293eafe65889d6021">01213</a>     <span class="keywordtype">size_t</span> <a class="code" href="classaed2_1_1map_a89f2613f926ac13293eafe65889d6021.html#a89f2613f926ac13293eafe65889d6021" title="Devuelve la cantidad de valores en el diccionario.">size</a>()<span class="keyword"> const </span>{
<a name="l01214"></a>01214         <span class="keywordflow">return</span> count;
<a name="l01215"></a>01215     }
<a name="l01217"></a>01217 
<a name="l01219"></a>01219 
<a name="l01220"></a>01220 
<a name="l01221"></a>01221 
<a name="l01222"></a>01222 
<a name="l01254"></a>01254     iterator <a class="code" href="classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8.html#a60aacba06b1579630b3c8e996cf248c8" title="Inserta value en el diccionario.">insert</a>(<span class="keyword">const</span> value_type&amp; value) {
<a name="l01255"></a>01255         iterator it = <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(value.first);
<a name="l01256"></a>01256         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8.html#a60aacba06b1579630b3c8e996cf248c8" title="Inserta value en el diccionario.">insert</a>(it, value);
<a name="l01257"></a>01257     }
<a name="l01258"></a>01258 
<a name="l01266"></a>01266     iterator <a class="code" href="classaed2_1_1map_a60aacba06b1579630b3c8e996cf248c8.html#a60aacba06b1579630b3c8e996cf248c8" title="Inserta value en el diccionario.">insert</a>(const_iterator hint, <span class="keyword">const</span> value_type&amp; value) {
<a name="l01267"></a>01267         <span class="keywordflow">if</span> (<a class="code" href="classaed2_1_1map_a45b04533e9acf27438813ab4a2604443.html#a45b04533e9acf27438813ab4a2604443">hintValido</a>(hint, value))
<a name="l01268"></a>01268             <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4">insert_rapido</a>(hint, value);
<a name="l01269"></a>01269         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4">insert_rapido</a>(<a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(value.first), value);
<a name="l01270"></a>01270     }
<a name="l01271"></a>01271 
<a name="l01306"></a>01306     iterator <a class="code" href="classaed2_1_1map_a2ef6723c183916276b0afc4a4c721475.html#a2ef6723c183916276b0afc4a4c721475" title="Inserta o Color::Redefine value en el diccionario.">insert_or_assign</a>(const_iterator hint, <span class="keyword">const</span> value_type&amp; value) {
<a name="l01307"></a>01307         iterator it;
<a name="l01308"></a>01308         <span class="keywordflow">if</span> (<a class="code" href="classaed2_1_1map_a45b04533e9acf27438813ab4a2604443.html#a45b04533e9acf27438813ab4a2604443">hintValido</a>(hint, value))
<a name="l01309"></a>01309             it.n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(hint.n);
<a name="l01310"></a>01310         <span class="keywordflow">else</span>
<a name="l01311"></a>01311             it = <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(value.first);
<a name="l01312"></a>01312         <span class="keywordflow">if</span> (not it.n-&gt;is_header() &amp;&amp; <a class="code" href="classaed2_1_1map_ab45cb28bb215cd229383d88b96b3f624.html#ab45cb28bb215cd229383d88b96b3f624" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">eq</a>(it.n-&gt;key(), value.first))
<a name="l01313"></a>01313             <span class="keyword">static_cast&lt;</span>InnerNode*<span class="keyword">&gt;</span>(it.n)-&gt;_value.second = value.second;
<a name="l01314"></a>01314         <span class="keywordflow">else</span>
<a name="l01315"></a>01315             it = <a class="code" href="classaed2_1_1map_a4b4f1e65ee9aeccee4046d53fd5fd8a4.html#a4b4f1e65ee9aeccee4046d53fd5fd8a4">insert_rapido</a>(it, value);
<a name="l01316"></a>01316         <span class="keywordflow">return</span> it;
<a name="l01317"></a>01317     }
<a name="l01318"></a>01318 
<a name="l01321"></a>01321     iterator <a class="code" href="classaed2_1_1map_a2ef6723c183916276b0afc4a4c721475.html#a2ef6723c183916276b0afc4a4c721475" title="Inserta o Color::Redefine value en el diccionario.">insert_or_assign</a>(<span class="keyword">const</span> value_type&amp; value) {
<a name="l01322"></a>01322         iterator it = <a class="code" href="classaed2_1_1map_a3399d36fdd5a880b494f3a5795d3f18f.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a key">lower_bound</a>(value.first);
<a name="l01323"></a>01323         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map_a2ef6723c183916276b0afc4a4c721475.html#a2ef6723c183916276b0afc4a4c721475" title="Inserta o Color::Redefine value en el diccionario.">insert_or_assign</a>(it, value);
<a name="l01324"></a>01324     }
<a name="l01325"></a>01325 
<a name="l01355"></a>01355     iterator <a class="code" href="classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe.html#ad8e796bf9c9c558e5ce6b61e116253fe" title="Elimina el valor apuntado por pos">erase</a>(const_iterator pos) {
<a name="l01356"></a>01356         Node* z = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(pos.n);
<a name="l01357"></a>01357         Node* y = z;
<a name="l01358"></a>01358         Node* x;
<a name="l01359"></a>01359         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 2; i++) {
<a name="l01360"></a>01360             <span class="keywordflow">if</span> (pos.n == <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[i]) {
<a name="l01361"></a>01361                 <span class="keywordflow">if</span> (count == 1)
<a name="l01362"></a>01362                     <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[i] = &amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>;
<a name="l01363"></a>01363                 <span class="keywordflow">else</span> {
<a name="l01364"></a>01364                     <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[i] = <span class="keyword">const_cast&lt;</span>Node *<span class="keyword">&gt;</span>(pos.n-&gt;inmediato(1-i));
<a name="l01365"></a>01365                 }
<a name="l01366"></a>01366             }
<a name="l01367"></a>01367         }
<a name="l01368"></a>01368         iterator res = iterator(const_cast&lt;Node*&gt;((++pos).n));
<a name="l01369"></a>01369         <a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a> y_color_original = y-&gt;color;
<a name="l01370"></a>01370         <span class="keywordflow">if</span> (z-&gt;child[0] == <span class="keyword">nullptr</span>){
<a name="l01371"></a>01371             x = z-&gt;child[1];
<a name="l01372"></a>01372             <a class="code" href="classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a.html#a98b9f200c64ce02dfb67902ee00e375a" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">transplant</a>(z, z-&gt;child[1]);
<a name="l01373"></a>01373         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (z-&gt;child[1] == <span class="keyword">nullptr</span>) {
<a name="l01374"></a>01374             x = z-&gt;child[0];
<a name="l01375"></a>01375             <a class="code" href="classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a.html#a98b9f200c64ce02dfb67902ee00e375a" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">transplant</a>(z, z-&gt;child[0]);
<a name="l01376"></a>01376         } <span class="keywordflow">else</span> {
<a name="l01377"></a>01377             y = z-&gt;child[1]-&gt;sub_minimo();
<a name="l01378"></a>01378             y_color_original = y-&gt;color;
<a name="l01379"></a>01379             x = y-&gt;child[1];
<a name="l01380"></a>01380             <span class="keywordflow">if</span> (y-&gt;parent != z) {
<a name="l01381"></a>01381                 <a class="code" href="classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a.html#a98b9f200c64ce02dfb67902ee00e375a" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">transplant</a>(y, y-&gt;child[1]);
<a name="l01382"></a>01382                 y-&gt;child[1] = z-&gt;child[1];
<a name="l01383"></a>01383                 y-&gt;child[1]-&gt;parent = y;
<a name="l01384"></a>01384             }
<a name="l01385"></a>01385             <a class="code" href="classaed2_1_1map_a98b9f200c64ce02dfb67902ee00e375a.html#a98b9f200c64ce02dfb67902ee00e375a" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">transplant</a>(z, y);
<a name="l01386"></a>01386             y-&gt;child[0] = z-&gt;child[0];
<a name="l01387"></a>01387             y-&gt;child[0]-&gt;parent = y;
<a name="l01388"></a>01388             y-&gt;color = z-&gt;color;
<a name="l01389"></a>01389         }
<a name="l01390"></a>01390         count--;
<a name="l01391"></a>01391         <span class="keywordflow">if</span> (y_color_original == Color::Black &amp;&amp; x != <span class="keyword">nullptr</span>)
<a name="l01392"></a>01392             <a class="code" href="classaed2_1_1map_a7870c8f26e82b00d0aeb2e9f331dfec6.html#a7870c8f26e82b00d0aeb2e9f331dfec6" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">erase_fixup</a>(iterator(x));
<a name="l01393"></a>01393         <span class="keyword">delete</span> z;
<a name="l01394"></a>01394         <span class="keywordflow">return</span> res;
<a name="l01395"></a>01395     }
<a name="l01396"></a>01396 
<a name="l01409"></a>01409     <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe.html#ad8e796bf9c9c558e5ce6b61e116253fe" title="Elimina el valor apuntado por pos">erase</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l01410"></a>01410         iterator it = <a class="code" href="classaed2_1_1map_afd0fc1a8234888e61e0e615de7e245b8.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave key">find</a>(key);
<a name="l01411"></a>01411         <a class="code" href="classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe.html#ad8e796bf9c9c558e5ce6b61e116253fe" title="Elimina el valor apuntado por pos">erase</a>(it);
<a name="l01412"></a>01412     }
<a name="l01413"></a>01413 
<a name="l01427"></a>01427     <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1map_a2bfa5165825979bf2431db55bc6bc9ca.html#a2bfa5165825979bf2431db55bc6bc9ca" title="Vacia el diccionario.">clear</a>() {
<a name="l01428"></a>01428         <span class="keywordflow">while</span> (not <a class="code" href="classaed2_1_1map_af5320ca0a7df4d16015441d5d055a7ee.html#af5320ca0a7df4d16015441d5d055a7ee" title="Indica si el diccionario esta vacío.">empty</a>()) {
<a name="l01429"></a>01429             <a class="code" href="classaed2_1_1map_ad8e796bf9c9c558e5ce6b61e116253fe.html#ad8e796bf9c9c558e5ce6b61e116253fe" title="Elimina el valor apuntado por pos">erase</a>(<a class="code" href="classaed2_1_1map_a58a95705d54b3dda7f775ce5a22225cb.html#a58a95705d54b3dda7f775ce5a22225cb" title="Devuelve un iterador al primer valor del diccionario.">begin</a>());
<a name="l01430"></a>01430         }
<a name="l01431"></a>01431     }
<a name="l01432"></a>01432 
<a name="l01456"></a>01456     <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a64da1d965b13eb28cdb3837bc17a18cf.html#a64da1d965b13eb28cdb3837bc17a18cf" title="Crea un diccionario vacio.">map</a>&amp; other) {
<a name="l01457"></a>01457         <span class="keyword">using</span> <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">std::swap</a>;
<a name="l01458"></a>01458         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a" title="Orden total para comparar claves.">lt</a>, other.lt);
<a name="l01459"></a>01459         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(count, other.count);
<a name="l01460"></a>01460         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.parent, other.header.parent);
<a name="l01461"></a>01461         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0], other.header.child[0]);
<a name="l01462"></a>01462         <a class="code" href="classaed2_1_1map_a43ddb71cc91e5c6021a7a1f243d6cc4a.html#a43ddb71cc91e5c6021a7a1f243d6cc4a" title="Intercambia el contenido de *this y other">swap</a>(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[1], other.header.child[1]);
<a name="l01463"></a>01463         <span class="keywordflow">if</span>(<a class="code" href="classaed2_1_1map_a07ab50eda249a57858a34037d4c4c7b2.html#a07ab50eda249a57858a34037d4c4c7b2" title="Devuelve un puntero al nodo raíz.">root</a>() != <span class="keyword">nullptr</span>) <a class="code" href="classaed2_1_1map_a07ab50eda249a57858a34037d4c4c7b2.html#a07ab50eda249a57858a34037d4c4c7b2" title="Devuelve un puntero al nodo raíz.">root</a>()-&gt;parent = &amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>;
<a name="l01464"></a>01464         <span class="keywordflow">if</span>(other.root() != <span class="keyword">nullptr</span>) other.root()-&gt;parent = &amp;other.header;
<a name="l01465"></a>01465 
<a name="l01466"></a>01466         <span class="comment">//nota: cuando el arbol es vacio, los child de header apuntan a header.  Notar que quedan apuntando mal despues del swap</span>
<a name="l01467"></a>01467         <span class="keywordflow">if</span>(<a class="code" href="classaed2_1_1map_a07ab50eda249a57858a34037d4c4c7b2.html#a07ab50eda249a57858a34037d4c4c7b2" title="Devuelve un puntero al nodo raíz.">root</a>() == <span class="keyword">nullptr</span>) <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0] = <a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[1] = &amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>;
<a name="l01468"></a>01468         <span class="keywordflow">if</span>(other.root() == <span class="keyword">nullptr</span>) other.header.child[0] = other.header.child[1] = &amp;other.header;
<a name="l01469"></a>01469     }
<a name="l01471"></a>01471 
<a name="l01473"></a>01473 
<a name="l01474"></a>01474 
<a name="l01475"></a>01475 
<a name="l01476"></a>01476 
<a name="l01488"></a>01488     iterator <a class="code" href="classaed2_1_1map_a58a95705d54b3dda7f775ce5a22225cb.html#a58a95705d54b3dda7f775ce5a22225cb" title="Devuelve un iterador al primer valor del diccionario.">begin</a>() {
<a name="l01489"></a>01489         iterator it(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]);
<a name="l01490"></a>01490         <span class="keywordflow">return</span> it;
<a name="l01491"></a><a class="code" href="classaed2_1_1map_a1d10432d305bcb5f1af6ab7b75c27c1c.html#a1d10432d305bcb5f1af6ab7b75c27c1c">01491</a>     }
<a name="l01492"></a>01492 
<a name="l01494"></a>01494     const_iterator <a class="code" href="classaed2_1_1map_a58a95705d54b3dda7f775ce5a22225cb.html#a58a95705d54b3dda7f775ce5a22225cb" title="Devuelve un iterador al primer valor del diccionario.">begin</a>()<span class="keyword"> const </span>{
<a name="l01495"></a>01495         const_iterator it(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]);
<a name="l01496"></a>01496         <span class="keywordflow">return</span> it;
<a name="l01497"></a><a class="code" href="classaed2_1_1map_ab96ad892caa28f193481a578f4956a2a.html#ab96ad892caa28f193481a578f4956a2a">01497</a>     }
<a name="l01498"></a>01498 
<a name="l01500"></a>01500     const_iterator <a class="code" href="classaed2_1_1map_ab96ad892caa28f193481a578f4956a2a.html#ab96ad892caa28f193481a578f4956a2a">cbegin</a>() {
<a name="l01501"></a>01501         const_iterator it(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]);
<a name="l01502"></a>01502         <span class="keywordflow">return</span> it;
<a name="l01503"></a>01503     }
<a name="l01504"></a>01504 
<a name="l01517"></a>01517     iterator <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>() {
<a name="l01518"></a>01518         iterator it(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>);
<a name="l01519"></a>01519         <span class="keywordflow">return</span> it;
<a name="l01520"></a><a class="code" href="classaed2_1_1map_a1f847ad4fd46883ac60d764967172179.html#a1f847ad4fd46883ac60d764967172179">01520</a>     }
<a name="l01521"></a>01521 
<a name="l01523"></a>01523     const_iterator <a class="code" href="classaed2_1_1map_a76023e6a56cb625513e1b5ea028bf983.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>()<span class="keyword"> const </span>{
<a name="l01524"></a>01524         const_iterator it(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>);
<a name="l01525"></a>01525         <span class="keywordflow">return</span> it;
<a name="l01526"></a><a class="code" href="classaed2_1_1map_a7bb91e94cbc875f1a011b142ef877912.html#a7bb91e94cbc875f1a011b142ef877912">01526</a>     }
<a name="l01527"></a>01527 
<a name="l01529"></a>01529     const_iterator <a class="code" href="classaed2_1_1map_a7bb91e94cbc875f1a011b142ef877912.html#a7bb91e94cbc875f1a011b142ef877912">cend</a>() {
<a name="l01530"></a>01530         const_iterator it(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>);
<a name="l01531"></a>01531         <span class="keywordflow">return</span> it;
<a name="l01532"></a>01532     }
<a name="l01533"></a>01533 
<a name="l01546"></a>01546     reverse_iterator <a class="code" href="classaed2_1_1map_ac412d3902112122c1bffe2d4283a4e9d.html#ac412d3902112122c1bffe2d4283a4e9d" title="Devuelve un iterador al primer valor del diccionario, en un recorrido al revés.">rbegin</a>() {
<a name="l01547"></a>01547         <span class="keywordflow">return</span> reverse_iterator(iterator(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>));
<a name="l01548"></a><a class="code" href="classaed2_1_1map_aa68b6888ae3e256203d4ef273c293586.html#aa68b6888ae3e256203d4ef273c293586">01548</a>     }
<a name="l01549"></a>01549 
<a name="l01551"></a>01551     const_reverse_iterator <a class="code" href="classaed2_1_1map_ac412d3902112122c1bffe2d4283a4e9d.html#ac412d3902112122c1bffe2d4283a4e9d" title="Devuelve un iterador al primer valor del diccionario, en un recorrido al revés.">rbegin</a>()<span class="keyword"> const </span>{
<a name="l01552"></a>01552         <span class="keywordflow">return</span> const_reverse_iterator(const_iterator(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>));
<a name="l01553"></a>01553 
<a name="l01554"></a><a class="code" href="classaed2_1_1map_a6ad62765a2b2e00247b9e35a7542b448.html#a6ad62765a2b2e00247b9e35a7542b448">01554</a>     }
<a name="l01555"></a>01555 
<a name="l01557"></a>01557     const_reverse_iterator <a class="code" href="classaed2_1_1map_a6ad62765a2b2e00247b9e35a7542b448.html#a6ad62765a2b2e00247b9e35a7542b448">crbegin</a>() {
<a name="l01558"></a>01558         <span class="keywordflow">return</span> const_reverse_iterator(const_iterator(&amp;<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>));
<a name="l01559"></a>01559     }
<a name="l01560"></a>01560 
<a name="l01573"></a>01573     reverse_iterator <a class="code" href="classaed2_1_1map_a277f03b4f4b6b98879e4e4921081801f.html#a277f03b4f4b6b98879e4e4921081801f" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario, en un recorrido al re...">rend</a>() {
<a name="l01574"></a>01574         <span class="keywordflow">return</span> reverse_iterator(iterator(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]));
<a name="l01575"></a><a class="code" href="classaed2_1_1map_aafce6e53c53c460897613747fec89f9d.html#aafce6e53c53c460897613747fec89f9d">01575</a>     }
<a name="l01576"></a>01576 
<a name="l01578"></a>01578     const_reverse_iterator <a class="code" href="classaed2_1_1map_a277f03b4f4b6b98879e4e4921081801f.html#a277f03b4f4b6b98879e4e4921081801f" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario, en un recorrido al re...">rend</a>()<span class="keyword"> const </span>{
<a name="l01579"></a>01579         <span class="keywordflow">return</span> const_reverse_iterator(const_iterator(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]));
<a name="l01580"></a><a class="code" href="classaed2_1_1map_a40933b2efe1cb479de9195ea947244d1.html#a40933b2efe1cb479de9195ea947244d1">01580</a>     }
<a name="l01581"></a>01581 
<a name="l01583"></a>01583     const_reverse_iterator <a class="code" href="classaed2_1_1map_a40933b2efe1cb479de9195ea947244d1.html#a40933b2efe1cb479de9195ea947244d1">crend</a>() {
<a name="l01584"></a>01584         <span class="keywordflow">return</span> const_reverse_iterator(const_iterator(<a class="code" href="classaed2_1_1map_a92d93f905c8ad73fba18fdc7e8915cce.html#a92d93f905c8ad73fba18fdc7e8915cce" title="Cantidad de elementos en el diccionario.">header</a>.child[0]));
<a name="l01585"></a>01585     }
<a name="l01587"></a>01587 
<a name="l01617"></a>01617     <span class="keyword">class </span>iterator {
<a name="l01618"></a>01618         <span class="keyword">using</span> Node = <span class="keyword">typename</span> map::Node;
<a name="l01619"></a>01619         <span class="keyword">using</span> InnerNode = <span class="keyword">typename</span> map::InnerNode;
<a name="l01620"></a>01620     <span class="keyword">public</span>:
<a name="l01621"></a>01621 
<a name="l01623"></a>01623         <span class="keyword">using</span> iterator_category = std::bidirectional_iterator_tag;
<a name="l01625"></a>01625         <span class="keyword">using</span> value_type = map::value_type;
<a name="l01627"></a>01627         <span class="keyword">using</span> reference = map::reference;
<a name="l01629"></a>01629         <span class="keyword">using</span> pointer = map::pointer;
<a name="l01631"></a>01631         <span class="keyword">using</span> difference_type = std::ptrdiff_t;
<a name="l01632"></a>01632 
<a name="l01659"></a>01659         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>() {
<a name="l01660"></a>01660             n = <span class="keyword">nullptr</span>;
<a name="l01661"></a>01661         }
<a name="l01674"></a>01674         reference <a class="code" href="classaed2_1_1map_1_1iterator_a48e75896997d516fe69bc18f889222fe.html#a48e75896997d516fe69bc18f889222fe" title="Retorna el valor apuntado por *this">operator*</a>()<span class="keyword"> const </span>{
<a name="l01675"></a>01675             <span class="keywordflow">return</span> n-&gt;value();
<a name="l01676"></a>01676         }
<a name="l01692"></a>01692         pointer <a class="code" href="classaed2_1_1map_1_1iterator_a227de3b56a6ff2e6bb6de2d08277ca60.html#a227de3b56a6ff2e6bb6de2d08277ca60" title="Retorna la dirección del valor apuntado por *this">operator-&gt;</a>()<span class="keyword"> const </span>{
<a name="l01693"></a>01693             <span class="keywordflow">return</span> &amp;n-&gt;value();
<a name="l01694"></a>01694         }
<a name="l01710"></a>01710         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>&amp; <a class="code" href="classaed2_1_1map_1_1iterator_a7c44de7f0508186e135ddbcfe782fec5.html#a7c44de7f0508186e135ddbcfe782fec5" title="Avanza el iterador a la siguiente posición.">operator++</a>() {
<a name="l01711"></a>01711             n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(n-&gt;inmediato(1));
<a name="l01712"></a>01712             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01713"></a>01713         }
<a name="l01729"></a>01729         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> <a class="code" href="classaed2_1_1map_1_1iterator_a7c44de7f0508186e135ddbcfe782fec5.html#a7c44de7f0508186e135ddbcfe782fec5" title="Avanza el iterador a la siguiente posición.">operator++</a>(<span class="keywordtype">int</span>) {
<a name="l01730"></a>01730             <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> it = <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>(n);
<a name="l01731"></a>01731             n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(n-&gt;inmediato(1));
<a name="l01732"></a>01732             <span class="keywordflow">return</span> it;
<a name="l01733"></a>01733         }
<a name="l01749"></a>01749         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>&amp; <a class="code" href="classaed2_1_1map_1_1iterator_ae7f70f71545d2a9de17b65edaaec748a.html#ae7f70f71545d2a9de17b65edaaec748a" title="Retrocede el iterador a la posición anterior.">operator--</a>() {
<a name="l01750"></a>01750             n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(n-&gt;inmediato(0));
<a name="l01751"></a>01751             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01752"></a>01752         }
<a name="l01768"></a>01768         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> <a class="code" href="classaed2_1_1map_1_1iterator_ae7f70f71545d2a9de17b65edaaec748a.html#ae7f70f71545d2a9de17b65edaaec748a" title="Retrocede el iterador a la posición anterior.">operator--</a>(<span class="keywordtype">int</span>) {
<a name="l01769"></a>01769             <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> it = <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>(n);
<a name="l01770"></a>01770             n = <span class="keyword">const_cast&lt;</span>Node*<span class="keyword">&gt;</span>(n-&gt;inmediato(0));
<a name="l01771"></a>01771             <span class="keywordflow">return</span> it;
<a name="l01772"></a>01772         }
<a name="l01773"></a>01773 
<a name="l01791"></a>01791         <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_1_1iterator_ad052c1ef8477a1613c292202226053a5.html#ad052c1ef8477a1613c292202226053a5" title="Operador de igualdad.">operator==</a>(<a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a> other)<span class="keyword"> const </span>{
<a name="l01792"></a><a class="code" href="classaed2_1_1map_1_1iterator_a836c7a166d63f507c4f79085ae953c51.html#a836c7a166d63f507c4f79085ae953c51">01792</a>              <span class="keywordflow">return</span> (n == other.n);
<a name="l01793"></a>01793         }
<a name="l01795"></a>01795         <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_1_1iterator_a836c7a166d63f507c4f79085ae953c51.html#a836c7a166d63f507c4f79085ae953c51" title="idem !|operator==">operator!=</a>(<a class="code" href="classaed2_1_1map_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> other)<span class="keyword"> const </span>{
<a name="l01796"></a>01796              <span class="keywordflow">return</span> (n != other.n);
<a name="l01797"></a>01797         }
<a name="l01798"></a>01798 
<a name="l01799"></a>01799     <span class="keyword">private</span>:
<a name="l01820"></a>01820         <a class="code" href="classaed2_1_1map_1_1iterator_acdd790eb54216601a2e0591776004dba.html#acdd790eb54216601a2e0591776004dba" title="Crea un iterador nulo.">iterator</a>(Node* pos) : n(pos) {}
<a name="l01831"></a>01831         <a class="code" href="classaed2_1_1map_1_1iterator_a7fe2cdc033cd899dc9fd1da08ac3b39e.html#a7fe2cdc033cd899dc9fd1da08ac3b39e" title="Operador de casteo a Node*.">operator Node*</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> n;}
<a name="l01833"></a>01833 
<a name="l01858"></a>01858 
<a name="l01859"></a><a class="code" href="classaed2_1_1map_1_1iterator_aeda338414e516b47761f994fb78056c6.html#aeda338414e516b47761f994fb78056c6">01859</a> 
<a name="l01860"></a>01860 
<a name="l01863"></a>01863         <a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">Node</a>* n{<span class="keyword">nullptr</span>};
<a name="l01865"></a>01865         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>;
<a name="l01866"></a>01866     };
<a name="l01867"></a>01867 
<a name="l01874"></a>01874     <span class="keyword">class </span>const_iterator {
<a name="l01875"></a>01875         <span class="keyword">using</span> Node = <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">map::Node</a>;
<a name="l01876"></a>01876         <span class="keyword">using</span> InnerNode = <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="structaed2_1_1map_1_1InnerNode.html" title="Estructura (privada) de un nodo no cabecera del árbol red-black.">map::InnerNode</a>;
<a name="l01877"></a>01877     <span class="keyword">public</span>:
<a name="l01878"></a>01878         <span class="keyword">using</span> iterator_category = std::bidirectional_iterator_tag;
<a name="l01879"></a>01879         <span class="keyword">using</span> value_type = map::value_type;
<a name="l01880"></a>01880         <span class="keyword">using</span> reference = map::const_reference;
<a name="l01881"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555.html#a8add3e4cabbdaf313b0e085064491555">01881</a>         <span class="keyword">using</span> pointer = map::const_pointer;
<a name="l01882"></a>01882         <span class="keyword">using</span> difference_type = std::ptrdiff_t;
<a name="l01883"></a>01883 
<a name="l01885"></a>01885         <a class="code" href="classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555.html#a8add3e4cabbdaf313b0e085064491555" title="Ver aed2::map::iterator::iterator()">const_iterator</a>() : n(nullptr) {}
<a name="l01903"></a>01903         <a class="code" href="classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555.html#a8add3e4cabbdaf313b0e085064491555" title="Ver aed2::map::iterator::iterator()">const_iterator</a>(<a class="code" href="classaed2_1_1map_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it) {
<a name="l01904"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a3e8bf3ace171a4156dbf681fac671db9.html#a3e8bf3ace171a4156dbf681fac671db9">01904</a> 
<a name="l01905"></a>01905             n = it.n;
<a name="l01906"></a>01906         }
<a name="l01908"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a5cb0d5307b937d0bcda7d65379ce5208.html#a5cb0d5307b937d0bcda7d65379ce5208">01908</a>         reference <a class="code" href="classaed2_1_1map_1_1const__iterator_a3e8bf3ace171a4156dbf681fac671db9.html#a3e8bf3ace171a4156dbf681fac671db9" title="Ver aed2::map::iterator::operator*()">operator*</a>()<span class="keyword"> const  </span>{
<a name="l01909"></a>01909             <span class="keywordflow">return</span> n-&gt;value();
<a name="l01910"></a>01910         }
<a name="l01912"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_adaada1d489552555135d2ea89c67c271.html#adaada1d489552555135d2ea89c67c271">01912</a>         pointer <a class="code" href="classaed2_1_1map_1_1const__iterator_a5cb0d5307b937d0bcda7d65379ce5208.html#a5cb0d5307b937d0bcda7d65379ce5208" title="Ver aed2::map::iterator::operator-&gt;()">operator-&gt;</a>()<span class="keyword"> const </span>{
<a name="l01913"></a>01913             <span class="keywordflow">return</span> &amp;n-&gt;value();
<a name="l01914"></a>01914         }
<a name="l01916"></a>01916         <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a>&amp; <a class="code" href="classaed2_1_1map_1_1const__iterator_adaada1d489552555135d2ea89c67c271.html#adaada1d489552555135d2ea89c67c271" title="Ver aed2::map::iterator::operator++()">operator++</a>() {
<a name="l01917"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a2fbc216b2f11694bb567ea850bcfdb2e.html#a2fbc216b2f11694bb567ea850bcfdb2e">01917</a>             n = n-&gt;inmediato(1);
<a name="l01918"></a>01918             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01919"></a>01919         }
<a name="l01921"></a>01921         <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> <a class="code" href="classaed2_1_1map_1_1const__iterator_adaada1d489552555135d2ea89c67c271.html#adaada1d489552555135d2ea89c67c271" title="Ver aed2::map::iterator::operator++()">operator++</a>(<span class="keywordtype">int</span>)  {
<a name="l01922"></a>01922             <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> it(n);
<a name="l01923"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_ae12d6608eeca05957fa3de3f50287c90.html#ae12d6608eeca05957fa3de3f50287c90">01923</a>             n = n-&gt;inmediato(1);
<a name="l01924"></a>01924             <span class="keywordflow">return</span> it;
<a name="l01925"></a>01925         }
<a name="l01927"></a>01927         <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a>&amp; <a class="code" href="classaed2_1_1map_1_1const__iterator_ae12d6608eeca05957fa3de3f50287c90.html#ae12d6608eeca05957fa3de3f50287c90" title="Ver aed2::map::iterator::operator--()">operator--</a>()  {
<a name="l01928"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_ad5ae1cb1d000ac1f528ff32f9af3e228.html#ad5ae1cb1d000ac1f528ff32f9af3e228">01928</a>             n = n-&gt;inmediato(0);
<a name="l01929"></a>01929             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01930"></a>01930         }
<a name="l01932"></a>01932         <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> <a class="code" href="classaed2_1_1map_1_1const__iterator_ae12d6608eeca05957fa3de3f50287c90.html#ae12d6608eeca05957fa3de3f50287c90" title="Ver aed2::map::iterator::operator--()">operator--</a>(<span class="keywordtype">int</span>) {
<a name="l01933"></a>01933             <a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> it(n);
<a name="l01934"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_af837632a6c4a88ec13c4c96153538494.html#af837632a6c4a88ec13c4c96153538494">01934</a>             n = n-&gt;inmediato(0);
<a name="l01935"></a>01935             <span class="keywordflow">return</span> it;
<a name="l01936"></a>01936         }
<a name="l01938"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a40b9e921ad9c25aded17f394b9534510.html#a40b9e921ad9c25aded17f394b9534510">01938</a>         <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_1_1const__iterator_af837632a6c4a88ec13c4c96153538494.html#af837632a6c4a88ec13c4c96153538494" title="Ver aed2::map::iterator::operator==()">operator==</a>(<a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> other)<span class="keyword"> const  </span>{
<a name="l01939"></a>01939             <span class="keywordflow">return</span> (n == other.n);
<a name="l01940"></a>01940         }
<a name="l01942"></a>01942         <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_1_1const__iterator_a40b9e921ad9c25aded17f394b9534510.html#a40b9e921ad9c25aded17f394b9534510" title="Ver aed2::map::iterator::operator!=()">operator!=</a>(<a class="code" href="classaed2_1_1map_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> other)<span class="keyword"> const  </span>{
<a name="l01943"></a>01943           <span class="keywordflow">return</span> (n != other.n);
<a name="l01944"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a195d395708167dca23f9ce49f7c604f3.html#a195d395708167dca23f9ce49f7c604f3">01944</a>         }
<a name="l01945"></a>01945 
<a name="l01946"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_a637c0f083a23ec4a262d47baeecafcf3.html#a637c0f083a23ec4a262d47baeecafcf3">01946</a>     <span class="keyword">private</span>:
<a name="l01948"></a><a class="code" href="classaed2_1_1map_1_1const__iterator_aeda338414e516b47761f994fb78056c6.html#aeda338414e516b47761f994fb78056c6">01948</a>         <a class="code" href="classaed2_1_1map_1_1const__iterator_a8add3e4cabbdaf313b0e085064491555.html#a8add3e4cabbdaf313b0e085064491555" title="Ver aed2::map::iterator::iterator()">const_iterator</a>(<a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">Node</a>* pos) : n(pos) {}
<a name="l01950"></a>01950         <a class="code" href="classaed2_1_1map_1_1const__iterator_a637c0f083a23ec4a262d47baeecafcf3.html#a637c0f083a23ec4a262d47baeecafcf3" title="Ver aed2::map::iterator::operator Node*()">operator Node*</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> n;}
<a name="l01952"></a>01952         Node* n{<span class="keyword">nullptr</span>};
<a name="l01953"></a>01953         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classaed2_1_1map_1_1const__iterator_aeda338414e516b47761f994fb78056c6.html#aeda338414e516b47761f994fb78056c6" title="Ver aed2::map::iterator::n.">map</a>;
<a name="l01954"></a>01954     };
<a name="l01955"></a>01955 
<a name="l01956"></a>01956 <span class="keyword">private</span>:
<a name="l01957"></a>01957     <span class="keyword">friend</span> <span class="keyword">class </span>iterator;
<a name="l01958"></a>01958     <span class="keyword">friend</span> <span class="keyword">class </span>const_iterator;
<a name="l01959"></a>01959 
<a name="l01969"></a>01969     <span class="keyword">enum class</span> <a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a> {Red, Black, Header};
<a name="l01970"></a>01970 
<a name="l01987"></a>01987     <span class="keyword">struct </span>Node {
<a name="l01989"></a>01989         <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* child[2]{<span class="keyword">nullptr</span>,<span class="keyword">nullptr</span>};
<a name="l01991"></a>01991         <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* parent{<span class="keyword">nullptr</span>};
<a name="l01993"></a>01993         <a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a> color{Color::Red};
<a name="l01994"></a>01994 
<a name="l01996"></a>01996 
<a name="l01997"></a>01997 
<a name="l01998"></a>01998 
<a name="l01999"></a>01999 
<a name="l02007"></a>02007         <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>() : color(<a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a>::Header) {
<a name="l02008"></a>02008             child[0] = child[1] = <span class="keyword">this</span>;
<a name="l02009"></a>02009         }
<a name="l02010"></a>02010 
<a name="l02021"></a>02021         <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>(<a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* p, <a class="code" href="classaed2_1_1map_a6d62a415a4b9d320b30cada4ebcf9f5b.html#a6d62a415a4b9d320b30cada4ebcf9f5b" title="Colores de los nodos en un árbol red-black. Ver Implementación del árbol red-black.">Color</a> c = Color::Red) : color(c) {
<a name="l02022"></a>02022             child[0] = child[1] = <span class="keyword">nullptr</span>;
<a name="l02023"></a>02023             parent = p;
<a name="l02024"></a>02024         }
<a name="l02025"></a>02025 
<a name="l02027"></a>02027         
<a name="l02042"></a>02042         <span class="keyword">virtual</span> <a class="code" href="structaed2_1_1map_1_1Node_a4f3cb2cc4302fe96432e624ced147540.html#a4f3cb2cc4302fe96432e624ced147540" title="Destructor de Node.">~Node</a>() {}
<a name="l02043"></a>02043 
<a name="l02045"></a>02045 
<a name="l02046"></a>02046 
<a name="l02047"></a>02047 
<a name="l02048"></a>02048 
<a name="l02066"></a>02066         <span class="keywordtype">bool</span> <a class="code" href="structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca.html#ae6cc4598a60dbab7120ffae58ebbadca" title="Devuelve true si el nodo actual es el header de la estructura.">is_header</a>()<span class="keyword"> const </span>{
<a name="l02067"></a>02067             <span class="keywordflow">return</span> color == Color::Header;
<a name="l02068"></a>02068         }
<a name="l02069"></a>02069 
<a name="l02082"></a>02082         value_type&amp; <a class="code" href="structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb.html#af4ada8e79dabb4849fc87de63d3970fb" title="Devuelve el valor asociado a un nodo no cabecera.">value</a>() {
<a name="l02083"></a>02083             assert(not <a class="code" href="structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca.html#ae6cc4598a60dbab7120ffae58ebbadca" title="Devuelve true si el nodo actual es el header de la estructura.">is_header</a>());
<a name="l02084"></a><a class="code" href="structaed2_1_1map_1_1Node_a747a33f40ad748d750372fe73aea0b32.html#a747a33f40ad748d750372fe73aea0b32">02084</a>             <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="structaed2_1_1map_1_1InnerNode.html" title="Estructura (privada) de un nodo no cabecera del árbol red-black.">InnerNode</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;_value;
<a name="l02085"></a>02085         }
<a name="l02086"></a>02086 
<a name="l02088"></a>02088         <span class="keyword">const</span> value_type&amp; <a class="code" href="structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb.html#af4ada8e79dabb4849fc87de63d3970fb" title="Devuelve el valor asociado a un nodo no cabecera.">value</a>()<span class="keyword"> const </span>{
<a name="l02089"></a>02089             assert(not <a class="code" href="structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca.html#ae6cc4598a60dbab7120ffae58ebbadca" title="Devuelve true si el nodo actual es el header de la estructura.">is_header</a>());
<a name="l02090"></a>02090             <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="structaed2_1_1map_1_1InnerNode.html" title="Estructura (privada) de un nodo no cabecera del árbol red-black.">InnerNode</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;_value;
<a name="l02091"></a>02091         }
<a name="l02092"></a>02092 
<a name="l02105"></a>02105         <span class="keyword">const</span> Key&amp; <a class="code" href="structaed2_1_1map_1_1Node_a5451f8da0b7ad3582fab1decad5d09cb.html#a5451f8da0b7ad3582fab1decad5d09cb" title="Devuelve la clave del valor de un nodo no cabecera.">key</a>()<span class="keyword"> const </span>{
<a name="l02106"></a>02106             assert(not <a class="code" href="structaed2_1_1map_1_1Node_ae6cc4598a60dbab7120ffae58ebbadca.html#ae6cc4598a60dbab7120ffae58ebbadca" title="Devuelve true si el nodo actual es el header de la estructura.">is_header</a>());
<a name="l02107"></a>02107             <span class="keywordflow">return</span> <a class="code" href="structaed2_1_1map_1_1Node_af4ada8e79dabb4849fc87de63d3970fb.html#af4ada8e79dabb4849fc87de63d3970fb" title="Devuelve el valor asociado a un nodo no cabecera.">value</a>().first;
<a name="l02108"></a>02108         }
<a name="l02109"></a>02109 
<a name="l02111"></a>02111 
<a name="l02128"></a>02128         <span class="keyword">const</span> <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* <a class="code" href="structaed2_1_1map_1_1Node_a4d5263c74ea5f78025fea331267730ce.html#a4d5263c74ea5f78025fea331267730ce">inmediato</a>(<span class="keywordtype">int</span> dir)<span class="keyword"> const </span>{
<a name="l02129"></a>02129             <span class="keyword">const</span> <a class="code" href="structaed2_1_1map_1_1Node_a9c1a600491066ce7eb669b1cb76d56c6.html#a9c1a600491066ce7eb669b1cb76d56c6" title="Constructor para crear el nodo header.">Node</a>* res = <span class="keyword">this</span>;
<a name="l02130"></a>02130             <span class="keywordflow">if</span> (res-&gt;is_header())
<a name="l02131"></a>02131                 res = res-&gt;child[1-dir];
<a name="l02132"></a>02132             <span class="keywordflow">else</span> {
<a name="l02133"></a>02133                 if (res-&gt;child[dir] != <span class="keyword">nullptr</span>) {
<a name="l02134"></a>02134                     res = res-&gt;child[dir];
<a name="l02135"></a>02135                     <span class="keywordflow">while</span> (res-&gt;child[1-dir] != <span class="keyword">nullptr</span>)
<a name="l02136"></a>02136                         res = res-&gt;child[1-dir];
<a name="l02137"></a>02137                 } <span class="keywordflow">else</span> {
<a name="l02138"></a>02138                     <span class="keywordflow">while</span> (not res-&gt;parent-&gt;is_header() &amp;&amp; res == res-&gt;parent-&gt;child[dir])
<a name="l02139"></a>02139                         res = res-&gt;parent;
<a name="l02140"></a>02140                     res = res-&gt;parent;
<a name="l02141"></a>02141                 }
<a name="l02142"></a>02142             }
<a name="l02143"></a>02143             <span class="keywordflow">return</span> res;
<a name="l02144"></a>02144         }
<a name="l02145"></a><a class="code" href="structaed2_1_1map_1_1Node_ae3420a3dca910d193089461151b8dc4e.html#ae3420a3dca910d193089461151b8dc4e">02145</a> 
<a name="l02149"></a>02149         <a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">Node</a>* sub_minimo()<span class="keyword"> const </span>{
<a name="l02150"></a>02150             <a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">Node</a>* res = <span class="keyword">const_cast&lt;</span><a class="code" href="structaed2_1_1map_1_1Node.html" title="Estructura (privada) de un nodo del árbol red-black.">Node</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);
<a name="l02151"></a>02151             <span class="keywordflow">while</span> (res-&gt;child[0] != <span class="keyword">nullptr</span>)
<a name="l02152"></a>02152                 res = res-&gt;child[0];
<a name="l02153"></a>02153             <span class="keywordflow">return</span> res;
<a name="l02154"></a>02154         }
<a name="l02155"></a>02155 
<a name="l02161"></a>02161         <span class="keywordtype">void</span> print(<span class="keywordtype">int</span> tab = 0)<span class="keyword"> const </span>{
<a name="l02162"></a>02162             std::cout &lt;&lt; std::string(tab, <span class="charliteral">&#39; &#39;</span>) &lt;&lt; value().first &lt;&lt; <span class="stringliteral">&quot;-&gt;&quot;</span> &lt;&lt; value().second &lt;&lt; <span class="stringliteral">&quot;   (&quot;</span> &lt;&lt; (color == Color::Red ? <span class="stringliteral">&quot;Red)&quot;</span> : <span class="stringliteral">&quot;Black)&quot;</span>) &lt;&lt; std::endl;
<a name="l02163"></a>02163             <span class="keywordflow">if</span>(child[0]) child[0]-&gt;print(tab + 2);
<a name="l02164"></a>02164             <span class="keywordflow">if</span>(child[1]) child[1]-&gt;print(tab + 2);
<a name="l02165"></a>02165         }
<a name="l02166"></a>02166     };
<a name="l02167"></a>02167 
<a name="l02184"></a>02184     <span class="keyword">struct </span>InnerNode : <span class="keyword">public</span> Node {
<a name="l02185"></a>02185         value_type _value;
<a name="l02186"></a>02186 
<a name="l02187"></a>02187         InnerNode(Node* p, <span class="keyword">const</span> value_type&amp; v): Node(p, Color::Red), _value(v) {}
<a name="l02188"></a>02188     };
<a name="l02189"></a>02189 
<a name="l02191"></a>02191 
<a name="l02213"></a>02213 
<a name="l02214"></a>02214 
<a name="l02215"></a><a class="code" href="classaed2_1_1map_a0e5be36fae0693e4665bd2a615e7550a.html#a0e5be36fae0693e4665bd2a615e7550a">02215</a> 
<a name="l02219"></a>02219     Compare lt;
<a name="l02221"></a>02221     <span class="keywordtype">size_t</span> count{0};
<a name="l02223"></a>02223     Node header;
<a name="l02225"></a>02225 
<a name="l02227"></a>02227 
<a name="l02228"></a>02228 
<a name="l02229"></a>02229 
<a name="l02230"></a>02230 
<a name="l02235"></a>02235     <span class="keyword">inline</span> InnerNode* root() { <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>InnerNode*<span class="keyword">&gt;</span>(header.parent); }
<a name="l02236"></a>02236 
<a name="l02238"></a>02238     <span class="keyword">inline</span> <span class="keyword">const</span> InnerNode* root()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>InnerNode*<span class="keyword">&gt;</span>(header.parent); }
<a name="l02240"></a>02240 
<a name="l02242"></a>02242 
<a name="l02243"></a>02243 
<a name="l02244"></a>02244 
<a name="l02251"></a>02251     <span class="keyword">inline</span> <span class="keywordtype">bool</span> eq(<span class="keyword">const</span> Key&amp; k1, <span class="keyword">const</span> Key&amp; k2)<span class="keyword"> const </span>{
<a name="l02252"></a>02252         <span class="keywordflow">return</span> lt(k1, k2) == lt(k2, k1);
<a name="l02253"></a>02253     }
<a name="l02254"></a>02254 
<a name="l02261"></a>02261     std::pair&lt;Node*, Node*&gt; bounds(<span class="keyword">const</span> Key&amp; key) {
<a name="l02262"></a><a class="code" href="classaed2_1_1map_a4d903414b3f1f1e6f785342bb3900572.html#a4d903414b3f1f1e6f785342bb3900572">02262</a>         <span class="keyword">auto</span> r = <span class="keyword">const_cast&lt;</span><span class="keyword">const </span><a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classaed2_1_1map_a4d903414b3f1f1e6f785342bb3900572.html#a4d903414b3f1f1e6f785342bb3900572" title="Retorna true si las claves son iguales con respecto a this-&gt;lt.">bounds</a>(key);
<a name="l02263"></a>02263         <span class="keywordflow">return</span> std::make_pair(const_cast&lt;Node*&gt;(r.first), const_cast&lt;Node*&gt;(r.second));
<a name="l02264"></a>02264     }
<a name="l02265"></a>02265 
<a name="l02266"></a>02266     std::pair&lt;const Node*, const Node*&gt; bounds(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l02267"></a>02267         <span class="keyword">const</span> Node* res[2] = {&amp;header, &amp;header}, *indice = root();
<a name="l02268"></a>02268         <span class="keywordflow">while</span> (indice != <span class="keyword">nullptr</span> &amp;&amp; !eq(indice-&gt;key(), key)){
<a name="l02269"></a>02269             <span class="keyword">auto</span> dir = lt(indice-&gt;key(), key);
<a name="l02270"></a>02270             res[1-dir] = indice;
<a name="l02271"></a>02271             indice = indice-&gt;child[dir];
<a name="l02272"></a>02272         }
<a name="l02273"></a>02273         <span class="keywordflow">if</span> (indice != <span class="keyword">nullptr</span>){
<a name="l02274"></a>02274             res[0] = res[1] = indice;
<a name="l02275"></a>02275         }
<a name="l02276"></a>02276         <span class="keywordflow">return</span> std::make_pair(res[0], res[1]);
<a name="l02277"></a>02277     }
<a name="l02278"></a><a class="code" href="classaed2_1_1map_ac9197851fe5b217d45d58bbaf3612c75.html#ac9197851fe5b217d45d58bbaf3612c75">02278</a> 
<a name="l02282"></a>02282     <span class="keywordtype">void</span> insert_fixup(iterator it){
<a name="l02283"></a>02283         Node* n = it.n;
<a name="l02284"></a>02284         Node* y;
<a name="l02285"></a>02285         <span class="keywordflow">while</span> (n-&gt;parent-&gt;color == Color::Red) {
<a name="l02286"></a>02286             <span class="keyword">auto</span> dir = n-&gt;parent == n-&gt;parent-&gt;parent-&gt;child[0];
<a name="l02287"></a>02287             y = n-&gt;parent-&gt;parent-&gt;child[dir];
<a name="l02288"></a>02288             <span class="keywordflow">if</span> (y == <span class="keyword">nullptr</span>)
<a name="l02289"></a>02289                 y = &amp;header;
<a name="l02290"></a>02290             <span class="keywordflow">if</span> (y-&gt;color == Color::Red) {
<a name="l02291"></a>02291                 n-&gt;parent-&gt;color = Color::Black;
<a name="l02292"></a>02292                 y-&gt;color = Color::Black;
<a name="l02293"></a>02293                 n-&gt;parent-&gt;parent-&gt;color = Color::Red;
<a name="l02294"></a>02294                 n = n-&gt;parent-&gt;parent;
<a name="l02295"></a>02295             } <span class="keywordflow">else</span> {
<a name="l02296"></a>02296                 <span class="keywordflow">if</span> (n == n-&gt;parent-&gt;child[dir]) {
<a name="l02297"></a>02297                     n = n-&gt;parent;
<a name="l02298"></a>02298                     iterator it2 = iterator(n);
<a name="l02299"></a>02299                     dir_rotate(it2, 1 - dir);
<a name="l02300"></a>02300                 }
<a name="l02301"></a>02301                 n-&gt;parent-&gt;color = Color::Black;
<a name="l02302"></a>02302                 n-&gt;parent-&gt;parent-&gt;color = Color::Red;
<a name="l02303"></a>02303                 iterator it3(n-&gt;parent-&gt;parent);
<a name="l02304"></a>02304                 dir_rotate(it3, dir);
<a name="l02305"></a>02305             }
<a name="l02306"></a>02306         }
<a name="l02307"></a>02307         header.parent-&gt;color = Color::Black;
<a name="l02308"></a>02308     }
<a name="l02315"></a>02315     <span class="keywordtype">void</span> dir_rotate(iterator it, <span class="keywordtype">int</span> dir){
<a name="l02316"></a>02316         Node* n = it.n;
<a name="l02317"></a>02317         Node* y = it.n-&gt;child[1-dir];
<a name="l02318"></a>02318         n-&gt;child[1-dir] = y-&gt;child[dir];
<a name="l02319"></a>02319         <span class="keywordflow">if</span> (y-&gt;child[dir] != <span class="keyword">nullptr</span>)
<a name="l02320"></a>02320             y-&gt;child[dir]-&gt;parent = n;
<a name="l02321"></a>02321         y-&gt;parent = n-&gt;parent;
<a name="l02322"></a>02322         <span class="keywordflow">if</span>(n-&gt;parent-&gt;is_header())
<a name="l02323"></a>02323             header.parent = y;
<a name="l02324"></a>02324         <span class="keywordflow">else</span> if (n == n-&gt;parent-&gt;child[dir])
<a name="l02325"></a>02325             n-&gt;parent-&gt;child[dir] = y;
<a name="l02326"></a>02326         <span class="keywordflow">else</span>
<a name="l02327"></a>02327             n-&gt;parent-&gt;child[1-dir] = y;
<a name="l02328"></a>02328         y-&gt;child[dir] = n;
<a name="l02329"></a>02329         n-&gt;parent = y;
<a name="l02330"></a>02330     }
<a name="l02331"></a>02331 
<a name="l02336"></a>02336     <span class="keywordtype">void</span> transplant(Node* u, Node* v){
<a name="l02337"></a>02337         <span class="keywordflow">if</span> (u-&gt;parent-&gt;is_header())
<a name="l02338"></a>02338             header.parent = v;
<a name="l02339"></a>02339         <span class="keywordflow">else</span> if (u == u-&gt;parent-&gt;child[0])
<a name="l02340"></a>02340             u-&gt;parent-&gt;child[0] = v;
<a name="l02341"></a>02341         <span class="keywordflow">else</span>
<a name="l02342"></a>02342             u-&gt;parent-&gt;child[1] = v;
<a name="l02343"></a>02343         <span class="keywordflow">if</span> (v != <span class="keyword">nullptr</span>)
<a name="l02344"></a>02344             v-&gt;parent = u-&gt;parent;
<a name="l02345"></a>02345     }
<a name="l02346"></a>02346 
<a name="l02351"></a>02351     <span class="keywordtype">void</span> erase_fixup(iterator it){
<a name="l02352"></a>02352         Node* x = it.n;
<a name="l02353"></a>02353         Node* w;
<a name="l02354"></a>02354         <span class="keywordflow">while</span> (x != header.parent &amp;&amp; x-&gt;color == Color::Black){
<a name="l02355"></a>02355             <span class="keyword">auto</span> dir = (x == x-&gt;parent-&gt;child[0]);
<a name="l02356"></a>02356             w = x-&gt;parent-&gt;child[dir];
<a name="l02357"></a>02357             <span class="keywordflow">if</span> (w-&gt;color == Color::Red){
<a name="l02358"></a>02358                 w-&gt;color = Color::Black;
<a name="l02359"></a>02359                 x-&gt;parent-&gt;color = Color::Red;
<a name="l02360"></a>02360                 it.n = x-&gt;parent;
<a name="l02361"></a>02361                 dir_rotate(it, 1-dir);
<a name="l02362"></a>02362                 w = x-&gt;parent-&gt;child[dir];
<a name="l02363"></a>02363             }
<a name="l02364"></a>02364             <span class="keywordflow">if</span> (w-&gt;child[1-dir]-&gt;color == Color::Black &amp;&amp; w-&gt;child[dir]-&gt;color == Color::Black){
<a name="l02365"></a>02365                 w-&gt;color = Color::Red;
<a name="l02366"></a>02366                 x = x-&gt;parent;
<a name="l02367"></a>02367             } <span class="keywordflow">else</span> {
<a name="l02368"></a>02368                 <span class="keywordflow">if</span> (w-&gt;child[dir]-&gt;color == Color::Black){
<a name="l02369"></a>02369                     w-&gt;child[1-dir]-&gt;color = Color::Black;
<a name="l02370"></a>02370                     w-&gt;color = Color::Red;
<a name="l02371"></a>02371                     dir_rotate(iterator(w), dir);
<a name="l02372"></a>02372                     w = x-&gt;parent-&gt;child[dir];
<a name="l02373"></a>02373                 }
<a name="l02374"></a>02374                 w-&gt;color = x-&gt;parent-&gt;color;
<a name="l02375"></a>02375                 x-&gt;parent-&gt;color = Color::Black;
<a name="l02376"></a>02376                 w-&gt;child[dir]-&gt;color = Color::Black;
<a name="l02377"></a>02377                 it.n = x-&gt;parent;
<a name="l02378"></a>02378                 dir_rotate(it, 1-dir);
<a name="l02379"></a>02379                 x = header.parent;
<a name="l02380"></a>02380             }
<a name="l02381"></a>02381         }
<a name="l02382"></a>02382         x-&gt;color = Color::Black;
<a name="l02383"></a>02383     }
<a name="l02384"></a>02384 
<a name="l02396"></a>02396     <span class="keywordtype">bool</span> hintValido(const_iterator hint, <span class="keyword">const</span> value_type&amp; value)<span class="keyword"> const </span>{
<a name="l02397"></a>02397         <span class="keywordtype">bool</span> res;
<a name="l02398"></a>02398         <span class="keywordflow">if</span> (hint.n == <span class="keyword">nullptr</span>)
<a name="l02399"></a>02399             res = <span class="keyword">false</span>;
<a name="l02400"></a>02400         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hint == end())
<a name="l02401"></a>02401             res = (count == 0 || lt(header.child[1]-&gt;key(), value.first));
<a name="l02402"></a>02402         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hint == begin())
<a name="l02403"></a>02403             res = lt(value.first, hint.n-&gt;key());
<a name="l02404"></a>02404         <span class="keywordflow">else</span>
<a name="l02405"></a>02405             res = lt(value.first, hint.n-&gt;key()) &amp;&amp; lt((--hint).n-&gt;key(), value.first);
<a name="l02406"></a>02406         <span class="keywordflow">return</span> res;
<a name="l02407"></a>02407     }
<a name="l02408"></a>02408 
<a name="l02422"></a>02422     iterator insert_rapido(const_iterator hint, <span class="keyword">const</span> value_type&amp; value) {
<a name="l02423"></a>02423         iterator it(const_cast&lt;Node*&gt;(hint.n));
<a name="l02424"></a>02424         <span class="keywordflow">if</span> (it.n-&gt;is_header() || !eq(it.n-&gt;key(), value.first)) {
<a name="l02425"></a>02425             <span class="keywordflow">if</span> (it != begin())
<a name="l02426"></a>02426                 it--;
<a name="l02427"></a>02427             <span class="comment">/*if (it.n-&gt;is_header()) {</span>
<a name="l02428"></a>02428 <span class="comment">                it--;</span>
<a name="l02429"></a>02429 <span class="comment">            } else {</span>
<a name="l02430"></a>02430 <span class="comment">                if (it.n-&gt;child[0] != nullptr) {</span>
<a name="l02431"></a>02431 <span class="comment">                    it.n = it.n-&gt;child[0];</span>
<a name="l02432"></a>02432 <span class="comment">                    while (it.n-&gt;child[1] != nullptr &amp;&amp; not it.n-&gt;child[0]-&gt;is_header())</span>
<a name="l02433"></a>02433 <span class="comment">                        it.n = it.n-&gt;child[1];</span>
<a name="l02434"></a>02434 <span class="comment">                }</span>
<a name="l02435"></a>02435 <span class="comment">            }*/</span>
<a name="l02436"></a>02436             Node *padre = it.n;
<a name="l02437"></a>02437             InnerNode *nuevo = <span class="keyword">new</span> InnerNode(padre, value);
<a name="l02438"></a>02438             <span class="keywordtype">bool</span> esElMenor = (count == 0) || lt(value.first, begin().n-&gt;key());
<a name="l02439"></a>02439             <span class="keywordtype">bool</span> esElMayor = (count == 0) || lt(header.child[1]-&gt;key(), value.first);
<a name="l02440"></a>02440             <span class="keywordflow">if</span> (esElMenor)
<a name="l02441"></a>02441                 header.child[0] = nuevo;
<a name="l02442"></a>02442             <span class="keywordflow">if</span> (esElMayor)
<a name="l02443"></a>02443                 header.child[1] = nuevo;
<a name="l02444"></a>02444             <span class="keywordflow">if</span> (padre-&gt;is_header()) {
<a name="l02445"></a>02445                 header.parent = nuevo;
<a name="l02446"></a>02446             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lt(nuevo-&gt;key(), padre-&gt;key()))
<a name="l02447"></a>02447                 padre-&gt;child[0] = nuevo;
<a name="l02448"></a>02448             <span class="keywordflow">else</span>
<a name="l02449"></a>02449                 padre-&gt;child[1] = nuevo;
<a name="l02450"></a>02450             count++;
<a name="l02451"></a>02451             it.n = nuevo;
<a name="l02452"></a>02452             insert_fixup(it);
<a name="l02453"></a>02453         }
<a name="l02454"></a>02454         <span class="keywordflow">return</span> it;
<a name="l02455"></a>02455     }
<a name="l02456"></a>02456 };
<a name="l02457"></a>02457 
<a name="l02459"></a>02459 
<a name="l02460"></a>02460 
<a name="l02461"></a>02461 
<a name="l02462"></a>02462 
<a name="l02485"></a>02485 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02486"></a>02486 <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_abfc51b39670220e79037ac067006e933.html#abfc51b39670220e79037ac067006e933" title="Operador de igualdad entre dos diccionarios.">operator==</a>(<span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02487"></a>02487     <span class="keywordflow">return</span> m1.size() == m2.size() and std::equal(m1.begin(), m1.end(), m2.begin());
<a name="l02488"></a>02488 }
<a name="l02489"></a>02489 
<a name="l02496"></a>02496 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02497"></a>02497 <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_abce0fa35c5b25fd67111c2e704616f09.html#abce0fa35c5b25fd67111c2e704616f09" title="Renombre de not(m1 == m2)">operator!=</a>(<span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02498"></a>02498     <span class="keywordflow">return</span> not(m1 == m2);
<a name="l02499"></a>02499 }
<a name="l02500"></a>02500 
<a name="l02524"></a>02524 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02525"></a>02525 <span class="keywordtype">bool</span> operator&lt;(const map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02526"></a>02526     <span class="keywordflow">return</span> (std::lexicographical_compare(m1.begin(), m1.end(), m2.begin(), m2.end()));
<a name="l02527"></a>02527 }
<a name="l02528"></a>02528 
<a name="l02535"></a>02535 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02536"></a>02536 <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_a2000cd874b72034ce7fe730c811b6c63.html#a2000cd874b72034ce7fe730c811b6c63" title="Renombre de m2 &lt; m1">operator&gt;</a>(<span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02537"></a>02537     <span class="keywordflow">return</span> m2 &lt; m1;
<a name="l02538"></a>02538 }
<a name="l02539"></a>02539 
<a name="l02546"></a>02546 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02547"></a>02547 <span class="keywordtype">bool</span> operator&lt;=(const map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02548"></a>02548     <span class="keywordflow">return</span> not(m2 &lt; m1);
<a name="l02549"></a>02549 }
<a name="l02550"></a>02550 
<a name="l02557"></a>02557 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02558"></a>02558 <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map_a093a6d1a055339c5fc6297a1d47a9159.html#a093a6d1a055339c5fc6297a1d47a9159" title="Renombre de not(m1 &lt; m2)">operator&gt;=</a>(<span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m1, <span class="keyword">const</span> map&lt;K, V, C&gt;&amp; m2) {
<a name="l02559"></a>02559     <span class="keywordflow">return</span> !(m1 &lt; m2);
<a name="l02560"></a>02560 }
<a name="l02562"></a>02562 
<a name="l02564"></a>02564 
<a name="l02565"></a>02565 
<a name="l02566"></a>02566 
<a name="l02581"></a>02581 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l02582"></a>02582 <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1map_a119cb2938bbc11c25ebd4fb824782a72.html#a119cb2938bbc11c25ebd4fb824782a72" title="Implementa la función swap para cumplir con el concepto swappable.">swap</a>(map&lt;K, V, C&gt;&amp; m1, map&lt;K, V, C&gt;&amp; m2) {
<a name="l02583"></a>02583     m1.swap(m2);
<a name="l02584"></a>02584 }
<a name="l02585"></a>02585 }
<a name="l02586"></a>02586 
<a name="l02587"></a>02587 <span class="preprocessor">#endif </span><span class="comment">/* MAP_H_ */</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Todo</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Clases</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Archivos</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Funciones</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumeraciones</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Amigas</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="map_8h.html">map.h</a>      </li>

    <li class="footer">Generado el Viernes, 30 de Junio de 2017 18:17:11 para Trabajo práctico 2: diccionario sobre RB-tree por
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
