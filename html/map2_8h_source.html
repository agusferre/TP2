<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>My Project: map2.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">map2.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00577"></a>00577 <span class="preprocessor">#ifndef MAP_H_</span>
<a name="l00578"></a>00578 <span class="preprocessor"></span><span class="preprocessor">#define MAP_H_</span>
<a name="l00579"></a>00579 <span class="preprocessor"></span>
<a name="l00580"></a>00580 <span class="preprocessor">#include &lt;functional&gt;</span>
<a name="l00581"></a>00581 <span class="preprocessor">#include &lt;iterator&gt;</span>
<a name="l00582"></a>00582 <span class="preprocessor">#include &lt;utility&gt;</span>
<a name="l00583"></a>00583 <span class="preprocessor">#include &lt;cassert&gt;</span>
<a name="l00584"></a>00584 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00585"></a>00585 
<a name="l00586"></a>00586 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00587"></a>00587 <span class="preprocessor"></span><span class="comment">//Aca se puede incluir cualquier cosa que consideren que necesitan para debug</span>
<a name="l00588"></a>00588 <span class="comment">//#include &lt;iostream&gt;</span>
<a name="l00589"></a>00589 <span class="comment">//#include &lt;iomanip&gt;</span>
<a name="l00590"></a>00590 <span class="preprocessor">#endif</span>
<a name="l00591"></a>00591 <span class="preprocessor"></span>
<a name="l00599"></a>00599 <span class="keyword">namespace </span>aed2 {
<a name="l00600"></a>00600 
<a name="l00669"></a>00669 <span class="keyword">template</span>&lt;
<a name="l00670"></a>00670   <span class="keyword">class </span>Key,
<a name="l00671"></a>00671   <span class="keyword">class </span>Meaning,
<a name="l00672"></a>00672   <span class="keyword">class </span>Compare = std::less&lt;Key&gt;
<a name="l00673"></a>00673 &gt;
<a name="l00674"></a>00674 <span class="keyword">class </span>map {
<a name="l00675"></a>00675         <span class="comment">//forward declarations (innecesario, pero ayuda al analizador semantico de Eclipse)</span>
<a name="l00676"></a>00676         <span class="keyword">class </span>Node;
<a name="l00677"></a>00677         <span class="keyword">class </span>InnerNode;
<a name="l00678"></a>00678 <span class="keyword">public</span>:
<a name="l00679"></a>00679     <span class="comment">//forward declarations</span>
<a name="l00680"></a>00680     <span class="keyword">class </span>iterator;
<a name="l00681"></a>00681     <span class="keyword">class </span>const_iterator;
<a name="l00682"></a>00682 
<a name="l00686"></a>00686     <span class="keyword">using</span> key_type = Key;
<a name="l00690"></a>00690     <span class="keyword">using</span> mapped_type = Meaning;
<a name="l00694"></a>00694     <span class="keyword">using</span> value_type = std::pair&lt;const Key, Meaning&gt;;
<a name="l00698"></a>00698     <span class="keyword">using</span> key_compare = Compare;
<a name="l00702"></a>00702     <span class="keyword">using</span> reference = value_type&amp;;
<a name="l00706"></a>00706     <span class="keyword">using</span> const_reference = <span class="keyword">const</span> value_type&amp;;
<a name="l00710"></a>00710     <span class="keyword">using</span> pointer = value_type*;
<a name="l00714"></a>00714     <span class="keyword">using</span> const_pointer = <span class="keyword">const</span> value_type*;
<a name="l00718"></a>00718     <span class="keyword">using</span> size_type = std::size_t;
<a name="l00722"></a>00722     <span class="keyword">using</span> difference_type = std::ptrdiff_t;
<a name="l00723"></a>00723 
<a name="l00734"></a>00734     <span class="keyword">using</span> reverse_iterator = std::reverse_iterator&lt;iterator&gt;;
<a name="l00745"></a>00745     <span class="keyword">using</span> const_reverse_iterator = std::reverse_iterator&lt;const_iterator&gt;;
<a name="l00746"></a>00746 
<a name="l00748"></a>00748 
<a name="l00749"></a>00749 
<a name="l00750"></a>00750 
<a name="l00751"></a>00751 
<a name="l00769"></a><a class="code" href="classaed2_1_1map.html#a64da1d965b13eb28cdb3837bc17a18cf">00769</a>     <span class="keyword">explicit</span> <a class="code" href="classaed2_1_1map.html#a64da1d965b13eb28cdb3837bc17a18cf" title="Crea un diccionario vacio.">map</a>(Compare c = Compare()) {
<a name="l00770"></a>00770         header = Node();
<a name="l00771"></a>00771         header-&gt;parent = <span class="keyword">nullptr</span>;
<a name="l00772"></a>00772         header-&gt;child[0] = <span class="keyword">nullptr</span>;
<a name="l00773"></a>00773         header-&gt;child[1] = <span class="keyword">nullptr</span>;
<a name="l00774"></a>00774     }
<a name="l00775"></a>00775 
<a name="l00798"></a><a class="code" href="classaed2_1_1map.html#a7a77950a3d8e637bfa7cf5dcd904f257">00798</a>     <a class="code" href="classaed2_1_1map.html#a7a77950a3d8e637bfa7cf5dcd904f257" title="Constructor por copia.">map</a>(<span class="keyword">const</span> <a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>&amp; other) {
<a name="l00799"></a>00799 
<a name="l00800"></a>00800     }
<a name="l00801"></a>00801 
<a name="l00845"></a>00845     <span class="keyword">template</span>&lt;<span class="keyword">class</span> iterator&gt;
<a name="l00846"></a><a class="code" href="classaed2_1_1map.html#a5d336f3248572beb56be383dcc95cfeb">00846</a>     <a class="code" href="classaed2_1_1map.html#a5d336f3248572beb56be383dcc95cfeb" title="Crea un diccionario con los elementos del rango [{first}, {last})">map</a>(<a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> first, <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> last, Compare c = Compare()) : lt(c) {
<a name="l00847"></a>00847         <span class="keyword">auto</span> it = <a class="code" href="classaed2_1_1map.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l00848"></a>00848         <span class="keywordflow">while</span>(first != last) {
<a name="l00849"></a>00849                 <a class="code" href="classaed2_1_1map.html#a6941cde9a79c27f054b5c97a587a1854" title="Inserta {value} en el diccionario.">insert</a>(*first, it);
<a name="l00850"></a>00850                 ++first;
<a name="l00851"></a>00851         }
<a name="l00852"></a>00852     }
<a name="l00853"></a>00853 
<a name="l00875"></a><a class="code" href="classaed2_1_1map.html#ac606d334809066929522964d45e76317">00875</a>     <a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>&amp; <a class="code" href="classaed2_1_1map.html#ac606d334809066929522964d45e76317" title="Operador de asignación.">operator=</a>(<a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a> other) {
<a name="l00876"></a>00876         <span class="comment">//completar</span>
<a name="l00877"></a>00877     }
<a name="l00878"></a>00878 
<a name="l00906"></a><a class="code" href="classaed2_1_1map.html#ab22c9a85c2dadbc286cd30e97069a8e6">00906</a>     <a class="code" href="classaed2_1_1map.html#ab22c9a85c2dadbc286cd30e97069a8e6" title="Destructor.">~map</a>() {
<a name="l00907"></a>00907         <span class="comment">//completar</span>
<a name="l00908"></a>00908     }
<a name="l00910"></a>00910 
<a name="l00912"></a>00912 
<a name="l00913"></a>00913 
<a name="l00914"></a>00914 
<a name="l00915"></a>00915 
<a name="l00940"></a><a class="code" href="classaed2_1_1map.html#a0b0a11f906da2926f9eb342fcee79fd7">00940</a>     <span class="keyword">const</span> Meaning&amp; <a class="code" href="classaed2_1_1map.html#a0b0a11f906da2926f9eb342fcee79fd7" title="Devuelve el significado asociado a {key}.">at</a>(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l00941"></a>00941     Node* indice = header-&gt;parent;
<a name="l00942"></a>00942     <span class="comment">//pepito</span>
<a name="l00943"></a>00943         
<a name="l00944"></a>00944         <span class="keywordflow">return</span> indice-&gt;_value.second;
<a name="l00945"></a>00945 
<a name="l00946"></a>00946     }
<a name="l00947"></a>00947 
<a name="l00949"></a><a class="code" href="classaed2_1_1map.html#a6b21c09f59a83b6ee45432dcfa61f4a1">00949</a>     Meaning&amp; <a class="code" href="classaed2_1_1map.html#a6b21c09f59a83b6ee45432dcfa61f4a1">at</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l00950"></a>00950         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve el significado asociado a {key}, asegurando su existencia.">find</a>(key).n.second;
<a name="l00951"></a>00951    }
<a name="l00952"></a>00952 
<a name="l00993"></a><a class="code" href="classaed2_1_1map.html#a96f23896164ab47bee48c26b803f9801">00993</a>     Meaning&amp; <a class="code" href="classaed2_1_1map.html#a96f23896164ab47bee48c26b803f9801" title="Devuelve el significado asociado a {key}, asegurando su existencia.">operator[]</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l00994"></a>00994 
<a name="l00995"></a>00995         <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it = <a class="code" href="classaed2_1_1map.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a {key}.">lower_bound</a>(key);
<a name="l00996"></a>00996         <span class="keywordflow">if</span> (it-&gt;value_.key() == key)
<a name="l00997"></a>00997             <span class="keywordflow">return</span> _value-&gt;second;
<a name="l00998"></a>00998         <span class="keywordflow">else</span>
<a name="l00999"></a>00999 
<a name="l01000"></a>01000             <a class="code" href="classaed2_1_1map.html#a6941cde9a79c27f054b5c97a587a1854" title="Inserta {value} en el diccionario.">insert</a>(it, value_type(key, Meaning()));
<a name="l01001"></a>01001 
<a name="l01002"></a>01002         <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map.html#a0b0a11f906da2926f9eb342fcee79fd7" title="Devuelve el significado asociado a {key}.">at</a>(key);
<a name="l01003"></a>01003 
<a name="l01004"></a>01004     }
<a name="l01005"></a>01005 
<a name="l01035"></a><a class="code" href="classaed2_1_1map.html#afd0fc1a8234888e61e0e615de7e245b8">01035</a>     <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1map.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve un iterador a la posicion del valor con clave {key}.">find</a>(<span class="keyword">const</span> Key&amp; key) {
<a name="l01036"></a>01036         Node* indice = header-&gt;parent;
<a name="l01037"></a>01037         <span class="keywordflow">while</span>(indice-&gt;_value-&gt;key() != key){
<a name="l01038"></a>01038                 <span class="keywordflow">if</span> (indice-&gt;_value-&gt;key() &lt; key)
<a name="l01039"></a>01039                         indice = indice-&gt;child[0];
<a name="l01040"></a>01040                 <span class="keywordflow">else</span>
<a name="l01041"></a>01041                         indice = indice-&gt;child[1];
<a name="l01042"></a>01042         }
<a name="l01043"></a>01043         Iterator it();
<a name="l01044"></a>01044         it.node = indice;
<a name="l01045"></a>01045         <span class="keywordflow">return</span> it;
<a name="l01046"></a>01046 
<a name="l01047"></a>01047     }
<a name="l01048"></a>01048 
<a name="l01050"></a><a class="code" href="classaed2_1_1map.html#ab8f3e41b1a0d7b74645836f8d2e1acfc">01050</a>     const_iterator <a class="code" href="classaed2_1_1map.html#ab8f3e41b1a0d7b74645836f8d2e1acfc">find</a>(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l01051"></a>01051                 Node* indice = header-&gt;parent;
<a name="l01052"></a>01052         <span class="keywordflow">while</span>(indice-&gt;_value-&gt;key() != key){
<a name="l01053"></a>01053                 <span class="keywordflow">if</span> (indice-&gt;_value-&gt;key() &lt; key)
<a name="l01054"></a>01054                         indice = indice-&gt;child[0];
<a name="l01055"></a>01055                 <span class="keywordflow">else</span>
<a name="l01056"></a>01056                         indice = indice-&gt;child[1];
<a name="l01057"></a>01057         }
<a name="l01058"></a>01058         Iterator it();
<a name="l01059"></a>01059         it.node = indice;
<a name="l01060"></a>01060         <span class="keywordflow">return</span> it;
<a name="l01061"></a>01061     }
<a name="l01062"></a>01062 
<a name="l01086"></a><a class="code" href="classaed2_1_1map.html#a3399d36fdd5a880b494f3a5795d3f18f">01086</a>     const_iterator <a class="code" href="classaed2_1_1map.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a {key}.">lower_bound</a>(<span class="keyword">const</span> Key&amp; key)<span class="keyword"> const </span>{
<a name="l01087"></a>01087         Node* indice = header-&gt;parent;
<a name="l01088"></a>01088         <span class="keywordflow">while</span> (indice != <span class="keyword">nullptr</span> &amp;&amp; (indice-&gt;_value-&gt;key() &lt; key || (indice-&gt;_value-&gt;key() != key &amp;&amp; indice-&gt;child[0] != <span class="keyword">nullptr</span>))) {
<a name="l01089"></a>01089             <span class="keywordflow">if</span> (indice-&gt;_value-&gt;key() &lt; key)
<a name="l01090"></a>01090                 indice = indice-&gt;child[1];
<a name="l01091"></a>01091             <span class="keywordflow">else</span>
<a name="l01092"></a>01092                 indice = indice-&gt;child[0];
<a name="l01093"></a>01093         }
<a name="l01094"></a>01094         <span class="keywordflow">if</span> (indice == <span class="keyword">nullptr</span>)
<a name="l01095"></a>01095             indice = <a class="code" href="classaed2_1_1map.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l01096"></a>01096         const_iterator it();
<a name="l01097"></a>01097         it.n = indice;
<a name="l01098"></a>01098         <span class="keywordflow">return</span> it;
<a name="l01099"></a>01099     }
<a name="l01100"></a>01100 
<a name="l01102"></a><a class="code" href="classaed2_1_1map.html#a07b3dd65557c59ee085e5f211269c6b3">01102</a>     <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1map.html#a07b3dd65557c59ee085e5f211269c6b3">lower_bound</a>(<span class="keyword">const</span> Key&amp; key)  {
<a name="l01103"></a>01103         Node* indice = header-&gt;parent;
<a name="l01104"></a>01104         <span class="keywordflow">while</span> (indice != <span class="keyword">nullptr</span> &amp;&amp; (indice-&gt;_value-&gt;key() &lt; key || (indice-&gt;_value-&gt;key() != key &amp;&amp; indice-&gt;child[0] != <span class="keyword">nullptr</span>))) {
<a name="l01105"></a>01105             <span class="keywordflow">if</span> (indice-&gt;_value-&gt;key() &lt; key)
<a name="l01106"></a>01106                 indice = indice-&gt;child[1];
<a name="l01107"></a>01107             <span class="keywordflow">else</span>
<a name="l01108"></a>01108                 indice = indice-&gt;child[0];
<a name="l01109"></a>01109         }
<a name="l01110"></a>01110         <span class="keywordflow">if</span> (indice == <span class="keyword">nullptr</span>)
<a name="l01111"></a>01111             indice = <a class="code" href="classaed2_1_1map.html#a76023e6a56cb625513e1b5ea028bf983" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l01112"></a>01112         <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it();
<a name="l01113"></a>01113         it.n = indice;
<a name="l01114"></a>01114         <span class="keywordflow">return</span> it;
<a name="l01115"></a>01115     }
<a name="l01117"></a>01117 
<a name="l01119"></a>01119 
<a name="l01120"></a>01120 
<a name="l01121"></a>01121 
<a name="l01122"></a>01122 
<a name="l01135"></a><a class="code" href="classaed2_1_1map.html#af5320ca0a7df4d16015441d5d055a7ee">01135</a>     <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map.html#af5320ca0a7df4d16015441d5d055a7ee" title="Indica si el diccionario esta vacío.">empty</a>()<span class="keyword"> const </span>{
<a name="l01136"></a>01136         <span class="keywordflow">return</span> (count == 0);
<a name="l01137"></a>01137 
<a name="l01138"></a>01138     }
<a name="l01139"></a>01139 
<a name="l01153"></a><a class="code" href="classaed2_1_1map.html#a89f2613f926ac13293eafe65889d6021">01153</a>      <span class="keywordtype">size_t</span> <a class="code" href="classaed2_1_1map.html#a89f2613f926ac13293eafe65889d6021" title="Devuelve la cantidad de valores en el diccionario.">size</a>()<span class="keyword"> const </span>{
<a name="l01154"></a>01154         <span class="keywordflow">return</span> count;
<a name="l01155"></a>01155     }
<a name="l01157"></a>01157 
<a name="l01159"></a>01159 
<a name="l01160"></a>01160 
<a name="l01161"></a>01161 
<a name="l01162"></a>01162 
<a name="l01193"></a><a class="code" href="classaed2_1_1map.html#a6941cde9a79c27f054b5c97a587a1854">01193</a>     <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1map.html#a6941cde9a79c27f054b5c97a587a1854" title="Inserta {value} en el diccionario.">insert</a>(const_iterator hint, <span class="keyword">const</span> value_type&amp; value) {
<a name="l01194"></a>01194         <span class="keywordflow">if</span> (!(hint.n == <span class="keyword">nullptr</span> || (hint._value.first &gt; value.first &amp;&amp; 
<a name="l01195"></a>01195                 (hint--.n != <span class="keyword">nullptr</span> &amp;&amp; hint.n._value.first &lt; value.first ))))
<a name="l01196"></a>01196                 <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1map.html#a6941cde9a79c27f054b5c97a587a1854" title="Inserta {value} en el diccionario.">insert</a>(value);     
<a name="l01197"></a>01197         <span class="keywordflow">else</span>
<a name="l01198"></a>01198                 Node* nuevo = <span class="keyword">new</span> Nodo(value);
<a name="l01199"></a>01199                 Node* padre = hint.n-&gt;parent;
<a name="l01200"></a>01200                 nuevo-&gt;parent = padre;
<a name="l01201"></a>01201                 <span class="keywordflow">if</span> (padre.is_header())
<a name="l01202"></a>01202                 header-&gt;parent = nuevo;
<a name="l01203"></a>01203                 <span class="keywordflow">else</span> if (nuevo-&gt;key() &lt; padre-&gt;key())
<a name="l01204"></a>01204                     padre-&gt;child[0] = nuevo;
<a name="l01205"></a>01205                 <span class="keywordflow">else</span>
<a name="l01206"></a>01206                     padre-&gt;child[1] = nuevo;
<a name="l01207"></a>01207                 nuevo.color = Red;
<a name="l01208"></a>01208                 <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it = <a class="code" href="classaed2_1_1map.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve el significado asociado a {key}, asegurando su existencia.">find</a>(nuevo);
<a name="l01209"></a>01209                 <a class="code" href="classaed2_1_1map.html#a6941cde9a79c27f054b5c97a587a1854" title="Inserta {value} en el diccionario.">insert</a>-fixup(it, value);
<a name="l01210"></a>01210                 <span class="keywordflow">return</span> it;
<a name="l01211"></a>01211   }
<a name="l01212"></a>01212 
<a name="l01213"></a>01213 <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1map.html#a6941cde9a79c27f054b5c97a587a1854" title="Inserta {value} en el diccionario.">insert</a>-fixup(<a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it, <span class="keyword">const</span> value_type&amp; value){
<a name="l01214"></a>01214         Node* n = it.n;
<a name="l01215"></a>01215         Node* y;
<a name="l01216"></a>01216 <span class="keywordflow">while</span> (n-&gt;parent.color == red){
<a name="l01217"></a>01217         <span class="keywordflow">if</span> (n-&gt;parent == n-&gt;parent-&gt;parent-&gt;child[0]){
<a name="l01218"></a>01218                 y = n-&gt;parent-&gt;parent-&gt;child[1];
<a name="l01219"></a>01219         }
<a name="l01220"></a>01220         <span class="keywordflow">if</span> (y.color == red){
<a name="l01221"></a>01221                 n.color = black;
<a name="l01222"></a>01222                 y.color = black;
<a name="l01223"></a>01223                 n-&gt;parent-&gt;parent.color = red;
<a name="l01224"></a>01224                 n = n-&gt;parent-&gt;parent;
<a name="l01225"></a>01225         } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(n == n-&gt;parent-&gt;child[1]){
<a name="l01226"></a>01226                 n = n-&gt;parent;
<a name="l01227"></a>01227                 iterator it2(n);
<a name="l01228"></a>01228                 left-rotate(it2);
<a name="l01229"></a>01229                 n-&gt;parent.color = black;
<a name="l01230"></a>01230                 n-&gt;parent-&gt;parent.color = red;
<a name="l01231"></a>01231                 right-rotate(it2);
<a name="l01232"></a>01232                 }
<a name="l01233"></a>01233         } <span class="keywordflow">else</span> {
<a name="l01234"></a>01234                 <span class="keywordflow">if</span> (n-&gt;parent == n-&gt;parent-&gt;parent-&gt;child[1]){
<a name="l01235"></a>01235                 y = n-&gt;parent-&gt;parent-&gt;child[0];
<a name="l01236"></a>01236         }
<a name="l01237"></a>01237         <span class="keywordflow">if</span> (y.color == red){
<a name="l01238"></a>01238                 n.color = black;
<a name="l01239"></a>01239                 y.color = black;
<a name="l01240"></a>01240                 n-&gt;parent-&gt;parent.color = red;
<a name="l01241"></a>01241                 n = n-&gt;parent-&gt;parent;
<a name="l01242"></a>01242         } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(n == n-&gt;parent-&gt;child[0]){
<a name="l01243"></a>01243                 n = n-&gt;parent;
<a name="l01244"></a>01244                 iterator it2(n);
<a name="l01245"></a>01245                 right-rotate(it2);
<a name="l01246"></a>01246                 n-&gt;parent.color = black;
<a name="l01247"></a>01247                 n-&gt;parent-&gt;parent.color = red;
<a name="l01248"></a>01248                 left-rotate(it2);
<a name="l01249"></a>01249         }
<a name="l01250"></a>01250 }
<a name="l01251"></a>01251 
<a name="l01252"></a>01252         header-&gt;parent.color = black;
<a name="l01253"></a>01253         it.n = n;
<a name="l01254"></a>01254 }
<a name="l01255"></a>01255 
<a name="l01256"></a>01256 <span class="keywordtype">void</span> left_rotate(iterator it){
<a name="l01257"></a>01257         Node* n = it.n;
<a name="l01258"></a>01258         Node* y = it.n-&gt;child[1];
<a name="l01259"></a>01259         n-&gt;child[1] = y-&gt;child[0];
<a name="l01260"></a>01260         <span class="keywordflow">if</span> (y-&gt;child[0] != <span class="keyword">nullptr</span>)
<a name="l01261"></a>01261                 y-&gt;child[0]-&gt;parent = n;
<a name="l01262"></a>01262         y-&gt;parent = n-&gt;parent;
<a name="l01263"></a>01263         <span class="keywordflow">if</span>(n-&gt;parent.is_header())
<a name="l01264"></a>01264                 header-&gt;parent = y;
<a name="l01265"></a>01265         <span class="keywordflow">else</span> if (n == n-&gt;parent-&gt;child[0])
<a name="l01266"></a>01266                 n-&gt;parent-&gt;child[0] = y;
<a name="l01267"></a>01267         <span class="keywordflow">else</span>
<a name="l01268"></a>01268                 n-&gt;parent-&gt;child[1] = y;
<a name="l01269"></a>01269         y-&gt;child[0] = n;
<a name="l01270"></a>01270         n-&gt;parent = y;
<a name="l01271"></a>01271         it.n = n;
<a name="l01272"></a>01272 }
<a name="l01273"></a>01273 
<a name="l01274"></a>01274 <span class="keywordtype">void</span> right_rotate(iterator it){
<a name="l01275"></a>01275         Node* n = it.n;
<a name="l01276"></a>01276         Node* y = it.n-&gt;child[0];
<a name="l01277"></a>01277         n-&gt;child[0] = y-&gt;child[1];
<a name="l01278"></a>01278         <span class="keywordflow">if</span> (y-&gt;child[1] != <span class="keyword">nullptr</span>)
<a name="l01279"></a>01279                 y-&gt;child[1]-&gt;parent = n;
<a name="l01280"></a>01280         y-&gt;parent = n-&gt;parent;
<a name="l01281"></a>01281         <span class="keywordflow">if</span>(n-&gt;parent.is_header())
<a name="l01282"></a>01282                 header-&gt;parent = y;
<a name="l01283"></a>01283         <span class="keywordflow">else</span> if (n == n-&gt;parent-&gt;child[1])
<a name="l01284"></a>01284                 n-&gt;parent-&gt;child[1] = y;
<a name="l01285"></a>01285         <span class="keywordflow">else</span>
<a name="l01286"></a>01286                 n-&gt;parent-&gt;child[0] = y;
<a name="l01287"></a>01287         y-&gt;child[1] = n;
<a name="l01288"></a>01288         n-&gt;parent = y;
<a name="l01289"></a>01289         it.n = n;
<a name="l01290"></a>01290 }
<a name="l01291"></a>01291     
<a name="l01292"></a>01292 
<a name="l01294"></a><a class="code" href="classaed2_1_1map.html#a60aacba06b1579630b3c8e996cf248c8">01294</a>     <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1map.html#a60aacba06b1579630b3c8e996cf248c8">insert</a>(<span class="keyword">const</span> value_type&amp; value) {
<a name="l01295"></a>01295         Node* nuevo = <span class="keyword">new</span> Nodo(value);
<a name="l01296"></a>01296         <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it = <a class="code" href="classaed2_1_1map.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a {key}.">lower_bound</a>(value.first);
<a name="l01297"></a>01297         Node* padre = hint.n-&gt;parent;
<a name="l01298"></a>01298         nuevo-&gt;parent = padre;
<a name="l01299"></a>01299         <span class="keywordflow">if</span> (padre.is_header())
<a name="l01300"></a>01300             header-&gt;parent = nuevo;
<a name="l01301"></a>01301         <span class="keywordflow">else</span> if (nuevo-&gt;key() &lt; padre-&gt;key())
<a name="l01302"></a>01302             padre-&gt;child[0] = nuevo;
<a name="l01303"></a>01303         <span class="keywordflow">else</span>
<a name="l01304"></a>01304             padre-&gt;child[1] = nuevo;
<a name="l01305"></a>01305         nuevo.color = Red;
<a name="l01306"></a>01306         <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it = <a class="code" href="classaed2_1_1map.html#afd0fc1a8234888e61e0e615de7e245b8" title="Devuelve el significado asociado a {key}, asegurando su existencia.">find</a>(nuevo);
<a name="l01307"></a>01307         <a class="code" href="classaed2_1_1map.html#a6941cde9a79c27f054b5c97a587a1854" title="Inserta {value} en el diccionario.">insert</a>-fixup(it, value);
<a name="l01308"></a>01308         <span class="keywordflow">return</span> it;
<a name="l01309"></a>01309 
<a name="l01310"></a>01310     }
<a name="l01311"></a>01311 
<a name="l01341"></a><a class="code" href="classaed2_1_1map.html#a2ef6723c183916276b0afc4a4c721475">01341</a>     <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1map.html#a2ef6723c183916276b0afc4a4c721475">insert_or_assign</a>(const_iterator hint, <span class="keyword">const</span> value_type&amp; value) {
<a name="l01342"></a>01342         <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it;
<a name="l01343"></a>01343         <span class="keywordflow">if</span> (hint.n-&gt;value()-&gt;first == value.first){
<a name="l01344"></a>01344             it = hint;
<a name="l01345"></a>01345             it.n-&gt;value()-&gt;second = value-&gt;second;
<a name="l01346"></a>01346             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hint.n-&gt;value()-&gt;first &lt; value-&gt;first() || (hint--.n == <span class="keyword">nullptr</span>
<a name="l01347"></a>01347             || hint.n-&gt;value()-&gt;first &gt;= value-&gt;first)) {
<a name="l01348"></a>01348             it = <a class="code" href="classaed2_1_1map.html#a3399d36fdd5a880b494f3a5795d3f18f" title="Devuelve un iterador al primer valor con clave mayor o igual a {key}.">lower_bound</a>(hint-&gt;_value);
<a name="l01349"></a>01349         }
<a name="l01350"></a>01350         it = <a class="code" href="classaed2_1_1map.html#a6941cde9a79c27f054b5c97a587a1854" title="Inserta {value} en el diccionario.">insert</a>(hint, value);
<a name="l01351"></a>01351         <span class="keywordflow">return</span> it;
<a name="l01352"></a>01352     }
<a name="l01353"></a>01353 
<a name="l01355"></a><a class="code" href="classaed2_1_1map.html#a9128a806713bcc999ebd8a97ab77e765">01355</a>     <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1map.html#a9128a806713bcc999ebd8a97ab77e765">insert_or_assign</a>(<span class="keyword">const</span> value_type&amp; value) {
<a name="l01356"></a>01356 
<a name="l01357"></a>01357 
<a name="l01358"></a>01358         
<a name="l01359"></a>01359     }
<a name="l01360"></a>01360 
<a name="l01378"></a><a class="code" href="classaed2_1_1map.html#ad8e796bf9c9c558e5ce6b61e116253fe">01378</a>     <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1map.html#ad8e796bf9c9c558e5ce6b61e116253fe" title="Elimina el valor apuntado por {pos}.">erase</a>(const_iterator pos) {
<a name="l01379"></a>01379         Node* z = pos.n;
<a name="l01380"></a>01380         Node* y = pos.n;
<a name="l01381"></a>01381         Node* x;
<a name="l01382"></a>01382         yColorsito = y.color;
<a name="l01383"></a>01383         <span class="keywordflow">if</span> (z-&gt;child[0] == <span class="keyword">nullptr</span>){
<a name="l01384"></a>01384                         x = z-&gt;child[1];
<a name="l01385"></a>01385                         transplant(z, z-&gt;child[1]);
<a name="l01386"></a>01386         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x-&gt;child[1] == <span class="keyword">nullptr</span>) {
<a name="l01387"></a>01387                 x = z-&gt;child[0];
<a name="l01388"></a>01388                 transplant(z, z-&gt;child[0]);
<a name="l01389"></a>01389         } <span class="keywordflow">else</span> {
<a name="l01390"></a>01390                 y = sucesorInmediato(z-&gt;child[1]);
<a name="l01391"></a>01391                 yColorsito = y.color;
<a name="l01392"></a>01392                 x = y-&gt;child[1];
<a name="l01393"></a>01393                 <span class="keywordflow">if</span> (y-&gt;parent == z)
<a name="l01394"></a>01394                         x-&gt;parent = y;
<a name="l01395"></a>01395                 <span class="keywordflow">else</span> {
<a name="l01396"></a>01396                         transplant(y, y-&gt;child[1]);
<a name="l01397"></a>01397                         y-&gt;child[1] = z-&gt;child[1];
<a name="l01398"></a>01398                         y-&gt;child[1]-&gt;parent = y;
<a name="l01399"></a>01399                 }
<a name="l01400"></a>01400                 transplant(z, y);
<a name="l01401"></a>01401                 y-&gt;child[0] = z-&gt;child[0];
<a name="l01402"></a>01402                 y-&gt;child[0]-&gt;parent = y;
<a name="l01403"></a>01403                 y.color = z.color;
<a name="l01404"></a>01404 
<a name="l01405"></a>01405                 <span class="keywordflow">if</span> (yColorsito == black)
<a name="l01406"></a>01406                         <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it(x);
<a name="l01407"></a>01407                         erase_fixup(it);
<a name="l01408"></a>01408         }
<a name="l01409"></a>01409 
<a name="l01410"></a>01410 }
<a name="l01411"></a>01411 
<a name="l01412"></a>01412     <span class="keywordtype">void</span> transplant(Node* u, Node* v){
<a name="l01413"></a>01413         <span class="keywordflow">if</span> (!u-&gt;parent.is_header())
<a name="l01414"></a>01414                 header-&gt;parent = v;
<a name="l01415"></a>01415         <span class="keywordflow">else</span> if (u == u-&gt;parent-&gt;child[0])
<a name="l01416"></a>01416                 u-&gt;parent-&gt;child[0] = v;
<a name="l01417"></a>01417         <span class="keywordflow">else</span>
<a name="l01418"></a>01418                 u-&gt;parent-&gt;child[1] = v;
<a name="l01419"></a>01419         v-&gt;parent = u-&gt;parent;
<a name="l01420"></a>01420 
<a name="l01421"></a>01421     }
<a name="l01422"></a>01422 
<a name="l01423"></a>01423 
<a name="l01424"></a>01424 
<a name="l01425"></a>01425 <span class="comment">/*</span>
<a name="l01426"></a>01426 <span class="comment"></span>
<a name="l01427"></a>01427 <span class="comment">RB-D ELETE -F IXUP .T; x/</span>
<a name="l01428"></a>01428 <span class="comment">1 while x ¤ T:root and x:color == BLACK</span>
<a name="l01429"></a>01429 <span class="comment">2</span>
<a name="l01430"></a>01430 <span class="comment">if x == x:p:left</span>
<a name="l01431"></a>01431 <span class="comment">3</span>
<a name="l01432"></a>01432 <span class="comment">w D x:p:right</span>
<a name="l01433"></a>01433 <span class="comment">4</span>
<a name="l01434"></a>01434 <span class="comment">if w:color == RED</span>
<a name="l01435"></a>01435 <span class="comment">5</span>
<a name="l01436"></a>01436 <span class="comment">w:color D BLACK</span>
<a name="l01437"></a>01437 <span class="comment">6</span>
<a name="l01438"></a>01438 <span class="comment">x:p:color D RED</span>
<a name="l01439"></a>01439 <span class="comment">7</span>
<a name="l01440"></a>01440 <span class="comment">L EFT-ROTATE .T; x:p/</span>
<a name="l01441"></a>01441 <span class="comment">8</span>
<a name="l01442"></a>01442 <span class="comment">w D x:p:right</span>
<a name="l01443"></a>01443 <span class="comment">9</span>
<a name="l01444"></a>01444 <span class="comment">if w:left:color == BLACK and w:right:color == BLACK</span>
<a name="l01445"></a>01445 <span class="comment">10</span>
<a name="l01446"></a>01446 <span class="comment">w:color D RED</span>
<a name="l01447"></a>01447 <span class="comment">11</span>
<a name="l01448"></a>01448 <span class="comment">x D x:p</span>
<a name="l01449"></a>01449 <span class="comment">12</span>
<a name="l01450"></a>01450 <span class="comment">else if w:right:color == BLACK</span>
<a name="l01451"></a>01451 <span class="comment">13</span>
<a name="l01452"></a>01452 <span class="comment">w:left:color D BLACK</span>
<a name="l01453"></a>01453 <span class="comment">14</span>
<a name="l01454"></a>01454 <span class="comment">w:color D RED</span>
<a name="l01455"></a>01455 <span class="comment">15</span>
<a name="l01456"></a>01456 <span class="comment">R IGHT-ROTATE .T; w/</span>
<a name="l01457"></a>01457 <span class="comment">16</span>
<a name="l01458"></a>01458 <span class="comment">w D x:p:right</span>
<a name="l01459"></a>01459 <span class="comment">17</span>
<a name="l01460"></a>01460 <span class="comment">w:color D x:p:color</span>
<a name="l01461"></a>01461 <span class="comment">18</span>
<a name="l01462"></a>01462 <span class="comment">x:p:color D BLACK</span>
<a name="l01463"></a>01463 <span class="comment">19</span>
<a name="l01464"></a>01464 <span class="comment">w:right:color D BLACK</span>
<a name="l01465"></a>01465 <span class="comment">20</span>
<a name="l01466"></a>01466 <span class="comment">L EFT-ROTATE .T; x:p/</span>
<a name="l01467"></a>01467 <span class="comment">21</span>
<a name="l01468"></a>01468 <span class="comment">x D T:root</span>
<a name="l01469"></a>01469 <span class="comment">22</span>
<a name="l01470"></a>01470 <span class="comment">else (same as then clause with “right” and “left” exchanged)</span>
<a name="l01471"></a>01471 <span class="comment">23 x:color D BLACK</span>
<a name="l01472"></a>01472 <span class="comment"></span>
<a name="l01473"></a>01473 <span class="comment">   */</span> }
<a name="l01474"></a>01474 
<a name="l01487"></a><a class="code" href="namespaceaed2.html#af94e184e6463abb6f7f5237afd0d808a">01487</a>     <span class="keywordtype">void</span> erase(<span class="keyword">const</span> Key&amp; key) {
<a name="l01488"></a>01488         <span class="comment">//completar</span>
<a name="l01489"></a>01489     }
<a name="l01490"></a>01490 
<a name="l01505"></a><a class="code" href="namespaceaed2.html#ac055546b287d4b50772e8b4e9d188ed2">01505</a>     <span class="keywordtype">void</span> <a class="code" href="namespaceaed2.html#ac055546b287d4b50772e8b4e9d188ed2" title="Vacia el diccionario.">clear</a>() {
<a name="l01506"></a>01506         <span class="comment">//completar</span>
<a name="l01507"></a>01507     }
<a name="l01508"></a>01508 
<a name="l01532"></a><a class="code" href="namespaceaed2.html#ab24ac4be44835194ce27a61969e4a292">01532</a>     <span class="keywordtype">void</span> <a class="code" href="namespaceaed2.html#ab24ac4be44835194ce27a61969e4a292" title="Intercambia el contenido de {*this} y {other}.">swap</a>(<a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>&amp; other) {
<a name="l01533"></a>01533         <span class="keyword">using</span> <a class="code" href="namespaceaed2.html#ab24ac4be44835194ce27a61969e4a292" title="Intercambia el contenido de {*this} y {other}.">std::swap</a>;
<a name="l01534"></a>01534         <a class="code" href="namespaceaed2.html#ab24ac4be44835194ce27a61969e4a292" title="Intercambia el contenido de {*this} y {other}.">swap</a>(lt, other.lt);
<a name="l01535"></a>01535         <a class="code" href="namespaceaed2.html#ab24ac4be44835194ce27a61969e4a292" title="Intercambia el contenido de {*this} y {other}.">swap</a>(count, other.count);
<a name="l01536"></a>01536 
<a name="l01537"></a>01537         <a class="code" href="namespaceaed2.html#ab24ac4be44835194ce27a61969e4a292" title="Intercambia el contenido de {*this} y {other}.">swap</a>(header.parent, other.header.parent);
<a name="l01538"></a>01538         <a class="code" href="namespaceaed2.html#ab24ac4be44835194ce27a61969e4a292" title="Intercambia el contenido de {*this} y {other}.">swap</a>(header.child[0], other.header.child[0]);
<a name="l01539"></a>01539         <a class="code" href="namespaceaed2.html#ab24ac4be44835194ce27a61969e4a292" title="Intercambia el contenido de {*this} y {other}.">swap</a>(header.child[1], other.header.child[1]);
<a name="l01540"></a>01540         <span class="keywordflow">if</span>(root() != <span class="keyword">nullptr</span>) root()-&gt;parent = &amp;header;
<a name="l01541"></a>01541         <span class="keywordflow">if</span>(other.root() != <span class="keyword">nullptr</span>) other.root()-&gt;parent = &amp;other.header;
<a name="l01542"></a>01542 
<a name="l01543"></a>01543         <span class="comment">//nota: cuando el arbol es vacio, los child de header apuntan a header.  Notar que quedan apuntando mal despues del swap</span>
<a name="l01544"></a>01544         <span class="keywordflow">if</span>(root() == <span class="keyword">nullptr</span>) header.child[0] = header.child[1] = &amp;header;
<a name="l01545"></a>01545         <span class="keywordflow">if</span>(other.root() == <span class="keyword">nullptr</span>) other.header.child[0] = other.header.child[1] = &amp;other.header;
<a name="l01546"></a>01546     }
<a name="l01548"></a>01548 
<a name="l01550"></a>01550 
<a name="l01551"></a>01551 
<a name="l01552"></a>01552 
<a name="l01553"></a>01553 
<a name="l01568"></a><a class="code" href="namespaceaed2.html#a669d2fcf59e6ec1fe40105ba395768b6">01568</a>     <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="namespaceaed2.html#a669d2fcf59e6ec1fe40105ba395768b6" title="Devuelve un iterador al primer valor del diccionario.">begin</a>() {
<a name="l01569"></a>01569         <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it(header-&gt;child[0]);
<a name="l01570"></a>01570         <span class="keywordflow">return</span> it;
<a name="l01571"></a>01571     }
<a name="l01572"></a>01572 
<a name="l01574"></a>01574     const_iterator <a class="code" href="namespaceaed2.html#a669d2fcf59e6ec1fe40105ba395768b6" title="Devuelve un iterador al primer valor del diccionario.">begin</a>()<span class="keyword"> const </span>{
<a name="l01575"></a>01575         const_iterator it(header-&gt;child[0]);
<a name="l01576"></a>01576         <span class="keywordflow">return</span> it;
<a name="l01577"></a>01577     }
<a name="l01578"></a>01578 
<a name="l01580"></a><a class="code" href="namespaceaed2.html#ac1c803de21070eb6f9b7fa3e2035bc22">01580</a>     const_iterator <a class="code" href="namespaceaed2.html#ac1c803de21070eb6f9b7fa3e2035bc22">cbegin</a>() {
<a name="l01581"></a>01581         const_iterator it(header-&gt;child[0]);
<a name="l01582"></a>01582         <span class="keywordflow">return</span> it;
<a name="l01583"></a>01583     }
<a name="l01584"></a>01584 
<a name="l01599"></a><a class="code" href="namespaceaed2.html#a3a9c18730be5c97fa5eafebd3aef61ed">01599</a>     <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="namespaceaed2.html#a3a9c18730be5c97fa5eafebd3aef61ed" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>() {
<a name="l01600"></a>01600         <a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it();
<a name="l01601"></a>01601         <span class="keywordflow">return</span> it;
<a name="l01602"></a>01602     }
<a name="l01603"></a>01603 
<a name="l01605"></a>01605     const_iterator <a class="code" href="namespaceaed2.html#a3a9c18730be5c97fa5eafebd3aef61ed" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>()<span class="keyword"> const </span>{
<a name="l01606"></a>01606         const_iterator it();
<a name="l01607"></a>01607         <span class="keywordflow">return</span> it;
<a name="l01608"></a>01608     }
<a name="l01609"></a>01609 
<a name="l01611"></a><a class="code" href="namespaceaed2.html#a82f5c60a3ebe119105e244fff3c90e20">01611</a>     const_iterator <a class="code" href="namespaceaed2.html#a82f5c60a3ebe119105e244fff3c90e20">cend</a>() {
<a name="l01612"></a>01612         const_iterator it();
<a name="l01613"></a>01613         <span class="keywordflow">return</span> it;
<a name="l01614"></a>01614     }
<a name="l01615"></a>01615 
<a name="l01630"></a><a class="code" href="namespaceaed2.html#a19713cdc443ce739325238c50f233717">01630</a>     reverse_iterator <a class="code" href="namespaceaed2.html#a19713cdc443ce739325238c50f233717" title="Devuelve un iterador al primer valor del diccionario, en un recorrido al revés.">rbegin</a>() {
<a name="l01631"></a>01631         reverse_iterator it = reverse_iterator(header-&gt;child[1]);
<a name="l01632"></a>01632         <span class="keywordflow">return</span> it;
<a name="l01633"></a>01633     }
<a name="l01634"></a>01634 
<a name="l01636"></a>01636     const_reverse_iterator <a class="code" href="namespaceaed2.html#a19713cdc443ce739325238c50f233717" title="Devuelve un iterador al primer valor del diccionario, en un recorrido al revés.">rbegin</a>()<span class="keyword"> const </span>{
<a name="l01637"></a>01637         const_reverse_iterator it = reverse_iterator(header-&gt;child[1]);
<a name="l01638"></a>01638         <span class="keywordflow">return</span> it;
<a name="l01639"></a>01639     }
<a name="l01640"></a>01640 
<a name="l01642"></a><a class="code" href="namespaceaed2.html#a38b3285f169e2a78a3b561b5fee6027f">01642</a>     const_reverse_iterator <a class="code" href="namespaceaed2.html#a38b3285f169e2a78a3b561b5fee6027f">crbegin</a>() {
<a name="l01643"></a>01643         const_reverse_iterator it = reverse_iterator(header-&gt;child[1]);
<a name="l01644"></a>01644         <span class="keywordflow">return</span> it;
<a name="l01645"></a>01645         }
<a name="l01646"></a>01646 
<a name="l01661"></a><a class="code" href="namespaceaed2.html#a161376ee8d17855224ab722ff9e0dd9a">01661</a>     reverse_iterator <a class="code" href="namespaceaed2.html#a161376ee8d17855224ab722ff9e0dd9a" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario, en un recorrido al re...">rend</a>() {
<a name="l01662"></a>01662         reverse_iterator it = reverse_iterator();
<a name="l01663"></a>01663         <span class="keywordflow">return</span> it;
<a name="l01664"></a>01664     }
<a name="l01665"></a>01665 
<a name="l01667"></a>01667     const_reverse_iterator <a class="code" href="namespaceaed2.html#a161376ee8d17855224ab722ff9e0dd9a" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario, en un recorrido al re...">rend</a>()<span class="keyword"> const </span>{
<a name="l01668"></a>01668         const_reverse_iterator it = reverse_iterator();
<a name="l01669"></a>01669         <span class="keywordflow">return</span> it;
<a name="l01670"></a>01670     }
<a name="l01671"></a>01671 
<a name="l01673"></a><a class="code" href="namespaceaed2.html#a3f4649ed2b93f1fdb07419fa1de0bf7f">01673</a>     const_reverse_iterator <a class="code" href="namespaceaed2.html#a3f4649ed2b93f1fdb07419fa1de0bf7f">crend</a>() {
<a name="l01674"></a>01674         const_reverse_iterator it = reverse_iterator();
<a name="l01675"></a>01675         <span class="keywordflow">return</span> it;
<a name="l01676"></a>01676     }
<a name="l01678"></a>01678 
<a name="l01708"></a><a class="code" href="classaed2_1_1iterator.html">01708</a>     <span class="keyword">class </span><a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> {
<a name="l01709"></a>01709         <span class="keyword">using</span> Node = <span class="keyword">typename</span> map::Node;
<a name="l01710"></a>01710         <span class="keyword">using</span> InnerNode = <span class="keyword">typename</span> map::InnerNode;
<a name="l01711"></a>01711 &gt;&gt;&gt;&gt;&gt;&gt;&gt; 1eb30f6ffec00cc7e7a9b8fcb66ed0a8c658ba0f
<a name="l01712"></a>01712     <span class="keyword">public</span>:
<a name="l01713"></a>01713         <span class="comment">//forward declarations</span>
<a name="l01714"></a>01714         <span class="keyword">class </span><a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a>;
<a name="l01715"></a>01715 
<a name="l01716"></a>01716         <span class="keyword">class </span><a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a>;
<a name="l01717"></a>01717 
<a name="l01721"></a>01721         <span class="keyword">using</span> key_type = Key;
<a name="l01725"></a>01725         <span class="keyword">using</span> mapped_type = Meaning;
<a name="l01729"></a>01729         <span class="keyword">using</span> value_type = std::pair&lt;const Key, Meaning&gt;;
<a name="l01733"></a>01733         <span class="keyword">using</span> key_compare = Compare;
<a name="l01737"></a>01737         <span class="keyword">using</span> reference = value_type &amp;;
<a name="l01741"></a>01741         <span class="keyword">using</span> const_reference = <span class="keyword">const</span> value_type &amp;;
<a name="l01745"></a>01745         <span class="keyword">using</span> pointer = value_type *;
<a name="l01749"></a>01749         <span class="keyword">using</span> const_pointer = <span class="keyword">const</span> value_type *;
<a name="l01753"></a>01753         <span class="keyword">using</span> size_type = std::size_t;
<a name="l01757"></a>01757         <span class="keyword">using</span> difference_type = std::ptrdiff_t;
<a name="l01758"></a>01758 
<a name="l01769"></a>01769         <span class="keyword">using</span> reverse_iterator = std::reverse_iterator&lt;iterator&gt;;
<a name="l01780"></a>01780         <span class="keyword">using</span> const_reverse_iterator = std::reverse_iterator&lt;const_iterator&gt;;
<a name="l01781"></a>01781 
<a name="l01783"></a>01783 
<a name="l01784"></a>01784 
<a name="l01785"></a>01785 
<a name="l01786"></a>01786 
<a name="l01804"></a><a class="code" href="classaed2_1_1iterator.html#ab55f7bc4639e905d66935b56995a5b1f">01804</a>         <span class="keyword">explicit</span> <a class="code" href="classaed2_1_1iterator.html#ab55f7bc4639e905d66935b56995a5b1f" title="Crea un diccionario vacio.">map</a>(Compare c = Compare()) {
<a name="l01805"></a>01805             this-&gt;header = Node();
<a name="l01806"></a>01806             header-&gt;parent = <span class="keyword">nullptr</span>;
<a name="l01807"></a>01807             header-&gt;child[0] = <span class="keyword">nullptr</span>;
<a name="l01808"></a>01808             header-&gt;child[1] = <span class="keyword">nullptr</span>;
<a name="l01809"></a>01809             <span class="keyword">explicit</span> <a class="code" href="classaed2_1_1iterator.html#ab55f7bc4639e905d66935b56995a5b1f" title="Crea un diccionario vacio.">map</a>(Comparec c = Compare()): lt(c);
<a name="l01810"></a>01810             }
<a name="l01811"></a>01811 
<a name="l01812"></a>01812 
<a name="l01835"></a><a class="code" href="classaed2_1_1iterator.html#aee42bcaf809b71168f4266e1d05971e2">01835</a>             <a class="code" href="classaed2_1_1iterator.html#aee42bcaf809b71168f4266e1d05971e2" title="Constructor por copia.">map</a>(<span class="keyword">const</span> <a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a> &amp;other) {
<a name="l01836"></a>01836                 <span class="comment">//completar</span>
<a name="l01837"></a>01837             }
<a name="l01838"></a>01838 
<a name="l01882"></a><a class="code" href="classaed2_1_1iterator.html#aa44ca788a300603c5fae2d192e11f249">01882</a>             <span class="keyword">template</span>&lt;<span class="keyword">class</span> iterator&gt; <a class="code" href="classaed2_1_1iterator.html#aa44ca788a300603c5fae2d192e11f249" title="Crea un diccionario con los elementos del rango [{first}, {last})">map</a>(<a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> first, <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> last, Compare c = Compare()) : lt(c) {
<a name="l01883"></a>01883                 <span class="keyword">auto</span> it = <a class="code" href="classaed2_1_1iterator.html#a67caf9468be999e9be96b7add5d79946" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l01884"></a>01884                 <span class="keywordflow">while</span> (first != last) {
<a name="l01885"></a>01885                     <a class="code" href="classaed2_1_1iterator.html#ab9446668ad5619115b6c4a10eac83d68" title="Inserta {value} en el diccionario.">insert</a>(*first, it);
<a name="l01886"></a>01886                     ++first;
<a name="l01887"></a>01887                 }
<a name="l01888"></a>01888             }
<a name="l01889"></a>01889 
<a name="l01911"></a><a class="code" href="classaed2_1_1iterator.html#a7cafd02350b04f7546fa29c17168c18b">01911</a>             <a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a> &amp;<a class="code" href="classaed2_1_1iterator.html#a7cafd02350b04f7546fa29c17168c18b" title="Operador de asignación.">operator=</a>(<a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a> other) {
<a name="l01912"></a>01912                 <span class="comment">//completar</span>
<a name="l01913"></a>01913             }
<a name="l01914"></a>01914 
<a name="l01942"></a><a class="code" href="classaed2_1_1iterator.html#a769d0ae1a1c7ed66acdd321e44fcd0e1">01942</a>             <a class="code" href="classaed2_1_1iterator.html#a769d0ae1a1c7ed66acdd321e44fcd0e1" title="Destructor.">~map</a>()
<a name="l01943"></a>01943             {
<a name="l01944"></a>01944                 <span class="comment">//compl</span>
<a name="l01945"></a>01945             }
<a name="l01947"></a>01947 
<a name="l01949"></a>01949 
<a name="l01950"></a>01950 
<a name="l01951"></a>01951 
<a name="l01952"></a>01952 
<a name="l01977"></a><a class="code" href="classaed2_1_1iterator.html#a8cca919f59850908ef421db454db835a">01977</a>             <span class="keyword">const</span> Meaning &amp;<a class="code" href="classaed2_1_1iterator.html#a8cca919f59850908ef421db454db835a" title="Devuelve el significado asociado a {key}.">at</a>(<span class="keyword">const</span> Key &amp;key)<span class="keyword"> const </span>{
<a name="l01978"></a>01978                 Node *indice = header-&gt;parent;
<a name="l01979"></a>01979                 <span class="comment">//pepito</span>
<a name="l01980"></a>01980 
<a name="l01981"></a>01981                 <span class="keywordflow">return</span> indice-&gt;_value.second;
<a name="l01982"></a>01982 
<a name="l01983"></a>01983             }
<a name="l01984"></a>01984 
<a name="l01986"></a><a class="code" href="classaed2_1_1iterator.html#ac0459c685868fba041b9be2cde974119">01986</a>             Meaning &amp;<a class="code" href="classaed2_1_1iterator.html#ac0459c685868fba041b9be2cde974119">at</a>(<span class="keyword">const</span> Key &amp;key) {
<a name="l01987"></a>01987                 <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1iterator.html#a3d87256cbfc935a932677092ec57f49a" title="Devuelve un iterador a la posicion del valor con clave {key}.">find</a>(key).n.second;
<a name="l01988"></a>01988             }
<a name="l01989"></a>01989 
<a name="l02030"></a><a class="code" href="classaed2_1_1iterator.html#af74d214f3278d8cd6b3a5a721e173fa3">02030</a>             Meaning &amp;<a class="code" href="classaed2_1_1iterator.html#af74d214f3278d8cd6b3a5a721e173fa3" title="Devuelve el significado asociado a {key}, asegurando su existencia.">operator[]</a>(<span class="keyword">const</span> Key &amp;key) {
<a name="l02031"></a>02031 
<a name="l02032"></a>02032                 <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it = <a class="code" href="classaed2_1_1iterator.html#afbdd3bc5a5dc3565f3c743d6d5e82d73" title="Devuelve un iterador al primer valor con clave mayor o igual a {key}.">lower_bound</a>(key);
<a name="l02033"></a>02033                 <span class="keywordflow">if</span> (it.n-&gt;_value.key() == key)
<a name="l02034"></a>02034                     <span class="keywordflow">return</span> _value-&gt;second;
<a name="l02035"></a>02035                 <span class="keywordflow">else</span>
<a name="l02036"></a>02036 
<a name="l02037"></a>02037                     <a class="code" href="classaed2_1_1iterator.html#ab9446668ad5619115b6c4a10eac83d68" title="Inserta {value} en el diccionario.">insert</a>(it, value_type(key, Meaning()));
<a name="l02038"></a>02038 
<a name="l02039"></a>02039                 <span class="keywordflow">return</span> <a class="code" href="classaed2_1_1iterator.html#a8cca919f59850908ef421db454db835a" title="Devuelve el significado asociado a {key}.">at</a>(key);
<a name="l02040"></a>02040 
<a name="l02041"></a>02041             }
<a name="l02042"></a>02042 
<a name="l02072"></a><a class="code" href="classaed2_1_1iterator.html#a3d87256cbfc935a932677092ec57f49a">02072</a>             <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1iterator.html#a3d87256cbfc935a932677092ec57f49a" title="Devuelve un iterador a la posicion del valor con clave {key}.">find</a>(<span class="keyword">const</span> Key &amp;key) {
<a name="l02073"></a>02073                 Node *indice = header-&gt;parent;
<a name="l02074"></a>02074                 <span class="keywordflow">while</span> (indice-&gt;_value-&gt;key() != key) {
<a name="l02075"></a>02075                     <span class="keywordflow">if</span> (indice-&gt;_value-&gt;key() &lt; key)
<a name="l02076"></a>02076                         indice = indice-&gt;child[0];
<a name="l02077"></a>02077                     <span class="keywordflow">else</span>
<a name="l02078"></a>02078                         indice = indice-&gt;child[1];
<a name="l02079"></a>02079                 }
<a name="l02080"></a>02080                 Iterator it();
<a name="l02081"></a>02081                 it.node = indice;
<a name="l02082"></a>02082                 <span class="keywordflow">return</span> it;
<a name="l02083"></a>02083 
<a name="l02084"></a>02084             }
<a name="l02085"></a>02085 
<a name="l02087"></a><a class="code" href="classaed2_1_1iterator.html#aebe4bb3359d2223a83a0afe5f92e0c84">02087</a>             <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> <a class="code" href="classaed2_1_1iterator.html#aebe4bb3359d2223a83a0afe5f92e0c84">find</a>(<span class="keyword">const</span> Key &amp;key)<span class="keyword"> const </span>{
<a name="l02088"></a>02088                 Node *indice = header-&gt;parent;
<a name="l02089"></a>02089                 <span class="keywordflow">while</span> (indice-&gt;_value-&gt;key() != key) {
<a name="l02090"></a>02090                     <span class="keywordflow">if</span> (indice-&gt;_value-&gt;key() &lt; key)
<a name="l02091"></a>02091                         indice = indice-&gt;child[0];
<a name="l02092"></a>02092                     <span class="keywordflow">else</span>
<a name="l02093"></a>02093                         indice = indice-&gt;child[1];
<a name="l02094"></a>02094                 }
<a name="l02095"></a>02095                 Iterator it();
<a name="l02096"></a>02096                 it.node = indice;
<a name="l02097"></a>02097                 <span class="keywordflow">return</span> it;
<a name="l02098"></a>02098             }
<a name="l02099"></a>02099 
<a name="l02123"></a><a class="code" href="classaed2_1_1iterator.html#afbdd3bc5a5dc3565f3c743d6d5e82d73">02123</a>             <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> <a class="code" href="classaed2_1_1iterator.html#afbdd3bc5a5dc3565f3c743d6d5e82d73" title="Devuelve un iterador al primer valor con clave mayor o igual a {key}.">lower_bound</a>(<span class="keyword">const</span> Key &amp;key)<span class="keyword"> const </span>{
<a name="l02124"></a>02124                 Node *indice = header-&gt;parent;
<a name="l02125"></a>02125                 <span class="keywordflow">while</span> (indice != <span class="keyword">nullptr</span> &amp;&amp; (indice-&gt;_value-&gt;key() &lt; key || (indice-&gt;_value-&gt;key() != key &amp;&amp; indice-&gt;child[0] != <span class="keyword">nullptr</span>))) {
<a name="l02126"></a>02126                     <span class="keywordflow">if</span> (indice-&gt;_value-&gt;key() &lt; key)
<a name="l02127"></a>02127                         indice = indice-&gt;child[1];
<a name="l02128"></a>02128                     <span class="keywordflow">else</span>
<a name="l02129"></a>02129                         indice = indice-&gt;child[0];
<a name="l02130"></a>02130                 }
<a name="l02131"></a>02131                 <span class="keywordflow">if</span> (indice == <span class="keyword">nullptr</span>)
<a name="l02132"></a>02132                     indice = <a class="code" href="classaed2_1_1iterator.html#a67caf9468be999e9be96b7add5d79946" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l02133"></a>02133                 <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> it();
<a name="l02134"></a>02134                 it.n = indice;
<a name="l02135"></a>02135                 <span class="keywordflow">return</span> it;
<a name="l02136"></a>02136             }
<a name="l02137"></a>02137 
<a name="l02139"></a><a class="code" href="classaed2_1_1iterator.html#ac48bbb54fea69c1fb4c093eecda02c5a">02139</a>             <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1iterator.html#ac48bbb54fea69c1fb4c093eecda02c5a">lower_bound</a>(<span class="keyword">const</span> Key &amp;key) {
<a name="l02140"></a>02140                 Node *indice = header-&gt;parent;
<a name="l02141"></a>02141                 <span class="keywordflow">while</span> (indice != <span class="keyword">nullptr</span> &amp;&amp;
<a name="l02142"></a>02142                        (indice-&gt;_value-&gt;key() &lt; key || (indice-&gt;_value-&gt;key() != key &amp;&amp; indice-&gt;child[0] != <span class="keyword">nullptr</span>))) {
<a name="l02143"></a>02143                     <span class="keywordflow">if</span> (indice-&gt;_value-&gt;key() &lt; key)
<a name="l02144"></a>02144                         indice = indice-&gt;child[1];
<a name="l02145"></a>02145                     <span class="keywordflow">else</span>
<a name="l02146"></a>02146                         indice = indice-&gt;child[0];
<a name="l02147"></a>02147                 }
<a name="l02148"></a>02148                 <span class="keywordflow">if</span> (indice == <span class="keyword">nullptr</span>)
<a name="l02149"></a>02149                     indice = <a class="code" href="classaed2_1_1iterator.html#a67caf9468be999e9be96b7add5d79946" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>();
<a name="l02150"></a>02150                 <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it();
<a name="l02151"></a>02151                 it.n = indice;
<a name="l02152"></a>02152                 <span class="keywordflow">return</span> it;
<a name="l02153"></a>02153             }
<a name="l02155"></a>02155 
<a name="l02157"></a>02157 
<a name="l02158"></a>02158 
<a name="l02159"></a>02159 
<a name="l02160"></a>02160 
<a name="l02173"></a><a class="code" href="classaed2_1_1iterator.html#a2ce99485deecad0038a82bb98167c3a9">02173</a>             <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1iterator.html#a2ce99485deecad0038a82bb98167c3a9" title="Indica si el diccionario esta vacío.">empty</a>()<span class="keyword"> const </span>{
<a name="l02174"></a>02174                 <span class="keywordflow">return</span> (count == 0);
<a name="l02175"></a>02175 
<a name="l02176"></a>02176             }
<a name="l02177"></a>02177 
<a name="l02191"></a><a class="code" href="classaed2_1_1iterator.html#a75fda8b0f9b937433d0872573dc6c27f">02191</a>             <span class="keywordtype">size_t</span> <a class="code" href="classaed2_1_1iterator.html#a75fda8b0f9b937433d0872573dc6c27f" title="Devuelve la cantidad de valores en el diccionario.">size</a>()<span class="keyword"> const </span>{
<a name="l02192"></a>02192                 <span class="keywordflow">return</span> count;
<a name="l02193"></a>02193             }
<a name="l02195"></a>02195 
<a name="l02197"></a>02197 
<a name="l02198"></a>02198 
<a name="l02199"></a>02199 
<a name="l02200"></a>02200 
<a name="l02231"></a><a class="code" href="classaed2_1_1iterator.html#ab9446668ad5619115b6c4a10eac83d68">02231</a>             <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1iterator.html#ab9446668ad5619115b6c4a10eac83d68" title="Inserta {value} en el diccionario.">insert</a>(<a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> hint, <span class="keyword">const</span> value_type &amp;value) {
<a name="l02232"></a>02232                 <span class="comment">//falta primera parte</span>
<a name="l02233"></a>02233                 iterador it = <a class="code" href="classaed2_1_1iterator.html#a3d87256cbfc935a932677092ec57f49a" title="Devuelve un iterador a la posicion del valor con clave {key}.">find</a>(value);
<a name="l02234"></a>02234                 <span class="keywordflow">if</span> (it.n == <span class="keyword">nullptr</span>) {
<a name="l02235"></a>02235                     Node *nuevo = <span class="keyword">new</span> Node(it.n.parent, value);
<a name="l02236"></a>02236                     Node padre = header;
<a name="l02237"></a>02237                     Node *n = header.parent;
<a name="l02238"></a>02238                     <span class="keywordflow">while</span> (n != <span class="keyword">nullptr</span>) {
<a name="l02239"></a>02239                         padre = n;
<a name="l02240"></a>02240                         <span class="keywordflow">if</span> (value.key() &lt; it.n-&gt;_value.key())
<a name="l02241"></a>02241                             n = n-&gt;child[0];
<a name="l02242"></a>02242                         <span class="keywordflow">else</span>
<a name="l02243"></a>02243                             n = n-&gt;child[1];
<a name="l02244"></a>02244                     }
<a name="l02245"></a>02245                     nuevo-&gt;parent = padre;
<a name="l02246"></a>02246                     <span class="keywordflow">if</span> (padre-&gt;is_header())
<a name="l02247"></a>02247                         header-&gt;parent = nuevo;
<a name="l02248"></a>02248                     <span class="keywordflow">else</span> if (nuevo-&gt;key() &lt; padre-&gt;key())
<a name="l02249"></a>02249                         padre-&gt;child[0] = nuevo;
<a name="l02250"></a>02250                     <span class="keywordflow">else</span>
<a name="l02251"></a>02251                         padre-&gt;child[1] = nuevo;
<a name="l02252"></a>02252                     nuevo-&gt;color = Red;
<a name="l02253"></a>02253                     <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it = <a class="code" href="classaed2_1_1iterator.html#a3d87256cbfc935a932677092ec57f49a" title="Devuelve un iterador a la posicion del valor con clave {key}.">find</a>(nuevo);
<a name="l02254"></a>02254                     insert_fixup(it, value);
<a name="l02255"></a>02255                 }
<a name="l02256"></a>02256                 <span class="keywordflow">return</span> it;
<a name="l02257"></a>02257             }
<a name="l02258"></a>02258 
<a name="l02259"></a>02259             <span class="keywordtype">void</span> insert_fixup(<a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it, <span class="keyword">const</span> value_type &amp;value){
<a name="l02260"></a>02260                 Node *n = it.n;
<a name="l02261"></a>02261                 Node *y;
<a name="l02262"></a>02262                 <span class="keywordflow">while</span> (n-&gt;parent.color == red) {
<a name="l02263"></a>02263                     <span class="keywordflow">if</span> (n-&gt;parent == n-&gt;parent-&gt;parent-&gt;child[0]) {
<a name="l02264"></a>02264                         y = n-&gt;parent-&gt;parent-&gt;child[1];
<a name="l02265"></a>02265                     }
<a name="l02266"></a>02266                     <span class="keywordflow">if</span> (y.color == red) {
<a name="l02267"></a>02267                         n.color = black;
<a name="l02268"></a>02268                         y.color = black;
<a name="l02269"></a>02269                         n-&gt;parent-&gt;parent.color = red;
<a name="l02270"></a>02270                         n = n-&gt;parent-&gt;parent;
<a name="l02271"></a>02271                     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n == n-&gt;parent-&gt;child[1]) {
<a name="l02272"></a>02272                         n = n-&gt;parent;
<a name="l02273"></a>02273                         iterator it2(n);
<a name="l02274"></a>02274                         left-rotate(it2);
<a name="l02275"></a>02275                         n-&gt;parent.color = black;
<a name="l02276"></a>02276                         n-&gt;parent-&gt;parent.color = red;
<a name="l02277"></a>02277                         right-rotate(it2);
<a name="l02278"></a>02278                     }
<a name="l02279"></a>02279                 } <span class="keywordflow">else</span> {
<a name="l02280"></a>02280                     <span class="keywordflow">if</span> (n-&gt;parent == n-&gt;parent-&gt;parent-&gt;child[1]) {
<a name="l02281"></a>02281                         y = n-&gt;parent-&gt;parent-&gt;child[0];
<a name="l02282"></a>02282                     }
<a name="l02283"></a>02283                     <span class="keywordflow">if</span> (y.color == red) {
<a name="l02284"></a>02284                         n.color = black;
<a name="l02285"></a>02285                         y.color = black;
<a name="l02286"></a>02286                         n-&gt;parent-&gt;parent.color = red;
<a name="l02287"></a>02287                         n = n-&gt;parent-&gt;parent;
<a name="l02288"></a>02288                     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n == n-&gt;parent-&gt;child[0]) {
<a name="l02289"></a>02289                         n = n-&gt;parent;
<a name="l02290"></a>02290                         iterator it2(n);
<a name="l02291"></a>02291                         right-rotate(it2);
<a name="l02292"></a>02292                         n-&gt;parent.color = black;
<a name="l02293"></a>02293                         n-&gt;parent-&gt;parent.color = red;
<a name="l02294"></a>02294                         left-rotate(it2);
<a name="l02295"></a>02295                     }
<a name="l02296"></a>02296                 }
<a name="l02297"></a>02297 
<a name="l02298"></a>02298                 header-&gt;parent.color = black;
<a name="l02299"></a>02299             };
<a name="l02300"></a>02300 
<a name="l02301"></a>02301             <span class="keywordtype">void</span> left-rotate(iterator it){
<a name="l02302"></a>02302                 Node *n = it.n;
<a name="l02303"></a>02303                 Node *y = it.n-&gt;child[1];
<a name="l02304"></a>02304                 n-&gt;child[1] = y-&gt;child[0];
<a name="l02305"></a>02305                 <span class="keywordflow">if</span> (y-&gt;child[0] != <span class="keyword">nullptr</span>)
<a name="l02306"></a>02306                     y-&gt;child[0]-&gt;parent = n;
<a name="l02307"></a>02307                 y-&gt;parent = n-&gt;parent;
<a name="l02308"></a>02308                 <span class="keywordflow">if</span> (n-&gt;parent.is_header())
<a name="l02309"></a>02309                     header-&gt;parent = y;
<a name="l02310"></a>02310                 <span class="keywordflow">else</span> if (n == n-&gt;parent-&gt;child[0])
<a name="l02311"></a>02311                     n-&gt;parent-&gt;child[0] = y;
<a name="l02312"></a>02312                 <span class="keywordflow">else</span>
<a name="l02313"></a>02313                     n-&gt;parent-&gt;child[1] = y;
<a name="l02314"></a>02314                 y-&gt;child[0] = n;
<a name="l02315"></a>02315                 n-&gt;parent = y;
<a name="l02316"></a>02316             }
<a name="l02317"></a>02317 
<a name="l02318"></a>02318             <span class="keywordtype">void</span> right-rotate(iterator it){
<a name="l02319"></a>02319                 Node *n = it.n;
<a name="l02320"></a>02320                 Node *y = it.n-&gt;child[0];
<a name="l02321"></a>02321                 n-&gt;child[0] = y-&gt;child[1];
<a name="l02322"></a>02322                 <span class="keywordflow">if</span> (y-&gt;child[1] != <span class="keyword">nullptr</span>)
<a name="l02323"></a>02323                     y-&gt;child[1]-&gt;parent = n;
<a name="l02324"></a>02324                 y-&gt;parent = n-&gt;parent;
<a name="l02325"></a>02325                 <span class="keywordflow">if</span> (n-&gt;parent.is_header())
<a name="l02326"></a>02326                     header-&gt;parent = y;
<a name="l02327"></a>02327                 <span class="keywordflow">else</span> if (n == n-&gt;parent-&gt;child[1])
<a name="l02328"></a>02328                     n-&gt;parent-&gt;child[1] = y;
<a name="l02329"></a>02329                 <span class="keywordflow">else</span>
<a name="l02330"></a>02330                     n-&gt;parent-&gt;child[0] = y;
<a name="l02331"></a>02331                 y-&gt;child[1] = n;
<a name="l02332"></a>02332                 n-&gt;parent = y;
<a name="l02333"></a>02333             }
<a name="l02334"></a>02334 
<a name="l02335"></a>02335 
<a name="l02337"></a><a class="code" href="classaed2_1_1iterator.html#aa1870e8bfa4f45c82fa1ee076846922b">02337</a>             <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1iterator.html#aa1870e8bfa4f45c82fa1ee076846922b">insert</a>(<span class="keyword">const</span> value_type &amp;value) {
<a name="l02338"></a>02338                 <span class="comment">//completar</span>
<a name="l02339"></a>02339             }
<a name="l02340"></a>02340 
<a name="l02370"></a><a class="code" href="classaed2_1_1iterator.html#aab34e7001b3ee3ce79da8ea24d7e6351">02370</a>             <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1iterator.html#aab34e7001b3ee3ce79da8ea24d7e6351">insert_or_assign</a>(<a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> hint, <span class="keyword">const</span> value_type &amp;value) {
<a name="l02371"></a>02371                 <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it;
<a name="l02372"></a>02372                 <span class="keywordflow">if</span> (hint.n-&gt;value()-&gt;first == value.first) {
<a name="l02373"></a>02373                     it = hint;
<a name="l02374"></a>02374                     it.n-&gt;value()-&gt;second = value-&gt;second;
<a name="l02375"></a>02375                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hint.n-&gt;value()-&gt;first &lt; value-&gt;first() || (hint--.n == <span class="keyword">nullptr</span>
<a name="l02376"></a>02376                                                                        || hint.n-&gt;value()-&gt;first &gt;= value-&gt;first)) {
<a name="l02377"></a>02377                     it = <a class="code" href="classaed2_1_1iterator.html#afbdd3bc5a5dc3565f3c743d6d5e82d73" title="Devuelve un iterador al primer valor con clave mayor o igual a {key}.">lower_bound</a>(hint-&gt;_value);
<a name="l02378"></a>02378                 }
<a name="l02379"></a>02379                 it = <a class="code" href="classaed2_1_1iterator.html#ab9446668ad5619115b6c4a10eac83d68" title="Inserta {value} en el diccionario.">insert</a>(hint, value);
<a name="l02380"></a>02380                 <span class="keywordflow">return</span> it;
<a name="l02381"></a>02381             }
<a name="l02382"></a>02382 
<a name="l02384"></a><a class="code" href="classaed2_1_1iterator.html#af131c4b0d89978372a0c8ce38bf8f33e">02384</a>             <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1iterator.html#af131c4b0d89978372a0c8ce38bf8f33e">insert_or_assign</a>(<span class="keyword">const</span> value_type &amp;value) {
<a name="l02385"></a>02385                 <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it;
<a name="l02386"></a>02386                 it = <a class="code" href="classaed2_1_1iterator.html#afbdd3bc5a5dc3565f3c743d6d5e82d73" title="Devuelve un iterador al primer valor con clave mayor o igual a {key}.">lower_bound</a>(value-&gt;first);
<a name="l02387"></a>02387                 <span class="keywordflow">if</span> (value-&gt;first == it.n-&gt;_value-&gt;fisrt) {
<a name="l02388"></a>02388                     it-&gt;_value = value;
<a name="l02389"></a>02389                 } <span class="keywordflow">else</span> {
<a name="l02390"></a>02390                     <a class="code" href="classaed2_1_1iterator.html#ab9446668ad5619115b6c4a10eac83d68" title="Inserta {value} en el diccionario.">insert</a>(it, value);
<a name="l02391"></a>02391                 }
<a name="l02392"></a>02392                 <span class="keywordflow">return</span> it;
<a name="l02393"></a>02393             }
<a name="l02394"></a>02394 
<a name="l02412"></a><a class="code" href="classaed2_1_1iterator.html#adf371aaec9e68bd4a4d5a889d0b6b679">02412</a>             <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1iterator.html#adf371aaec9e68bd4a4d5a889d0b6b679" title="Elimina el valor apuntado por {pos}.">erase</a>(<a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> pos) {
<a name="l02413"></a>02413 
<a name="l02414"></a>02414                 <span class="comment">/*</span>
<a name="l02415"></a>02415 <span class="comment">                RB-T RANSPLANT .T; u; /</span>
<a name="l02416"></a>02416 <span class="comment">        1 if u:p == T:nil</span>
<a name="l02417"></a>02417 <span class="comment">        2</span>
<a name="l02418"></a>02418 <span class="comment">        T:root D</span>
<a name="l02419"></a>02419 <span class="comment">        3 elseif u == u:p:left</span>
<a name="l02420"></a>02420 <span class="comment">        4</span>
<a name="l02421"></a>02421 <span class="comment">        u:p:left D</span>
<a name="l02422"></a>02422 <span class="comment">        5 else u:p:right D</span>
<a name="l02423"></a>02423 <span class="comment">        6</span>
<a name="l02424"></a>02424 <span class="comment">        :p D u:p</span>
<a name="l02425"></a>02425 <span class="comment"></span>
<a name="l02426"></a>02426 <span class="comment"></span>
<a name="l02427"></a>02427 <span class="comment">        T REE -D ELETE .T;  ́/</span>
<a name="l02428"></a>02428 <span class="comment">        1 if  ́:left == NIL</span>
<a name="l02429"></a>02429 <span class="comment">        2</span>
<a name="l02430"></a>02430 <span class="comment">        T RANSPLANT .T;  ́;  ́:right/</span>
<a name="l02431"></a>02431 <span class="comment">        3 elseif  ́:right == NIL</span>
<a name="l02432"></a>02432 <span class="comment">        4</span>
<a name="l02433"></a>02433 <span class="comment">        T RANSPLANT .T;  ́;  ́:left/</span>
<a name="l02434"></a>02434 <span class="comment">        5 else y D T REE -M INIMUM . ́:right/</span>
<a name="l02435"></a>02435 <span class="comment">        6</span>
<a name="l02436"></a>02436 <span class="comment">        if y:p ¤  ́</span>
<a name="l02437"></a>02437 <span class="comment">        7</span>
<a name="l02438"></a>02438 <span class="comment">        T RANSPLANT .T; y; y:right/</span>
<a name="l02439"></a>02439 <span class="comment">        8</span>
<a name="l02440"></a>02440 <span class="comment">        y:right D  ́:right</span>
<a name="l02441"></a>02441 <span class="comment">        9</span>
<a name="l02442"></a>02442 <span class="comment">        y:right:p D y</span>
<a name="l02443"></a>02443 <span class="comment">        10</span>
<a name="l02444"></a>02444 <span class="comment">        T RANSPLANT .T;  ́; y/</span>
<a name="l02445"></a>02445 <span class="comment">        11</span>
<a name="l02446"></a>02446 <span class="comment">        y:left D  ́:left</span>
<a name="l02447"></a>02447 <span class="comment">        12</span>
<a name="l02448"></a>02448 <span class="comment">        y:left:p D y</span>
<a name="l02449"></a>02449 <span class="comment"></span>
<a name="l02450"></a>02450 <span class="comment"></span>
<a name="l02451"></a>02451 <span class="comment"></span>
<a name="l02452"></a>02452 <span class="comment">        RB-D ELETE -F IXUP .T; x/</span>
<a name="l02453"></a>02453 <span class="comment">        1 while x ¤ T:root and x:color == BLACK</span>
<a name="l02454"></a>02454 <span class="comment">        2</span>
<a name="l02455"></a>02455 <span class="comment">        if x == x:p:left</span>
<a name="l02456"></a>02456 <span class="comment">        3</span>
<a name="l02457"></a>02457 <span class="comment">        w D x:p:right</span>
<a name="l02458"></a>02458 <span class="comment">        4</span>
<a name="l02459"></a>02459 <span class="comment">        if w:color == RED</span>
<a name="l02460"></a>02460 <span class="comment">        5</span>
<a name="l02461"></a>02461 <span class="comment">        w:color D BLACK</span>
<a name="l02462"></a>02462 <span class="comment">        6</span>
<a name="l02463"></a>02463 <span class="comment">        x:p:color D RED</span>
<a name="l02464"></a>02464 <span class="comment">        7</span>
<a name="l02465"></a>02465 <span class="comment">        L EFT-ROTATE .T; x:p/</span>
<a name="l02466"></a>02466 <span class="comment">        8</span>
<a name="l02467"></a>02467 <span class="comment">        w D x:p:right</span>
<a name="l02468"></a>02468 <span class="comment">        9</span>
<a name="l02469"></a>02469 <span class="comment">        if w:left:color == BLACK and w:right:color == BLACK</span>
<a name="l02470"></a>02470 <span class="comment">        10</span>
<a name="l02471"></a>02471 <span class="comment">        w:color D RED</span>
<a name="l02472"></a>02472 <span class="comment">        11</span>
<a name="l02473"></a>02473 <span class="comment">        x D x:p</span>
<a name="l02474"></a>02474 <span class="comment">        12</span>
<a name="l02475"></a>02475 <span class="comment">        else if w:right:color == BLACK</span>
<a name="l02476"></a>02476 <span class="comment">        13</span>
<a name="l02477"></a>02477 <span class="comment">        w:left:color D BLACK</span>
<a name="l02478"></a>02478 <span class="comment">        14</span>
<a name="l02479"></a>02479 <span class="comment">        w:color D RED</span>
<a name="l02480"></a>02480 <span class="comment">        15</span>
<a name="l02481"></a>02481 <span class="comment">        R IGHT-ROTATE .T; w/</span>
<a name="l02482"></a>02482 <span class="comment">        16</span>
<a name="l02483"></a>02483 <span class="comment">        w D x:p:right</span>
<a name="l02484"></a>02484 <span class="comment">        17</span>
<a name="l02485"></a>02485 <span class="comment">        w:color D x:p:color</span>
<a name="l02486"></a>02486 <span class="comment">        18</span>
<a name="l02487"></a>02487 <span class="comment">        x:p:color D BLACK</span>
<a name="l02488"></a>02488 <span class="comment">        19</span>
<a name="l02489"></a>02489 <span class="comment">        w:right:color D BLACK</span>
<a name="l02490"></a>02490 <span class="comment">        20</span>
<a name="l02491"></a>02491 <span class="comment">        L EFT-ROTATE .T; x:p/</span>
<a name="l02492"></a>02492 <span class="comment">        21</span>
<a name="l02493"></a>02493 <span class="comment">        x D T:root</span>
<a name="l02494"></a>02494 <span class="comment">        22</span>
<a name="l02495"></a>02495 <span class="comment">        else (same as then clause with “right” and “left” exchanged)</span>
<a name="l02496"></a>02496 <span class="comment">        23 x:color D BLACK</span>
<a name="l02497"></a>02497 <span class="comment">*/</span>
<a name="l02498"></a>02498             }
<a name="l02499"></a>02499 
<a name="l02512"></a><a class="code" href="classaed2_1_1iterator.html#a0a0e62b2a2c0fb98f431164c66a6e388">02512</a>                 <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1iterator.html#a0a0e62b2a2c0fb98f431164c66a6e388" title="Elimina el valor cuya clave es {key}.">erase</a>(<span class="keyword">const</span> Key &amp;key) {
<a name="l02513"></a>02513                     <span class="comment">//completar</span>
<a name="l02514"></a>02514                 }
<a name="l02515"></a>02515 
<a name="l02530"></a><a class="code" href="classaed2_1_1iterator.html#ac98b533e402839c99d33d3118906c38f">02530</a>                 <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1iterator.html#ac98b533e402839c99d33d3118906c38f" title="Vacia el diccionario.">clear</a>() {
<a name="l02531"></a>02531                     <span class="comment">//completar</span>
<a name="l02532"></a>02532                 }
<a name="l02533"></a>02533 
<a name="l02557"></a><a class="code" href="classaed2_1_1iterator.html#a8ec2215b2dfaf6ddd57b1e0b00d8d3d2">02557</a>                 <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1iterator.html#a8ec2215b2dfaf6ddd57b1e0b00d8d3d2" title="Intercambia el contenido de {*this} y {other}.">swap</a>(<a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a> &amp;other) {
<a name="l02558"></a>02558                     <span class="keyword">using</span> <a class="code" href="classaed2_1_1iterator.html#a8ec2215b2dfaf6ddd57b1e0b00d8d3d2" title="Intercambia el contenido de {*this} y {other}.">std::swap</a>;
<a name="l02559"></a>02559                     <a class="code" href="classaed2_1_1iterator.html#a8ec2215b2dfaf6ddd57b1e0b00d8d3d2" title="Intercambia el contenido de {*this} y {other}.">swap</a>(lt, other.lt);
<a name="l02560"></a>02560                     <a class="code" href="classaed2_1_1iterator.html#a8ec2215b2dfaf6ddd57b1e0b00d8d3d2" title="Intercambia el contenido de {*this} y {other}.">swap</a>(count, other.count);
<a name="l02561"></a>02561 
<a name="l02562"></a>02562                     <a class="code" href="classaed2_1_1iterator.html#a8ec2215b2dfaf6ddd57b1e0b00d8d3d2" title="Intercambia el contenido de {*this} y {other}.">swap</a>(header.parent, other.header.parent);
<a name="l02563"></a>02563                     <a class="code" href="classaed2_1_1iterator.html#a8ec2215b2dfaf6ddd57b1e0b00d8d3d2" title="Intercambia el contenido de {*this} y {other}.">swap</a>(header.child[0], other.header.child[0]);
<a name="l02564"></a>02564                     <a class="code" href="classaed2_1_1iterator.html#a8ec2215b2dfaf6ddd57b1e0b00d8d3d2" title="Intercambia el contenido de {*this} y {other}.">swap</a>(header.child[1], other.header.child[1]);
<a name="l02565"></a>02565                     <span class="keywordflow">if</span> (root() != <span class="keyword">nullptr</span>) root()-&gt;parent = &amp;header;
<a name="l02566"></a>02566                     <span class="keywordflow">if</span> (other.root() != <span class="keyword">nullptr</span>) other.root()-&gt;parent = &amp;other.header;
<a name="l02567"></a>02567 
<a name="l02568"></a>02568                     <span class="comment">//nota: cuando el arbol es vacio, los child de header apuntan a header.  Notar que quedan apuntando mal despues del swap</span>
<a name="l02569"></a>02569                     <span class="keywordflow">if</span> (root() == <span class="keyword">nullptr</span>) header.child[0] = header.child[1] = &amp;header;
<a name="l02570"></a>02570                     <span class="keywordflow">if</span> (other.root() == <span class="keyword">nullptr</span>) other.header.child[0] = other.header.child[1] = &amp;other.header;
<a name="l02571"></a>02571                 }
<a name="l02573"></a>02573 
<a name="l02575"></a>02575 
<a name="l02576"></a>02576 
<a name="l02577"></a>02577 
<a name="l02578"></a>02578 
<a name="l02593"></a><a class="code" href="classaed2_1_1iterator.html#af8901de173468531c58458b581d345a6">02593</a>                 <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1iterator.html#af8901de173468531c58458b581d345a6" title="Devuelve un iterador al primer valor del diccionario.">begin</a>() {
<a name="l02594"></a>02594                     <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it(header-&gt;child[0]);
<a name="l02595"></a>02595                     <span class="keywordflow">return</span> it;
<a name="l02596"></a>02596                 }
<a name="l02597"></a>02597 
<a name="l02599"></a><a class="code" href="classaed2_1_1iterator.html#a102b6014e02bf9a1ed551f9cdea027d0">02599</a>                 <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> <a class="code" href="classaed2_1_1iterator.html#a102b6014e02bf9a1ed551f9cdea027d0">begin</a>()<span class="keyword"> const </span>{
<a name="l02600"></a>02600                     <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> it(header-&gt;child[0]);
<a name="l02601"></a>02601                     <span class="keywordflow">return</span> it;
<a name="l02602"></a>02602                 }
<a name="l02603"></a>02603 
<a name="l02605"></a><a class="code" href="classaed2_1_1iterator.html#a89cca73bd2e4df39de7c412c441d6da1">02605</a>                 <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> <a class="code" href="classaed2_1_1iterator.html#a89cca73bd2e4df39de7c412c441d6da1">cbegin</a>() {
<a name="l02606"></a>02606                     <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> it(header-&gt;child[0]);
<a name="l02607"></a>02607                     <span class="keywordflow">return</span> it;
<a name="l02608"></a>02608                 }
<a name="l02609"></a>02609 
<a name="l02624"></a><a class="code" href="classaed2_1_1iterator.html#a67caf9468be999e9be96b7add5d79946">02624</a>                 <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1iterator.html#a67caf9468be999e9be96b7add5d79946" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>() {
<a name="l02625"></a>02625                     <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it();
<a name="l02626"></a>02626                     <span class="keywordflow">return</span> it;
<a name="l02627"></a>02627                 }
<a name="l02628"></a>02628 
<a name="l02630"></a><a class="code" href="classaed2_1_1iterator.html#ae08e4f49cbbd2dfa756609aceb431633">02630</a>                 <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> <a class="code" href="classaed2_1_1iterator.html#ae08e4f49cbbd2dfa756609aceb431633">end</a>()<span class="keyword"> const </span>{
<a name="l02631"></a>02631                     <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> it();
<a name="l02632"></a>02632                     <span class="keywordflow">return</span> it;
<a name="l02633"></a>02633                 }
<a name="l02634"></a>02634 
<a name="l02636"></a><a class="code" href="classaed2_1_1iterator.html#a2d0d226485d9280d16a739d0b9dae525">02636</a>                 <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> <a class="code" href="classaed2_1_1iterator.html#a2d0d226485d9280d16a739d0b9dae525">cend</a>() {
<a name="l02637"></a>02637                     <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> it();
<a name="l02638"></a>02638                     <span class="keywordflow">return</span> it;
<a name="l02639"></a>02639                 }
<a name="l02640"></a>02640 
<a name="l02655"></a><a class="code" href="classaed2_1_1iterator.html#a296638725dce2fc10316d18563eb3131">02655</a>                 reverse_iterator <a class="code" href="classaed2_1_1iterator.html#a296638725dce2fc10316d18563eb3131" title="Devuelve un iterador al primer valor del diccionario, en un recorrido al revés.">rbegin</a>() {
<a name="l02656"></a>02656                     reverse_iterator it = reverse_iterator(header-&gt;child[1]);
<a name="l02657"></a>02657                     <span class="keywordflow">return</span> it;
<a name="l02658"></a>02658                 }
<a name="l02659"></a>02659 
<a name="l02661"></a><a class="code" href="classaed2_1_1iterator.html#ae6b990a72769289b9cd0236a91c3b43f">02661</a>                 const_reverse_iterator <a class="code" href="classaed2_1_1iterator.html#ae6b990a72769289b9cd0236a91c3b43f">rbegin</a>()<span class="keyword"> const </span>{
<a name="l02662"></a>02662                     const_reverse_iterator it = reverse_iterator(header-&gt;child[1]);
<a name="l02663"></a>02663                     <span class="keywordflow">return</span> it;
<a name="l02664"></a>02664                 }
<a name="l02665"></a>02665 
<a name="l02667"></a><a class="code" href="classaed2_1_1iterator.html#aa4b6ce667258581859351db42cfd3ee4">02667</a>                 const_reverse_iterator <a class="code" href="classaed2_1_1iterator.html#aa4b6ce667258581859351db42cfd3ee4">crbegin</a>() {
<a name="l02668"></a>02668                     const_reverse_iterator it = reverse_iterator(header-&gt;child[1]);
<a name="l02669"></a>02669                     <span class="keywordflow">return</span> it;
<a name="l02670"></a>02670                 }
<a name="l02671"></a>02671 
<a name="l02686"></a><a class="code" href="classaed2_1_1iterator.html#a0007a7962bc6aca8dca78c2a49bd581d">02686</a>                 reverse_iterator <a class="code" href="classaed2_1_1iterator.html#a0007a7962bc6aca8dca78c2a49bd581d" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario, en un recorrido al re...">rend</a>() {
<a name="l02687"></a>02687                     reverse_iterator it = reverse_iterator();
<a name="l02688"></a>02688                     <span class="keywordflow">return</span> it;
<a name="l02689"></a>02689                 }
<a name="l02690"></a>02690 
<a name="l02692"></a><a class="code" href="classaed2_1_1iterator.html#a1230bf2063ce100c830129a24dea854d">02692</a>                 const_reverse_iterator <a class="code" href="classaed2_1_1iterator.html#a1230bf2063ce100c830129a24dea854d">rend</a>()<span class="keyword"> const </span>{
<a name="l02693"></a>02693                     const_reverse_iterator it = reverse_iterator();
<a name="l02694"></a>02694                     <span class="keywordflow">return</span> it;
<a name="l02695"></a>02695                 }
<a name="l02696"></a>02696 
<a name="l02698"></a><a class="code" href="classaed2_1_1iterator.html#a2e31ad7ded06c666c6c37c5d30bb41af">02698</a>                 const_reverse_iterator <a class="code" href="classaed2_1_1iterator.html#a2e31ad7ded06c666c6c37c5d30bb41af">crend</a>() {
<a name="l02699"></a>02699                     const_reverse_iterator it = reverse_iterator();
<a name="l02700"></a>02700                     <span class="keywordflow">return</span> it;
<a name="l02701"></a>02701                 }
<a name="l02703"></a>02703 
<a name="l02733"></a><a class="code" href="classaed2_1_1iterator_1_1iterator.html">02733</a>                 <span class="keyword">class </span><a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> {
<a name="l02734"></a>02734                     <span class="keyword">using</span> Node = <span class="keyword">typename</span> map::Node;
<a name="l02735"></a>02735                     <span class="keyword">using</span> InnerNode = <span class="keyword">typename</span> map::InnerNode;
<a name="l02736"></a>02736                 <span class="keyword">public</span>:
<a name="l02737"></a>02737 
<a name="l02739"></a>02739                     <span class="keyword">using</span> iterator_category = std::bidirectional_iterator_tag;
<a name="l02741"></a>02741                     <span class="keyword">using</span> value_type = map::value_type;
<a name="l02743"></a>02743                     <span class="keyword">using</span> reference = map::reference;
<a name="l02745"></a>02745                     <span class="keyword">using</span> pointer = map::pointer;
<a name="l02747"></a>02747                     <span class="keyword">using</span> difference_type = std::ptrdiff_t;
<a name="l02748"></a>02748 
<a name="l02777"></a><a class="code" href="classaed2_1_1iterator_1_1iterator.html#ae488782067dfba96b447080b0db1ed2c">02777</a>                     <a class="code" href="classaed2_1_1iterator_1_1iterator.html#ae488782067dfba96b447080b0db1ed2c" title="Crea un iterador nulo.">iterator</a>() : n(nullptr) {}
<a name="l02778"></a>02778 
<a name="l02793"></a><a class="code" href="classaed2_1_1iterator_1_1iterator.html#abc83982866d43a19f4b43e7ea7660402">02793</a>                     reference <a class="code" href="classaed2_1_1iterator_1_1iterator.html#abc83982866d43a19f4b43e7ea7660402" title="Retorna el valor apuntado por {*this}.">operator*</a>()<span class="keyword"> const </span>{
<a name="l02794"></a>02794                         <span class="keywordflow">return</span> n.value();
<a name="l02795"></a>02795                     }
<a name="l02796"></a>02796 
<a name="l02815"></a><a class="code" href="classaed2_1_1iterator_1_1iterator.html#a4d20575249803ebf2604c1e58debc5cf">02815</a>                     pointer <a class="code" href="classaed2_1_1iterator_1_1iterator.html#a4d20575249803ebf2604c1e58debc5cf" title="Retorna la dirección del valor apuntado por {*this}.">operator-&gt;</a>()<span class="keyword"> const </span>{
<a name="l02816"></a>02816                         <span class="comment">//completar</span>
<a name="l02817"></a>02817                     }
<a name="l02818"></a>02818 
<a name="l02837"></a><a class="code" href="classaed2_1_1iterator_1_1iterator.html#a457fdf0ed06c88121b441424f1c99f4f">02837</a>                     <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> &amp;<a class="code" href="classaed2_1_1iterator_1_1iterator.html#a457fdf0ed06c88121b441424f1c99f4f" title="Avanza el iterador a la siguiente posición.">operator++</a>() {
<a name="l02838"></a>02838                         <span class="keywordflow">if</span> (n-&gt;child[1] == <span class="keyword">nullptr</span>) {
<a name="l02839"></a>02839                             <span class="keywordflow">while</span> (n-&gt;parent-&gt;child[1] == n)
<a name="l02840"></a>02840                                 n = n-&gt;parent;
<a name="l02841"></a>02841                         }
<a name="l02842"></a>02842                         <span class="keywordflow">if</span> (n-&gt;child[1] != <span class="keyword">nullptr</span>)
<a name="l02843"></a>02843                             n = n-&gt;child[1];
<a name="l02844"></a>02844                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02845"></a>02845                     }
<a name="l02846"></a>02846 
<a name="l02865"></a><a class="code" href="classaed2_1_1iterator_1_1iterator.html#aa2023454f3ce45f7da4ef23d7a7f6749">02865</a>                     <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1iterator_1_1iterator.html#aa2023454f3ce45f7da4ef23d7a7f6749" title="Avanza el iterador a la siguiente posición.">operator++</a>(<span class="keywordtype">int</span>) {
<a name="l02866"></a>02866                         <span class="keywordflow">if</span> (n-&gt;child[1] == <span class="keyword">nullptr</span>) {
<a name="l02867"></a>02867                             <span class="keywordflow">while</span> (n-&gt;parent-&gt;child[1] == n)
<a name="l02868"></a>02868                                 n = n-&gt;parent;
<a name="l02869"></a>02869                         }
<a name="l02870"></a>02870                         <span class="keywordflow">if</span> (n-&gt;child[1] != <span class="keyword">nullptr</span>)
<a name="l02871"></a>02871                             n = n-&gt;child[1];
<a name="l02872"></a>02872                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02873"></a>02873                     }
<a name="l02874"></a>02874 
<a name="l02893"></a><a class="code" href="classaed2_1_1iterator_1_1iterator.html#a260692ee1d51f87ef547b4a798fc2de5">02893</a>                     <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> &amp;<a class="code" href="classaed2_1_1iterator_1_1iterator.html#a260692ee1d51f87ef547b4a798fc2de5" title="Retrocede el iterador a la posición anterior.">operator--</a>() {
<a name="l02894"></a>02894                         <span class="keywordflow">if</span> (n-&gt;child[0] == <span class="keyword">nullptr</span>) {
<a name="l02895"></a>02895                             <span class="keywordflow">while</span> (n-&gt;parent-&gt;child[0] == n)
<a name="l02896"></a>02896                                 n = n-&gt;parent;
<a name="l02897"></a>02897                         }
<a name="l02898"></a>02898                         <span class="keywordflow">if</span> (n-&gt;child[0] != <span class="keyword">nullptr</span>)
<a name="l02899"></a>02899                             n = n-&gt;child[0];
<a name="l02900"></a>02900                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02901"></a>02901                     }
<a name="l02902"></a>02902 
<a name="l02921"></a><a class="code" href="classaed2_1_1iterator_1_1iterator.html#a6bd61026c75767d0d41e45229144e9d0">02921</a>                     <a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> <a class="code" href="classaed2_1_1iterator_1_1iterator.html#a6bd61026c75767d0d41e45229144e9d0" title="Retrocede el iterador a la posición anterior.">operator--</a>(<span class="keywordtype">int</span>) {
<a name="l02922"></a>02922                         <span class="keywordflow">if</span> (n-&gt;child[0] == <span class="keyword">nullptr</span>) {
<a name="l02923"></a>02923                             <span class="keywordflow">while</span> (n-&gt;parent-&gt;child[0] == n)
<a name="l02924"></a>02924                                 n = n-&gt;parent;
<a name="l02925"></a>02925                         }
<a name="l02926"></a>02926                         <span class="keywordflow">if</span> (n-&gt;child[0] != <span class="keyword">nullptr</span>)
<a name="l02927"></a>02927                             n = n-&gt;child[0];
<a name="l02928"></a>02928                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02929"></a>02929                     }
<a name="l02930"></a>02930 
<a name="l02951"></a><a class="code" href="classaed2_1_1iterator_1_1iterator.html#a479ef64daa1f0e82b05fa1f80d57f479">02951</a>                     <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1iterator_1_1iterator.html#a479ef64daa1f0e82b05fa1f80d57f479" title="Operador de igualdad.">operator==</a>(<a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> other)<span class="keyword"> const </span>{
<a name="l02952"></a>02952                         <span class="keywordflow">return</span> (n == other.n);
<a name="l02953"></a>02953                     }
<a name="l02954"></a>02954 
<a name="l02956"></a><a class="code" href="classaed2_1_1iterator_1_1iterator.html#a8facdf09114b97042cf3d6403ba1d719">02956</a>                     <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1iterator_1_1iterator.html#a8facdf09114b97042cf3d6403ba1d719" title="idem !|operator==">operator!=</a>(<a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> other)<span class="keyword"> const </span>{
<a name="l02957"></a>02957                         <span class="keywordflow">return</span> (n != other.n);
<a name="l02958"></a>02958                     }
<a name="l02959"></a>02959 
<a name="l02960"></a>02960                 <span class="keyword">private</span>:
<a name="l02981"></a>02981                     <a class="code" href="classaed2_1_1iterator_1_1iterator.html#ae488782067dfba96b447080b0db1ed2c" title="Crea un iterador nulo.">iterator</a>(Node *pos) : n(pos) {}
<a name="l02982"></a>02982 
<a name="l02993"></a>02993                     operator Node *()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> n; }
<a name="l02995"></a>02995 
<a name="l03014"></a>03014 
<a name="l03015"></a>03015 
<a name="l03016"></a>03016 
<a name="l03019"></a><a class="code" href="classaed2_1_1iterator_1_1iterator.html#aeda338414e516b47761f994fb78056c6">03019</a>                     Node *n{<span class="keyword">nullptr</span>};
<a name="l03020"></a>03020 
<a name="l03022"></a>03022                     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>;
<a name="l03023"></a>03023                 };
<a name="l03024"></a>03024 
<a name="l03031"></a><a class="code" href="classaed2_1_1iterator_1_1const__iterator.html">03031</a>                 <span class="keyword">class </span><a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> {
<a name="l03032"></a>03032                     <span class="keyword">using</span> Node = <span class="keyword">const</span> <span class="keyword">typename</span> map::Node;
<a name="l03033"></a>03033                     <span class="keyword">using</span> InnerNode = <span class="keyword">const</span> <span class="keyword">typename</span> map::InnerNode;
<a name="l03034"></a>03034                 <span class="keyword">public</span>:
<a name="l03035"></a>03035                     <span class="keyword">using</span> iterator_category = std::bidirectional_iterator_tag;
<a name="l03036"></a>03036                     <span class="keyword">using</span> value_type = map::value_type;
<a name="l03037"></a>03037                     <span class="keyword">using</span> reference = map::const_reference;
<a name="l03038"></a>03038                     <span class="keyword">using</span> pointer = map::const_pointer;
<a name="l03039"></a>03039                     <span class="keyword">using</span> difference_type = std::ptrdiff_t;
<a name="l03040"></a>03040 
<a name="l03042"></a><a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#aaa51a026552b907959961fb5e890f786">03042</a>                     <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#aaa51a026552b907959961fb5e890f786" title="Ver aed2::map::iterator::iterator()">const_iterator</a>() {}
<a name="l03043"></a>03043 
<a name="l03061"></a><a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#a721711310bb4fc525e4ce9a2b13f7ce9">03061</a>                     <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#a721711310bb4fc525e4ce9a2b13f7ce9" title="Constructor desde un iterador modificable.">const_iterator</a>(<a class="code" href="classaed2_1_1iterator_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a> it) {
<a name="l03062"></a>03062                         <span class="comment">//completar</span>
<a name="l03063"></a>03063                     }
<a name="l03064"></a>03064 
<a name="l03066"></a><a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#ab3071f59219b331e17a68c89cc4cca15">03066</a>                     reference <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#ab3071f59219b331e17a68c89cc4cca15" title="Ver aed2::map::iterator::operator*()">operator*</a>()<span class="keyword"> const </span>{
<a name="l03067"></a>03067                         <span class="comment">//completar</span>
<a name="l03068"></a>03068                     }
<a name="l03069"></a>03069 
<a name="l03071"></a><a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#a3744a7cb5e8a35ff13663ece424b70f1">03071</a>                     pointer <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#a3744a7cb5e8a35ff13663ece424b70f1" title="Ver aed2::map::iterator::operator-&gt;()">operator-&gt;</a>()<span class="keyword"> const </span>{
<a name="l03072"></a>03072                         <span class="comment">//completar</span>
<a name="l03073"></a>03073                     }
<a name="l03074"></a>03074 
<a name="l03076"></a><a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#acf3320ad50b0c151117e2384ec784330">03076</a>                     <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> &amp;<a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#acf3320ad50b0c151117e2384ec784330" title="Ver aed2::map::iterator::operator++()">operator++</a>() {
<a name="l03077"></a>03077                         <span class="comment">//completar</span>
<a name="l03078"></a>03078                     }
<a name="l03079"></a>03079 
<a name="l03081"></a><a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#a27088afe8fffc9d7fdc2f1596b401d46">03081</a>                     <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#a27088afe8fffc9d7fdc2f1596b401d46" title="Ver aed2::map::iterator::operator++(int)">operator++</a>(<span class="keywordtype">int</span>) {
<a name="l03082"></a>03082                         <span class="comment">//completar</span>
<a name="l03083"></a>03083                     }
<a name="l03084"></a>03084 
<a name="l03086"></a><a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#a1aac8371db66fcc4035863537b554b99">03086</a>                     <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> &amp;<a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#a1aac8371db66fcc4035863537b554b99" title="Ver aed2::map::iterator::operator--()">operator--</a>() {
<a name="l03087"></a>03087                         <span class="comment">//completar</span>
<a name="l03088"></a>03088                     }
<a name="l03089"></a>03089 
<a name="l03091"></a><a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#a7e421ccf4290b2945d538c9991df7c74">03091</a>                     <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#a7e421ccf4290b2945d538c9991df7c74" title="Ver aed2::map::iterator::operator--(int)">operator--</a>(<span class="keywordtype">int</span>) {
<a name="l03092"></a>03092                         <span class="comment">//completar</span>
<a name="l03093"></a>03093                     }
<a name="l03094"></a>03094 
<a name="l03096"></a><a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#a235f70b91b190e0948f5542261303386">03096</a>                     <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#a235f70b91b190e0948f5542261303386" title="Ver aed2::map::iterator::operator==()">operator==</a>(<a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> other)<span class="keyword"> const </span>{
<a name="l03097"></a>03097                         <span class="comment">//completar</span>
<a name="l03098"></a>03098                     }
<a name="l03099"></a>03099 
<a name="l03101"></a><a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#aab85ac017cb4e8404fe243691b8c867f">03101</a>                     <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#aab85ac017cb4e8404fe243691b8c867f" title="Ver aed2::map::iterator::operator!=()">operator!=</a>(<a class="code" href="classaed2_1_1iterator_1_1const__iterator.html" title="Parte del módulo que implementa los iteradores que no permiten la modificación de los significados...">const_iterator</a> other)<span class="keyword"> const </span>{
<a name="l03102"></a>03102                         <span class="comment">//completar</span>
<a name="l03103"></a>03103                     }
<a name="l03104"></a>03104 
<a name="l03105"></a>03105                 <span class="keyword">private</span>:
<a name="l03107"></a>03107                     <a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#aaa51a026552b907959961fb5e890f786" title="Ver aed2::map::iterator::iterator()">const_iterator</a>(Node *pos) : n(pos) {}
<a name="l03108"></a>03108 
<a name="l03110"></a>03110                     operator Node *()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> n; }
<a name="l03111"></a>03111 
<a name="l03113"></a><a class="code" href="classaed2_1_1iterator_1_1const__iterator.html#aeda338414e516b47761f994fb78056c6">03113</a>                     Node *n{<span class="keyword">nullptr</span>};
<a name="l03114"></a>03114 
<a name="l03115"></a>03115                     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map</a>;
<a name="l03116"></a>03116                 };
<a name="l03117"></a>03117 
<a name="l03118"></a>03118                 <span class="keyword">private</span>:
<a name="l03119"></a>03119                 <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classaed2_1_1iterator.html" title="Parte del módulo que implementa los iteradores que permiten la modificación de los significados...">iterator</a>;
<a name="l03120"></a>03120                 <span class="keyword">friend</span> <span class="keyword">class </span>const_iterator;
<a name="l03121"></a>03121 
<a name="l03131"></a>03131                 <span class="keyword">enum class</span> Color {
<a name="l03132"></a>03132                     Red, Black, Header
<a name="l03133"></a>03133                 };
<a name="l03134"></a>03134 
<a name="l03151"></a>03151                 <span class="keyword">struct </span>Node {
<a name="l03153"></a>03153                     Node *child[2]{<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>};
<a name="l03155"></a>03155                     Node *parent{<span class="keyword">nullptr</span>};
<a name="l03157"></a>03157                     Color color{Color::Red};
<a name="l03158"></a>03158 
<a name="l03160"></a>03160 
<a name="l03161"></a>03161 
<a name="l03162"></a>03162 
<a name="l03163"></a>03163 
<a name="l03171"></a>03171                     Node() : color(Color::Header) {
<a name="l03172"></a>03172                         child[0] = child[1] = <span class="keyword">this</span>;
<a name="l03173"></a>03173                     }
<a name="l03174"></a>03174 
<a name="l03185"></a>03185                     Node(Node *p, Color c = Color::Red) : parent(p), color(c) {}
<a name="l03187"></a>03187 
<a name="l03202"></a>03202                     <span class="keyword">virtual</span> ~Node() {}
<a name="l03203"></a>03203 
<a name="l03204"></a>03204 
<a name="l03206"></a>03206 
<a name="l03207"></a>03207 
<a name="l03208"></a>03208 
<a name="l03209"></a>03209 
<a name="l03227"></a>03227                     <span class="keywordtype">bool</span> is_header()<span class="keyword"> const </span>{
<a name="l03228"></a>03228                         <span class="keywordflow">return</span> color == Color::Header;
<a name="l03229"></a>03229                     }
<a name="l03230"></a>03230 
<a name="l03243"></a>03243                     value_type &amp;value() {
<a name="l03244"></a>03244                         assert(not is_header());
<a name="l03245"></a>03245                         <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>InnerNode *<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;_value;
<a name="l03246"></a>03246                     }
<a name="l03247"></a>03247 
<a name="l03249"></a>03249                     <span class="keyword">const</span> value
<a name="l03250"></a>03250 
<a name="l03251"></a>03251                             _type
<a name="l03252"></a>03252                     &amp;
<a name="l03253"></a>03253 
<a name="l03254"></a>03254                     value()<span class="keyword"> const </span>{
<a name="l03255"></a>03255                         assert(not is_header());
<a name="l03256"></a>03256                         <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>InnerNode *<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;_value;
<a name="l03257"></a>03257                     }
<a name="l03258"></a>03258 
<a name="l03271"></a>03271                     <span class="keyword">const</span> Key &amp;key()<span class="keyword"> const </span>{
<a name="l03272"></a>03272                         assert(not is_header());
<a name="l03273"></a>03273                         <span class="keywordflow">return</span> value().first;
<a name="l03274"></a>03274                     }
<a name="l03275"></a>03275 
<a name="l03277"></a>03277 
<a name="l03278"></a>03278 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l03279"></a>03279 <span class="preprocessor"></span>
<a name="l03285"></a>03285                     <span class="keywordtype">void</span> print(<span class="keywordtype">int</span> tab = 0)<span class="keyword"> const </span>{
<a name="l03286"></a>03286                         std::cout &lt;&lt; std::string(tab, <span class="charliteral">&#39; &#39;</span>) &lt;&lt; value().first &lt;&lt; <span class="stringliteral">&quot;-&gt;&quot;</span> &lt;&lt; value().second &lt;&lt; <span class="stringliteral">&quot;   (&quot;</span> &lt;&lt; (color == Color::Red ? <span class="stringliteral">&quot;Red)&quot;</span> : <span class="stringliteral">&quot;Black)&quot;</span>) &lt;&lt; std::endl;
<a name="l03287"></a>03287                         <span class="keywordflow">if</span>(child[0]) child[0]-&gt;print(tab + 2);
<a name="l03288"></a>03288                         <span class="keywordflow">if</span>(child[1]) child[1]-&gt;print(tab + 2);
<a name="l03289"></a>03289                     }
<a name="l03290"></a>03290 
<a name="l03291"></a>03291 <span class="preprocessor">#endif</span>
<a name="l03292"></a>03292 <span class="preprocessor"></span>                };
<a name="l03293"></a>03293 
<a name="l03310"></a>03310                 <span class="keyword">struct </span>InnerNode : <span class="keyword">public</span> Node {
<a name="l03312"></a>03312                     value_type _value;
<a name="l03313"></a>03313                 };
<a name="l03314"></a>03314 
<a name="l03316"></a>03316 
<a name="l03337"></a>03337 
<a name="l03338"></a>03338 
<a name="l03339"></a>03339 
<a name="l03343"></a>03343                 Compare lt;
<a name="l03345"></a>03345                 <span class="keywordtype">size_t</span> count{0};
<a name="l03347"></a>03347                 Node header;
<a name="l03349"></a>03349 
<a name="l03351"></a>03351 
<a name="l03352"></a>03352 
<a name="l03353"></a>03353 
<a name="l03354"></a>03354 
<a name="l03359"></a>03359                 <span class="keyword">inline</span> InnerNode *root() { <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>InnerNode *<span class="keyword">&gt;</span>(header.parent); }
<a name="l03360"></a>03360 
<a name="l03362"></a>03362                 <span class="keyword">inline</span> <span class="keyword">const</span> InnerNode *root()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>InnerNode *<span class="keyword">&gt;</span>(header.parent); }
<a name="l03364"></a>03364 
<a name="l03366"></a>03366 
<a name="l03367"></a>03367 
<a name="l03368"></a>03368 
<a name="l03375"></a>03375                 <span class="keyword">inline</span> <span class="keywordtype">bool</span> eq(<span class="keyword">const</span> Key &amp;k1, <span class="keyword">const</span> Key &amp;k2)<span class="keyword"> const </span>{
<a name="l03376"></a>03376                     <span class="keywordflow">return</span> lt(k1, k2) == lt(k2, k1);
<a name="l03377"></a>03377                 }
<a name="l03378"></a>03378             };
<a name="l03379"></a>03379 
<a name="l03381"></a>03381 
<a name="l03382"></a>03382 
<a name="l03383"></a>03383 
<a name="l03384"></a>03384 
<a name="l03407"></a>03407             <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l03408"></a><a class="code" href="classaed2_1_1map.html#ab32f94f4767358534ab704c98d23ad89">03408</a>             <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map.html#ab32f94f4767358534ab704c98d23ad89" title="Operador de igualdad entre dos diccionarios.">operator==</a>(<span class="keyword">const</span> <a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map&lt;K, V, C&gt;</a> &amp;m) {
<a name="l03409"></a>03409                 <span class="keywordflow">return</span> size() == m.size() and std::equal(<a class="code" href="namespaceaed2.html#a669d2fcf59e6ec1fe40105ba395768b6" title="Devuelve un iterador al primer valor del diccionario.">begin</a>(), <a class="code" href="namespaceaed2.html#a3a9c18730be5c97fa5eafebd3aef61ed" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>(), m.begin());
<a name="l03410"></a>03410             }
<a name="l03411"></a>03411 
<a name="l03418"></a>03418             <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l03419"></a><a class="code" href="classaed2_1_1map.html#a11627296a0eb71c87e69caa89fbd94eb">03419</a>             <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map.html#a11627296a0eb71c87e69caa89fbd94eb" title="Renombre de not({m1} == {m2})">operator!=</a>(<span class="keyword">const</span> <a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map&lt;K, V, C&gt;</a> &amp;m) {
<a name="l03420"></a>03420                 <span class="keywordflow">return</span> not(<span class="keyword">this</span> == m);
<a name="l03421"></a>03421             }
<a name="l03422"></a>03422 
<a name="l03446"></a>03446             <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l03447"></a><a class="code" href="classaed2_1_1map.html#a4d766795e9a996ed79f8c08fbd1676cd">03447</a>             <span class="keywordtype">bool</span> operator&lt;(const map&lt;K, V, C&gt; &amp;m) {
<a name="l03448"></a>03448                 <span class="keywordflow">return</span> (std::lexicographical_compare(<a class="code" href="namespaceaed2.html#a669d2fcf59e6ec1fe40105ba395768b6" title="Devuelve un iterador al primer valor del diccionario.">begin</a>(), <a class="code" href="namespaceaed2.html#a3a9c18730be5c97fa5eafebd3aef61ed" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>(), m.<a class="code" href="classaed2_1_1iterator.html#af8901de173468531c58458b581d345a6" title="Devuelve un iterador al primer valor del diccionario.">begin</a>(), <a class="code" href="namespaceaed2.html#a3a9c18730be5c97fa5eafebd3aef61ed" title="Devuelve un iterador apuntando a la posición pasando-el-ultimo del diccionario.">end</a>(), lt));
<a name="l03449"></a>03449                 <span class="comment">//completar.  Vale usar std::lexicographical_compare</span>
<a name="l03450"></a>03450             }
<a name="l03451"></a>03451 
<a name="l03458"></a>03458             <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l03459"></a><a class="code" href="classaed2_1_1map.html#a964e8d831c17d77f457eb87a2f22d0d0">03459</a>             <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map.html#a964e8d831c17d77f457eb87a2f22d0d0" title="Renombre de {m2} &lt; {m1}.">operator&gt;</a>(<span class="keyword">const</span> <a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map&lt;K, V, C&gt;</a> &amp;m) {
<a name="l03460"></a>03460                 <span class="keywordflow">return</span> m &lt; <span class="keyword">this</span>;
<a name="l03461"></a>03461             }
<a name="l03462"></a>03462 
<a name="l03469"></a>03469             <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l03470"></a><a class="code" href="classaed2_1_1map.html#a42f66578aa7e80b91eded54ac6b745cf">03470</a>             <span class="keywordtype">bool</span> operator&lt;=(const map&lt;K, V, C&gt; &amp;m) {
<a name="l03471"></a>03471                 <span class="keywordflow">return</span> not(<span class="keyword">this</span> &lt; m);
<a name="l03472"></a>03472             }
<a name="l03473"></a>03473 
<a name="l03480"></a>03480             <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l03481"></a><a class="code" href="classaed2_1_1map.html#a68bf5a52b77446e43584fb67d22c365e">03481</a>             <span class="keywordtype">bool</span> <a class="code" href="classaed2_1_1map.html#a68bf5a52b77446e43584fb67d22c365e" title="Renombre de not({m1} &lt; {m2})">operator&gt;=</a>(<span class="keyword">const</span> <a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map&lt;K, V, C&gt;</a> &amp;m) {
<a name="l03482"></a>03482                 <span class="keywordflow">return</span> !(<span class="keyword">this</span> &lt; m);
<a name="l03483"></a>03483             }
<a name="l03485"></a>03485 
<a name="l03487"></a>03487 
<a name="l03488"></a>03488 
<a name="l03489"></a>03489 
<a name="l03504"></a>03504             <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keyword">class</span> V, <span class="keyword">class</span> C&gt;
<a name="l03505"></a><a class="code" href="classaed2_1_1map.html#ae9604c72935a908c0c98a9f40bc38eda">03505</a>             <span class="keywordtype">void</span> <a class="code" href="classaed2_1_1map.html#ae9604c72935a908c0c98a9f40bc38eda" title="Implementa la función swap para cumplir con el concepto swappable.">swap</a>(<a class="code" href="classaed2_1_1map.html" title="Modulo que implementa un diccionario.">map&lt;K, V, C&gt;</a> &amp;m) {
<a name="l03506"></a>03506                 this.<a class="code" href="namespaceaed2.html#ab24ac4be44835194ce27a61969e4a292" title="Intercambia el contenido de {*this} y {other}.">swap</a>(m);
<a name="l03507"></a>03507             }
<a name="l03508"></a>03508         };
<a name="l03509"></a>03509 <span class="preprocessor">#endif </span><span class="comment">/* MAP_H_ */</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 2 2017 12:23:51 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
